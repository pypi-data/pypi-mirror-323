var Br=Object.defineProperty;var cr=e=>{throw TypeError(e)};var Fr=(e,t,r)=>t in e?Br(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var W=(e,t,r)=>Fr(e,typeof t!="symbol"?t+"":t,r),Xe=(e,t,r)=>t.has(e)||cr("Cannot "+r);var h=(e,t,r)=>(Xe(e,t,"read from private field"),r?r.call(e):t.get(e)),_=(e,t,r)=>t.has(e)?cr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),D=(e,t,r,n)=>(Xe(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),B=(e,t,r)=>(Xe(e,t,"access private method"),r);var Ke=(e,t,r,n)=>({set _(a){D(e,t,a,r)},get _(){return h(e,t,n)}});import{c as Tt,e as Gr,I as He,a as Kt,b as qr,f as Xr,h as dr,H as Kr}from"../chunks/index.9t2DwPqS.js";import{R as Ur,w as Pt,r as Xt,g as Ue,d as Yr}from"../chunks/control.DkBfWYwi.js";import{g as N,a as w,t as V,s as ce,b as dt,j as Tr}from"../chunks/legacy.MjBvvGLm.js";import{V as Jr,a2 as Zr,W as Qr,P as $r,C as Mt,ap as Z,F as c,_ as Y,I as p,B as ht,aT as tn,ao as en,A as rn,aE as nn,aU as an,aF as sn,p as G,f as I,c as A,K as wt,r as T,t as Q,a as q,s as M,aS as ar}from"../chunks/utils.Bch77dSh.js";import{s as ut}from"../chunks/render.EBua_3s6.js";import{a as et,i as rt,r as it,p as x,l as je,s as xt}from"../chunks/props.ChTZ5wkX.js";import{d as K,f as ft,r as on,g as kr,b as Be,e as Fe,i as ln,s as ur}from"../chunks/index.CBZfw3Mb.js";import{c as Ot,b as Er}from"../chunks/index-client.BvjtSJS-.js";import{i as cn}from"../chunks/lifecycle.DsUxRvcF.js";const dn=[];function un(e,t=!1){return fe(e,new Map,"",dn)}function fe(e,t,r,n,a=null){if(typeof e=="object"&&e!==null){const s=t.get(e);if(s!==void 0)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Jr(e)){const l=[];t.set(e,l),a!==null&&t.set(a,l);for(let o=0;o<e.length;o+=1)l.push(fe(e[o],t,r,n));return l}if(Zr(e)===Qr){const l={};t.set(e,l),a!==null&&t.set(a,l);for(var i in e)l[i]=fe(e[i],t,r,n);return l}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return fe(e.toJSON(),t,r,n,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function It(e,t,r,n){var a=e.__styles??(e.__styles={});a[t]!==r&&(a[t]=r,r==null?e.style.removeProperty(t):e.style.setProperty(t,r,""))}var mt,Nt,Yt,ve,Ar;const me=class me{constructor(t){_(this,ve);_(this,mt,new WeakMap);_(this,Nt);_(this,Yt);D(this,Yt,t)}observe(t,r){var n=h(this,mt).get(t)||new Set;return n.add(r),h(this,mt).set(t,n),B(this,ve,Ar).call(this).observe(t,h(this,Yt)),()=>{var a=h(this,mt).get(t);a.delete(r),a.size===0&&(h(this,mt).delete(t),h(this,Nt).unobserve(t))}}};mt=new WeakMap,Nt=new WeakMap,Yt=new WeakMap,ve=new WeakSet,Ar=function(){return h(this,Nt)??D(this,Nt,new ResizeObserver(t=>{for(var r of t){me.entries.set(r.target,r);for(var n of h(this,mt).get(r.target)||[])n(r)}}))},W(me,"entries",new WeakMap);let Qe=me;var hn=new Qe({box:"border-box"});function Ye(e,t,r){var n=hn.observe(e,()=>r(e[t]));$r(()=>(Mt(()=>r(e[t])),n))}const fn=async e=>{const t={data:void 0,error:void 0};try{const r=await Tt.GET("/api/datasets/{dataset_id}",{params:{path:{dataset_id:e}}});if(r.error)throw new Error(JSON.stringify(r.error,null,2));if(!r.data)throw new Error("No data");t.data=r.data}catch(r){t.error="Error loading dataset: "+String(r)}return t},gn=async()=>{const e={data:void 0,error:void 0};try{const{data:t}=await Tt.GET("/api/datasets");if(!t)throw new Error("No data");const r=t.sort((a,i)=>Date.parse(i.created_at)-Date.parse(a.created_at))[0].dataset_id,n=await Tt.GET("/api/datasets/{dataset_id}",{params:{path:{dataset_id:r}}});if(n.error)throw new Error(JSON.stringify(n.error,null,2));if(!n.data)throw new Error("No data");e.data=n.data}catch(t){e.error="Error loading dataset: "+String(t)}return e},hr=async({dataset_id:e,filtered_labels:t,dimensions:r})=>{const n={data:[],error:void 0};try{const a=await Tt.GET("/api/annotations/count",{params:{query:{dataset_id:e,...t&&{filtered_labels:t},...(r==null?void 0:r.min_width)&&{min_width:r.min_width},...(r==null?void 0:r.max_width)&&{max_width:r.max_width},...(r==null?void 0:r.min_height)&&{min_height:r.min_height},...(r==null?void 0:r.max_height)&&{max_height:r.max_height}}}});if(a.error)throw new Error(JSON.stringify(a.error,null,2));if(!a.data)throw new Error("No annotation counts found");n.data=a.data.map(i=>({label_name:i.label_name,total_count:i.total_count,current_count:i.current_count}))}catch(a){n.error="Error loading annotation counts: "+String(a)}return n},vn=async({dataset_id:e,annotation_labels:t})=>{const r={data:{min_width:0,max_width:0,min_height:0,max_height:0},error:void 0};try{const n=await Tt.GET("/api/samples/dimensions",{params:{query:{dataset_id:e,annotation_labels:t}}});if(n.error)throw new Error(JSON.stringify(n.error,null,2));if(!n.data)throw new Error("No dimension bounds data");r.data=n.data}catch(n){r.error="Error loading dimension bounds: "+String(n)}return r};function mn(e,t){throw new Ur(e,t.toString())}new TextEncoder;function bn(){const e=Pt({width:300,height:Math.round(185.41409147095177)});return{sampleSize:e,updateWidth:r=>{e.set({width:r,height:Math.round(r/1.618)})}}}const _n=async({dataset_id:e})=>{const t={data:void 0,error:void 0};try{const r=await Tt.GET("/api/datasets/{dataset_id}/tags",{params:{path:{dataset_id:e}}});if(r.error)throw new Error(JSON.stringify(r.error,null,2));if(!r.data)throw new Error("No data");t.data=r.data}catch(r){t.error="Error loading tags: "+String(r)}return t},wn=async e=>{const t=Pt([]),r=Pt(new Set),n=e?await _n({dataset_id:e}):null;n&&n.data&&t.set(n.data);const a=i=>{r.update(s=>(s.has(i)?s.delete(i):s.add(i),new Set([...s])))};return{tags:Xt(t),tagsSelected:Xt(r),tagSelectionToggle:a}},fr=(e,t)=>e.map(r=>({...r,selected:t.includes(r.label_name)})),xn=async({url:e})=>{const t=e.searchParams.get("dataset_id"),r=Pt({min_width:0,max_width:0,min_height:0,max_height:0}),n=Pt([]),a=g=>{s.update(m=>m.includes(g)?m.filter(S=>S!==g):[...m,g]),f()},i=g=>{g&&(r.set(g),f())},s=Pt([]),{tags:l,tagsSelected:o,tagSelectionToggle:u}=await wn(t??void 0),d={dataset:void 0,annotations:n,toggleAnnotationSelection:a,selectedAnnotations:s,tags:l,tagSelectionToggle:u,tagsSelected:o,dimensions:r,updateDimensions:i,sampleSize:bn(),error:void 0};if(!t){const{data:g,error:m}=await gn();if(m)return d.error=m,d;if(g)mn(307,`/?dataset_id=${g.dataset_id}`);else return d.error="No dataset found",d}const f=async()=>{try{const g=Ue(s),m=await hr({dataset_id:t,filtered_labels:g.length>0?g:void 0,dimensions:Ue(r)});n.update(()=>fr(m.data||[],g))}catch(g){d.error=`Failed to load annotations: ${String(g)}`}},{data:v,error:b}=await fn(t);if(v){const g=v.dataset_id;if(g){const[m,S]=await Promise.all([hr({dataset_id:g}),vn({dataset_id:g})]);n.set(fr(m.data||[],Ue(s))),r.set(S.data),d.error=b||m.error||S.error}}return d.dataset=v,d},Qa=Object.freeze(Object.defineProperty({__proto__:null,load:xn},Symbol.toStringTag,{value:"Module"}));function pn(e){return typeof e=="function"}function yn(e){return e!==null&&typeof e=="object"}const Ut=Symbol("box"),sr=Symbol("is-writable");function Sn(e){return yn(e)&&Ut in e}function Tn(e){return y.isBox(e)&&sr in e}function y(e){let t=Z(et(e));return{[Ut]:!0,[sr]:!0,get current(){return c(t)},set current(r){Y(t,et(r))}}}function kn(e,t){const r=p(e);return t?{[Ut]:!0,[sr]:!0,get current(){return c(r)},set current(n){t(n)}}:{[Ut]:!0,get current(){return e()}}}function En(e){return y.isBox(e)?e:pn(e)?y.with(e):y(e)}function An(e){return Object.entries(e).reduce((t,[r,n])=>y.isBox(n)?(y.isWritableBox(n)?Object.defineProperty(t,r,{get(){return n.current},set(a){n.current=a}}):Object.defineProperty(t,r,{get(){return n.current}}),t):Object.assign(t,{[r]:n}),{})}function Cn(e){return y.isWritableBox(e)?{[Ut]:!0,get current(){return e.current}}:e}y.from=En;y.with=kn;y.flatten=An;y.readonly=Cn;y.isBox=Sn;y.isWritableBox=Tn;function Rn(...e){return function(t){var r;for(const n of e)if(n){if(t.defaultPrevented)return;typeof n=="function"?n.call(this,t):(r=n.current)==null||r.call(this,t)}}}var gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cr={},vr=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,In=/\n/g,Pn=/^\s*/,Mn=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,On=/^:\s*/,Nn=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Vn=/^[;\s]*/,Dn=/^\s+|\s+$/g,Ln=`
`,mr="/",br="*",pt="",Wn="comment",zn="declaration",Hn=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function a(g){var m=g.match(In);m&&(r+=m.length);var S=g.lastIndexOf(Ln);n=~S?g.length-S:n+g.length}function i(){var g={line:r,column:n};return function(m){return m.position=new s(g),u(),m}}function s(g){this.start=g,this.end={line:r,column:n},this.source=t.source}s.prototype.content=e;function l(g){var m=new Error(t.source+":"+r+":"+n+": "+g);if(m.reason=g,m.filename=t.source,m.line=r,m.column=n,m.source=e,!t.silent)throw m}function o(g){var m=g.exec(e);if(m){var S=m[0];return a(S),e=e.slice(S.length),m}}function u(){o(Pn)}function d(g){var m;for(g=g||[];m=f();)m!==!1&&g.push(m);return g}function f(){var g=i();if(!(mr!=e.charAt(0)||br!=e.charAt(1))){for(var m=2;pt!=e.charAt(m)&&(br!=e.charAt(m)||mr!=e.charAt(m+1));)++m;if(m+=2,pt===e.charAt(m-1))return l("End of comment missing");var S=e.slice(2,m-2);return n+=2,a(S),e=e.slice(m),n+=2,g({type:Wn,comment:S})}}function v(){var g=i(),m=o(Mn);if(m){if(f(),!o(On))return l("property missing ':'");var S=o(Nn),O=g({type:zn,property:_r(m[0].replace(vr,pt)),value:S?_r(S[0].replace(vr,pt)):pt});return o(Vn),O}}function b(){var g=[];d(g);for(var m;m=v();)m!==!1&&(g.push(m),d(g));return g}return u(),b()};function _r(e){return e?e.replace(Dn,pt):pt}var jn=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cr,"__esModule",{value:!0});var wr=Cr.default=Fn,Bn=jn(Hn);function Fn(e,t){var r=null;if(!e||typeof e!="string")return r;var n=(0,Bn.default)(e),a=typeof t=="function";return n.forEach(function(i){if(i.type==="declaration"){var s=i.property,l=i.value;a?t(s,l,i):l&&(r=r||{},r[s]=l)}}),r}const Gn=wr.default||wr,qn=/\d/,Xn=["-","_","/","."];function Kn(e=""){if(!qn.test(e))return e!==e.toLowerCase()}function Un(e){const t=[];let r="",n,a;for(const i of e){const s=Xn.includes(i);if(s===!0){t.push(r),r="",n=void 0;continue}const l=Kn(i);if(a===!1){if(n===!1&&l===!0){t.push(r),r=i,n=l;continue}if(n===!0&&l===!1&&r.length>1){const o=r.at(-1);t.push(r.slice(0,Math.max(0,r.length-1))),r=o+i,n=l;continue}}r+=i,n=l,a=s}return t.push(r),t}function Rr(e){return e?Un(e).map(t=>Jn(t)).join(""):""}function Yn(e){return Zn(Rr(e||""))}function Jn(e){return e?e[0].toUpperCase()+e.slice(1):""}function Zn(e){return e?e[0].toLowerCase()+e.slice(1):""}function ue(e){if(!e)return{};const t={};function r(n,a){if(n.startsWith("-moz-")||n.startsWith("-webkit-")||n.startsWith("-ms-")||n.startsWith("-o-")){t[Rr(n)]=a;return}if(n.startsWith("--")){t[n]=a;return}t[Yn(n)]=a}return Gn(e,r),t}function Ir(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}function Qn(e,t){const r=RegExp(e,"g");return n=>{if(typeof n!="string")throw new TypeError(`expected an argument of type string, but got ${typeof n}`);return n.match(r)?n.replace(r,t):n}}const $n=Qn(/[A-Z]/,e=>`-${e.toLowerCase()}`);function ti(e){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected an argument of type object, but got ${typeof e}`);return Object.keys(e).map(t=>`${$n(t)}: ${e[t]};`).join(`
`)}function or(e={}){return ti(e).replace(`
`," ")}const Pr={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};or(Pr);function ei(e){var t;return e.length>2&&e.startsWith("on")&&e[2]===((t=e[2])==null?void 0:t.toLowerCase())}function kt(...e){const t={...e[0]};for(let r=1;r<e.length;r++){const n=e[r];for(const a in n){const i=t[a],s=n[a],l=typeof i=="function",o=typeof s=="function";if(l&&ei(a)){const u=i,d=s;t[a]=Rn(u,d)}else if(l&&o)t[a]=Ir(i,s);else if(a==="class"&&typeof i=="string"&&typeof s=="string")t[a]=Gr(i,s);else if(a==="style"){const u=typeof i=="object",d=typeof s=="object",f=typeof i=="string",v=typeof s=="string";if(u&&d)t[a]={...i,...s};else if(u&&v){const b=ue(s);t[a]={...i,...b}}else if(f&&d){const b=ue(i);t[a]={...b,...s}}else if(f&&v){const b=ue(i),g=ue(s);t[a]={...b,...g}}else u?t[a]=i:d&&(t[a]=s)}else t[a]=s!==void 0?s:i}}return typeof t.style=="object"&&(t.style=or(t.style).replaceAll(`
`," ")),t.hidden!==!0&&(t.hidden=void 0),t.disabled!==!0&&(t.disabled=void 0),t}function Gt({id:e,ref:t,deps:r=()=>!0,onRefChange:n=()=>{},getRootNode:a=()=>typeof document<"u"?document:void 0}){const i=p(()=>r()),s=p(()=>a());ht(()=>(e.current,c(i),c(s),Mt(()=>{var o;const l=(o=c(s))==null?void 0:o.getElementById(e.current);l?t.current=l:t.current=null,n(t.current)}))),ht(()=>()=>{t.current=null,n(null)})}var Vt,Jt,bt,yt,_t,$e,tr;class ri{constructor(t,r){_(this,_t);_(this,Vt,Z());_(this,Jt);_(this,bt,0);_(this,yt,null);h(this,Vt).v=et(t),D(this,Jt,r)}get current(){return tn()?ht(()=>(Ke(this,bt)._++,h(this,bt)===1&&B(this,_t,$e).call(this,!0),()=>{en().then(()=>{Ke(this,bt)._--,h(this,bt)===0&&B(this,_t,tr).call(this)})})):h(this,bt)===0&&(B(this,_t,$e).call(this,!1),B(this,_t,tr).call(this)),c(h(this,Vt))}}Vt=new WeakMap,Jt=new WeakMap,bt=new WeakMap,yt=new WeakMap,_t=new WeakSet,$e=function(t){D(this,yt,h(this,Jt).call(this,r=>{Y(h(this,Vt),et(r))},t)??null)},tr=function(){h(this,yt)!==null&&(h(this,yt).call(this),D(this,yt,null))};new ri(null,(e,t)=>{function r(){e(document.activeElement)}if(r(),!!t)return document.addEventListener("focusin",r),document.addEventListener("focusout",r),()=>{document.removeEventListener("focusin",r),document.removeEventListener("focusout",r)}});function ni(e,t){switch(e){case"post":ht(t);break;case"pre":rn(t);break}}function Mr(e,t,r,n={}){const{lazy:a=!1}=n;let i=!a,s=Array.isArray(e)?[]:void 0;ni(t,()=>{const l=Array.isArray(e)?e.map(u=>u()):e();if(!i){i=!0,s=l;return}const o=Mt(()=>r(l,s));return s=l,o})}function er(e,t,r){Mr(e,"post",t,r)}function ii(e,t,r){Mr(e,"pre",t,r)}er.pre=ii;function ai(e){return e?"true":"false"}function ge(e){return e?"":void 0}function si(e){return e?"true":"false"}function oi(e,t){return t?"mixed":e?"true":"false"}function li(e){return e?"true":void 0}const Or="ArrowDown",Nr="ArrowLeft",Vr="ArrowRight",Dr="ArrowUp",Lr="End",ci="Enter",Wr="Home",di=" ";function ui(e){return e instanceof Element||e instanceof SVGElement}function xr(e,t){return nn(e,t)}function hi(e,t){const r=e,n=typeof e=="symbol"?e.description:e;if(!an(r)){if(t===void 0)throw new Error(`Missing context dependency: ${n} and no fallback was provided.`);return t}return sn(e)}function fi(e,t){return typeof e=="string"&&t===void 0?`${e}Context`:Array.isArray(e)&&t===void 0?`${e[0]}Context`:`${e}Context`}function lr(e,t,r=!0){const n=fi(e,t),a=Symbol.for(`bits-ui.${n}`),i=n;function s(o){const u=hi(r?a:i,o);if(u===void 0)throw new Error(`Context \`${n}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`);return u}function l(o){return xr(r?a:i,o)}return[l,s]}globalThis.bitsIdCounter??(globalThis.bitsIdCounter={current:0});function qt(e="bits"){return globalThis.bitsIdCounter.current++,`${e}-${globalThis.bitsIdCounter.current}`}function pr(){}function he(e,t,r,n){const a=Array.isArray(t)?t:[t];return a.forEach(i=>e.addEventListener(i,r,n)),()=>{a.forEach(i=>e.removeEventListener(i,r,n))}}function gi(e,t){return e>=0&&e<t.length}const vi="data-checkbox-root";var Dt,Zt,Qt,St,$t,te,be,_e,we,ee,rr,xe,pe;class mi{constructor(t,r=null){_(this,ee);_(this,Dt);_(this,Zt);_(this,Qt);W(this,"checked");_(this,St);_(this,$t);_(this,te);W(this,"value");W(this,"indeterminate");W(this,"group",null);_(this,be,p(()=>this.group&&this.group.name.current?this.group.name.current:h(this,te).current));_(this,_e,p(()=>this.group&&this.group.required.current?!0:h(this,$t).current));_(this,we,p(()=>this.group&&this.group.disabled.current?!0:h(this,St).current));_(this,xe,p(()=>({checked:this.checked.current,indeterminate:this.indeterminate.current})));_(this,pe,p(()=>({id:h(this,Dt).current,role:"checkbox",type:h(this,Qt).current,disabled:this.trueDisabled,"aria-checked":oi(this.checked.current,this.indeterminate.current),"aria-required":si(this.trueRequired),"data-disabled":ge(this.trueDisabled),"data-state":_i(this.checked.current,this.indeterminate.current),[vi]:"",onclick:this.onclick,onkeydown:this.onkeydown})));this.checked=t.checked,D(this,St,t.disabled),D(this,$t,t.required),D(this,te,t.name),this.value=t.value,D(this,Zt,t.ref),D(this,Dt,t.id),this.indeterminate=t.indeterminate,D(this,Qt,t.type),this.group=r,this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),Gt({id:h(this,Dt),ref:h(this,Zt)}),er([()=>{var n;return un((n=this.group)==null?void 0:n.value.current)},()=>this.value.current],([n,a])=>{!n||!a||(this.checked.current=n.includes(a))}),er(()=>this.checked.current,n=>{var a,i;this.group&&(n?(a=this.group)==null||a.addValue(this.value.current):(i=this.group)==null||i.removeValue(this.value.current))})}get trueName(){return c(h(this,be))}get trueRequired(){return c(h(this,_e))}get trueDisabled(){return c(h(this,we))}onkeydown(t){h(this,St).current||(t.key===ci&&t.preventDefault(),t.key===di&&(t.preventDefault(),B(this,ee,rr).call(this)))}onclick(t){h(this,St).current||B(this,ee,rr).call(this)}get snippetProps(){return c(h(this,xe))}get props(){return c(h(this,pe))}}Dt=new WeakMap,Zt=new WeakMap,Qt=new WeakMap,St=new WeakMap,$t=new WeakMap,te=new WeakMap,be=new WeakMap,_e=new WeakMap,we=new WeakMap,ee=new WeakSet,rr=function(){this.indeterminate.current?(this.indeterminate.current=!1,this.checked.current=!0):this.checked.current=!this.checked.current},xe=new WeakMap,pe=new WeakMap;var ye,Se,Te;class bi{constructor(t){W(this,"root");_(this,ye,p(()=>this.root.group?!!(this.root.value.current!==void 0&&this.root.group.value.current.includes(this.root.value.current)):this.root.checked.current));_(this,Se,p(()=>!!this.root.trueName));_(this,Te,p(()=>({type:"checkbox",checked:this.root.checked.current===!0,disabled:this.root.trueDisabled,required:this.root.trueRequired,name:this.root.trueName,value:this.root.value.current,"aria-hidden":"true",style:or(Pr)})));this.root=t}get trueChecked(){return c(h(this,ye))}get shouldRender(){return c(h(this,Se))}get props(){return c(h(this,Te))}}ye=new WeakMap,Se=new WeakMap,Te=new WeakMap;function _i(e,t){return t?"indeterminate":e?"checked":"unchecked"}const[$a,wi]=lr("Checkbox.Group"),[xi,pi]=lr("Checkbox.Root");function yi(e){return xi(new mi(e,wi(null)))}function Si(){const e=pi();return new bi(e)}var Ti=V("<span><!></span>");function ki(e,t){G(t,!0);let r=it(t,["$$slots","$$events","$$legacy","children","child"]);const n={position:"absolute",border:0,width:"1px",display:"inline-block",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0 0 0 0)",whiteSpace:"nowrap",wordWrap:"normal"},a=p(()=>kt(r,{style:n}));var i=N(),s=I(i);rt(s,()=>t.child,l=>{var o=N(),u=I(o);K(u,()=>t.child,()=>({props:c(a)})),w(l,o)},l=>{var o=Ti();let u;var d=A(o);K(d,()=>t.children??wt),T(o),Q(()=>u=ft(o,u,{...c(a)})),w(l,o)}),w(e,i),q()}var Ei=V("<input>");function Ai(e,t){G(t,!1);const r=Si();cn();var n=N(),a=I(n);rt(a,()=>r.shouldRender,i=>{ki(i,{"aria-hidden":"true",children:(s,l)=>{var o=Ei();on(o);let u;Q(()=>u=ft(o,u,{...r.props,type:"checkbox",style:"display: none !important;"})),w(s,o)},$$slots:{default:!0}})}),w(e,n),q()}var Ci=V("<button><!></button>"),Ri=V("<!> <!>",1);function Ii(e,t){G(t,!0);let r=x(t,"checked",15,!1),n=x(t,"ref",15,null),a=x(t,"disabled",3,!1),i=x(t,"required",3,!1),s=x(t,"name",3,void 0),l=x(t,"value",3,"on"),o=x(t,"id",19,qt),u=x(t,"controlledChecked",3,!1),d=x(t,"indeterminate",15,!1),f=x(t,"controlledIndeterminate",3,!1),v=x(t,"type",3,"button"),b=it(t,["$$slots","$$events","$$legacy","checked","ref","onCheckedChange","children","disabled","required","name","value","id","controlledChecked","indeterminate","controlledIndeterminate","onIndeterminateChange","child","type"]);const g=yi({checked:y.with(()=>r(),k=>{var E,F;u()?(E=t.onCheckedChange)==null||E.call(t,k):(r(k),(F=t.onCheckedChange)==null||F.call(t,k))}),disabled:y.with(()=>a()??!1),required:y.with(()=>i()),name:y.with(()=>s()),value:y.with(()=>l()),id:y.with(()=>o()),ref:y.with(()=>n(),k=>n(k)),indeterminate:y.with(()=>d(),k=>{var E,F;f()?(E=t.onIndeterminateChange)==null||E.call(t,k):(d(k),(F=t.onIndeterminateChange)==null||F.call(t,k))}),type:y.with(()=>v())}),m=p(()=>kt({...b},g.props)),S=kr(),[O,L]=S;var z=Ri(),C=I(z);rt(C,()=>t.child,k=>{var E=N(),F=I(E);K(F,()=>t.child,()=>({props:c(m),...g.snippetProps})),w(k,E)},k=>{var E=Ci();const F=p(()=>L({...c(m)},[{attribute_name:"formaction"}]));let H;var nt=A(E);K(nt,()=>t.children??wt,()=>g.snippetProps),T(E),Q(()=>H=ft(E,H,{...c(F)})),w(k,E)});var P=M(C,2);Ai(P,{}),w(e,z),q()}const Pi="data-separator-root";var Lt,re,Wt,zt,ke;class Mi{constructor(t){_(this,Lt);_(this,re);_(this,Wt);_(this,zt);_(this,ke,p(()=>({id:h(this,Lt).current,role:h(this,zt).current?"none":"separator","aria-orientation":h(this,Wt).current,"aria-hidden":li(h(this,zt).current),"data-orientation":h(this,Wt).current,[Pi]:""})));D(this,Wt,t.orientation),D(this,zt,t.decorative),D(this,Lt,t.id),D(this,re,t.ref),Gt({id:h(this,Lt),ref:h(this,re)})}get props(){return c(h(this,ke))}}Lt=new WeakMap,re=new WeakMap,Wt=new WeakMap,zt=new WeakMap,ke=new WeakMap;function Oi(e){return new Mi(e)}var Ni=V("<div><!></div>");function Vi(e,t){G(t,!0);let r=x(t,"id",19,qt),n=x(t,"ref",15,null),a=x(t,"decorative",3,!1),i=x(t,"orientation",3,"horizontal"),s=it(t,["$$slots","$$events","$$legacy","id","ref","child","children","decorative","orientation"]);const l=Oi({ref:y.with(()=>n(),f=>n(f)),id:y.with(()=>r()),decorative:y.with(()=>a()),orientation:y.with(()=>i())}),o=p(()=>kt(s,l.props));var u=N(),d=I(u);rt(d,()=>t.child,f=>{var v=N(),b=I(v);K(b,()=>t.child,()=>({props:c(o)})),w(f,v)},f=>{var v=Ni();let b;var g=A(v);K(g,()=>t.children??wt),T(v),Q(()=>b=ft(v,b,{...c(o)})),w(f,v)}),w(e,u),q()}const Di="data-label-root";var ne,ie,Ee;class Li{constructor(t){_(this,ne);_(this,ie);_(this,Ee,p(()=>({[Di]:"",onmousedown:this.onmousedown})));D(this,ne,t.id),D(this,ie,t.ref),this.onmousedown=this.onmousedown.bind(this),Gt({id:h(this,ne),ref:h(this,ie)})}onmousedown(t){t.detail>1&&t.preventDefault()}get props(){return c(h(this,Ee))}}ne=new WeakMap,ie=new WeakMap,Ee=new WeakMap;function Wi(e){return new Li(e)}var zi=V("<label><!></label>");function Hi(e,t){G(t,!0);let r=x(t,"id",19,qt),n=x(t,"ref",15,null),a=it(t,["$$slots","$$events","$$legacy","children","child","id","ref","for"]);const i=Wi({id:y.with(()=>r()),ref:y.with(()=>n(),u=>n(u))}),s=p(()=>kt(a,i.props,{for:t.for}));var l=N(),o=I(l);rt(o,()=>t.child,u=>{var d=N(),f=I(d);K(f,()=>t.child,()=>({props:c(s)})),w(u,d)},u=>{var d=zi();let f;var v=A(d);K(v,()=>t.children??wt),T(d),Q(()=>f=ft(d,f,{...c(s),for:t.for})),w(u,d)}),w(e,l),q()}function ji(e,t,r){const n={position:"absolute"};return e==="lr"?(n.left=`${t}%`,n.right=`${r}%`):e==="rl"?(n.right=`${t}%`,n.left=`${r}%`):e==="bt"?(n.bottom=`${t}%`,n.top=`${r}%`):(n.top=`${t}%`,n.bottom=`${r}%`),n}function Bi(e,t){const r={position:"absolute"};return e==="lr"?(r.left=`${t}%`,r.translate="-50% 0"):e==="rl"?(r.right=`${t}%`,r.translate="50% 0"):e==="bt"?(r.bottom=`${t}%`,r.translate="0 50%"):(r.top=`${t}%`,r.translate="0 -50%"),r}function Fi(e,t,r){const n={position:"absolute"};return e==="lr"?(n.left=`${t}%`,n.translate=`${r}% 0`):e==="rl"?(n.right=`${t}%`,n.translate=`${-r}% 0`):e==="bt"?(n.bottom=`${t}%`,n.translate=`0 ${-r}%`):(n.top=`${t}%`,n.translate=`0 ${r}%`),n}function Je(e,t,r,n){const a=(e-(Number.isNaN(t)?0:t))%n;let i=Math.abs(a)*2>=n?e+Math.sign(a)*(n-Math.abs(a)):e-a;Number.isNaN(t)?!Number.isNaN(r)&&i>r&&(i=Math.floor(r/n)*n):i<t?i=t:!Number.isNaN(r)&&i>r&&(i=t+Math.floor((r-t)/n)*n);const s=n.toString(),l=s.indexOf("."),o=l>=0?s.length-l:0;if(o>0){const u=10**o;i=Math.round(i*u)/u}return i}const Gi="data-slider-root",yr="data-slider-thumb",qi="data-slider-range",Xi="data-slider-tick";var ae,se,oe,Ae,Ce,Re,Ie,Pe,Me,Oe,Ne,Ve;class Ki{constructor(t){W(this,"id");W(this,"ref");W(this,"value");W(this,"disabled");W(this,"orientation");W(this,"min");W(this,"max");W(this,"step");W(this,"dir");W(this,"autoSort");_(this,ae,Z(null));_(this,se,Z(!1));_(this,oe,Z(0));_(this,Ae,p(()=>this.orientation.current==="horizontal"?this.dir.current==="rtl"?"rl":"lr":this.dir.current==="rtl"?"tb":"bt"));W(this,"onValueCommit");_(this,Ce,t=>{const r=this.getAllThumbs();if(!r.length)return;for(const s of r)s.blur();const n=r.map(s=>{if(this.orientation.current==="horizontal"){const{left:l,right:o}=s.getBoundingClientRect();return Math.abs(t.clientX-(l+o)/2)}else{const{top:l,bottom:o}=s.getBoundingClientRect();return Math.abs(t.clientY-(l+o)/2)}}),a=r[n.indexOf(Math.min(...n))],i=r.indexOf(a);return{node:a,idx:i}});W(this,"handlePointerMove",t=>{if(!this.isActive||this.disabled.current)return;t.preventDefault(),t.stopPropagation();const r=this.ref.current,n=this.activeThumb;if(!r||!n)return;n.node.focus();const{left:a,right:i,top:s,bottom:l}=r.getBoundingClientRect(),o=this.direction;o==="lr"?this.applyPosition({clientXY:t.clientX,activeThumbIdx:n.idx,start:a,end:i}):o==="rl"?this.applyPosition({clientXY:t.clientX,activeThumbIdx:n.idx,start:i,end:a}):o==="bt"?this.applyPosition({clientXY:t.clientY,activeThumbIdx:n.idx,start:l,end:s}):o==="tb"&&this.applyPosition({clientXY:t.clientY,activeThumbIdx:n.idx,start:s,end:l})});W(this,"handlePointerDown",t=>{if(t.button!==0||this.disabled.current)return;const r=this.ref.current,n=h(this,Ce).call(this,t);if(!n||!r)return;const a=t.target;!ui(a)||!r.contains(a)||(t.preventDefault(),this.activeThumb=n,n.node.focus(),this.isActive=!0,this.handlePointerMove(t))});W(this,"handlePointerUp",()=>{this.disabled.current||(this.isActive&&this.onValueCommit.current(Mt(()=>this.value.current)),this.isActive=!1)});W(this,"getPositionFromValue",t=>{const r=this.min.current,n=this.max.current;return(t-r)/(n-r)*100});W(this,"getAllThumbs",()=>{const t=this.ref.current;return t?Array.from(t.querySelectorAll(`[${yr}]`)):[]});W(this,"updateValue",(t,r)=>{const n=this.value.current;if(!n.length){this.value.current.push(t);return}if(n[r]===t)return;const i=[...n];if(!gi(r,i))return;const s=i[r]>t?-1:1,l=()=>{var b;const f=r+s;i[r]=i[f],i[f]=t;const v=this.getAllThumbs();v.length&&((b=v[f])==null||b.focus(),this.activeThumb={node:v[f],idx:f})};if(this.autoSort.current&&(s===-1&&t<i[r-1]||s===1&&t>i[r+1])){l(),this.value.current=i;return}const o=this.min.current,u=this.max.current,d=this.step.current;i[r]=Je(t,o,u,d),this.value.current=i});_(this,Re,p(()=>{const t=this.value.current;return Array.from({length:t.length||1},(r,n)=>{const a=Mt(()=>this.currentThumbIdx);a<t.length&&Mt(()=>{this.currentThumbIdx=a+1});const i=t[n],s=this.getPositionFromValue(i??0),l=Bi(this.direction,s);return{role:"slider","aria-valuemin":this.min.current,"aria-valuemax":this.max.current,"aria-valuenow":i,"aria-disabled":ai(this.disabled.current),"aria-orientation":this.orientation.current,"data-value":i,tabindex:this.disabled.current?-1:0,style:l,[yr]:""}})}));_(this,Ie,p(()=>this.thumbsPropsArr.map((t,r)=>r)));_(this,Pe,p(()=>{const t=this.max.current,r=this.min.current,n=this.step.current,a=t-r;let i=Math.ceil(a/n);a%n==0&&(i+=1);const s=this.value.current;return Array.from({length:i},(l,o)=>{const u=o*(n/a)*100,d=o===0,f=o===i-1,v=d?0:f?-100:-50,b=Fi(this.direction,u,v),g=r+o*n,m=s.length===1?g<=s[0]:s[0]<=g&&g<=s[s.length-1];return{"data-disabled":ge(this.disabled.current),"data-orientation":this.orientation.current,"data-bounded":m?"":void 0,"data-value":g,style:b,[Xi]:""}})}));_(this,Me,p(()=>this.ticksPropsArr.map((t,r)=>r)));_(this,Oe,p(()=>({ticks:this.ticksRenderArr,thumbs:this.thumbsRenderArr})));_(this,Ne,p(()=>{if(!this.disabled.current)return this.orientation.current==="horizontal"?"pan-y":"pan-x"}));_(this,Ve,p(()=>({id:this.id.current,"data-orientation":this.orientation.current,"data-disabled":ge(this.disabled.current),style:{touchAction:c(h(this,Ne))},[Gi]:""})));this.id=t.id,this.ref=t.ref,this.disabled=t.disabled,this.orientation=t.orientation,this.min=t.min,this.max=t.max,this.step=t.step,this.dir=t.dir,this.autoSort=t.autoSort,this.value=t.value,this.onValueCommit=t.onValueCommit,Gt({id:this.id,ref:this.ref}),ht(()=>Ir(he(document,"pointerdown",this.handlePointerDown),he(document,"pointerup",this.handlePointerUp),he(document,"pointermove",this.handlePointerMove),he(document,"pointerleave",this.handlePointerUp))),ht(()=>{const r=this.step.current,n=this.min.current,a=this.max.current,i=this.value.current,s=o=>Je(o,n,a,r)===o,l=o=>Je(o,n,a,r);i.some(o=>!s(o))&&(this.value.current=i.map(l))})}get activeThumb(){return c(h(this,ae))}set activeThumb(t){Y(h(this,ae),et(t))}get isActive(){return c(h(this,se))}set isActive(t){Y(h(this,se),et(t))}get currentThumbIdx(){return c(h(this,oe))}set currentThumbIdx(t){Y(h(this,oe),et(t))}get direction(){return c(h(this,Ae))}applyPosition({clientXY:t,activeThumbIdx:r,start:n,end:a}){const i=this.min.current,s=this.max.current,o=(t-n)/(a-n)*(s-i)+i;if(o<i)this.updateValue(i,r);else if(o>s)this.updateValue(s,r);else{const u=this.step.current,d=Math.floor((o-i)/u),f=i+d*u+u/2,v=i+(d+1)*u+u/2,b=o>=f&&o<v?(d+1)*u+i:d*u+i;b<=s&&this.updateValue(b,r)}}get thumbsPropsArr(){return c(h(this,Re))}get thumbsRenderArr(){return c(h(this,Ie))}get ticksPropsArr(){return c(h(this,Pe))}get ticksRenderArr(){return c(h(this,Me))}get snippetProps(){return c(h(this,Oe))}get props(){return c(h(this,Ve))}}ae=new WeakMap,se=new WeakMap,oe=new WeakMap,Ae=new WeakMap,Ce=new WeakMap,Re=new WeakMap,Ie=new WeakMap,Pe=new WeakMap,Me=new WeakMap,Oe=new WeakMap,Ne=new WeakMap,Ve=new WeakMap;const Ui=[Nr,Vr,Dr,Or,Wr,Lr];var Ht,le,ct,De,Le;class Yi{constructor(t,r){_(this,Ht);_(this,le);_(this,ct);_(this,De,p(()=>{const t=h(this,ct).value.current,r=t.length>1?h(this,ct).getPositionFromValue(Math.min(...t)??0):0,n=100-h(this,ct).getPositionFromValue(Math.max(...t)??0);return{position:"absolute",...ji(h(this,ct).direction,r,n)}}));_(this,Le,p(()=>({id:h(this,Ht).current,"data-orientation":h(this,ct).orientation.current,"data-disabled":ge(h(this,ct).disabled.current),style:this.rangeStyles,[qi]:""})));D(this,Ht,t.id),D(this,le,t.ref),D(this,ct,r),Gt({id:h(this,Ht),ref:h(this,le)})}get rangeStyles(){return c(h(this,De))}get props(){return c(h(this,Le))}}Ht=new WeakMap,le=new WeakMap,ct=new WeakMap,De=new WeakMap,Le=new WeakMap;var jt,Bt,Ft,U,We,J,tt,ze;class Ji{constructor(t,r){_(this,J);_(this,jt);_(this,Bt);_(this,Ft);_(this,U);_(this,We,p(()=>h(this,U).disabled.current||h(this,U).disabled.current));_(this,ze,p(()=>({...h(this,U).thumbsPropsArr[h(this,Ft).current],id:h(this,jt).current,onkeydown:this.onkeydown})));D(this,jt,t.id),D(this,Bt,t.ref),D(this,U,r),D(this,Ft,t.index),Gt({id:h(this,jt),ref:h(this,Bt)}),this.onkeydown=this.onkeydown.bind(this)}onkeydown(t){if(c(h(this,We)))return;const r=h(this,Bt).current;if(!r)return;const n=h(this,U).getAllThumbs();if(!n.length)return;const a=n.indexOf(r);if(h(this,U).currentThumbIdx=a,!Ui.includes(t.key))return;t.preventDefault();const i=h(this,U).min.current,s=h(this,U).max.current,o=h(this,U).value.current[a],u=h(this,U).orientation.current,d=h(this,U).direction,f=h(this,U).step.current;switch(t.key){case Wr:B(this,J,tt).call(this,i);break;case Lr:B(this,J,tt).call(this,s);break;case Nr:if(u!=="horizontal")break;if(t.metaKey){const v=d==="rl"?s:i;B(this,J,tt).call(this,v)}else d==="rl"&&o<s?B(this,J,tt).call(this,o+f):d==="lr"&&o>i&&B(this,J,tt).call(this,o-f);break;case Vr:if(u!=="horizontal")break;if(t.metaKey){const v=d==="rl"?i:s;B(this,J,tt).call(this,v)}else d==="rl"&&o>i?B(this,J,tt).call(this,o-f):d==="lr"&&o<s&&B(this,J,tt).call(this,o+f);break;case Dr:if(t.metaKey){const v=d==="tb"?i:s;B(this,J,tt).call(this,v)}else d==="tb"&&o>i?B(this,J,tt).call(this,o-f):d!=="tb"&&o<s&&B(this,J,tt).call(this,o+f);break;case Or:if(t.metaKey){const v=d==="tb"?s:i;B(this,J,tt).call(this,v)}else d==="tb"&&o<s?B(this,J,tt).call(this,o+f):d!=="tb"&&o>i&&B(this,J,tt).call(this,o-f);break}h(this,U).onValueCommit.current(h(this,U).value.current)}get props(){return c(h(this,ze))}}jt=new WeakMap,Bt=new WeakMap,Ft=new WeakMap,U=new WeakMap,We=new WeakMap,J=new WeakSet,tt=function(t){h(this,U).updateValue(t,h(this,Ft).current)},ze=new WeakMap;const[Zi,zr]=lr("Slider.Root");function Qi(e){return Zi(new Ki(e))}function $i(e){return new Yi(e,zr())}function ta(e){return new Ji(e,zr())}var ea=V("<span><!></span>");function ra(e,t){G(t,!0);let r=x(t,"id",19,qt),n=x(t,"ref",15,null),a=x(t,"value",31,()=>et([])),i=x(t,"onValueChange",3,pr),s=x(t,"onValueCommit",3,pr),l=x(t,"disabled",3,!1),o=x(t,"min",3,0),u=x(t,"max",3,100),d=x(t,"step",3,1),f=x(t,"dir",3,"ltr"),v=x(t,"autoSort",3,!0),b=x(t,"orientation",3,"horizontal"),g=x(t,"controlledValue",3,!1),m=it(t,["$$slots","$$events","$$legacy","children","child","id","ref","value","onValueChange","onValueCommit","disabled","min","max","step","dir","autoSort","orientation","controlledValue"]);const S=Qi({id:y.with(()=>r()),ref:y.with(()=>n(),C=>n(C)),value:y.with(()=>a(),C=>{g()||a(C),i()(C)}),onValueCommit:y.with(()=>s()),disabled:y.with(()=>l()),min:y.with(()=>o()),max:y.with(()=>u()),step:y.with(()=>d()),dir:y.with(()=>f()),autoSort:y.with(()=>v()),orientation:y.with(()=>b())}),O=p(()=>kt(m,S.props));var L=N(),z=I(L);rt(z,()=>t.child,C=>{var P=N(),k=I(P);K(k,()=>t.child,()=>({props:c(O),...S.snippetProps})),w(C,P)},C=>{var P=ea();let k;var E=A(P);K(E,()=>t.children??wt,()=>S.snippetProps),T(P),Q(()=>k=ft(P,k,{...c(O)})),w(C,P)}),w(e,L),q()}var na=V("<span><!></span>");function ia(e,t){G(t,!0);let r=x(t,"ref",15,null),n=x(t,"id",19,qt),a=it(t,["$$slots","$$events","$$legacy","children","child","ref","id"]);const i=$i({id:y.with(()=>n()),ref:y.with(()=>r(),u=>r(u))}),s=p(()=>kt(a,i.props));var l=N(),o=I(l);rt(o,()=>t.child,u=>{var d=N(),f=I(d);K(f,()=>t.child,()=>({props:c(s)})),w(u,d)},u=>{var d=na();let f;var v=A(d);K(v,()=>t.children??wt),T(d),Q(()=>f=ft(d,f,{...c(s)})),w(u,d)}),w(e,l),q()}var aa=V("<span><!></span>");function sa(e,t){G(t,!0);let r=x(t,"ref",15,null),n=x(t,"id",19,qt),a=x(t,"disabled",3,!1),i=it(t,["$$slots","$$events","$$legacy","children","child","ref","id","index","disabled"]);const s=ta({id:y.with(()=>n()),ref:y.with(()=>r(),d=>r(d)),index:y.with(()=>t.index),disabled:y.with(()=>a())}),l=p(()=>kt(i,s.props));var o=N(),u=I(o);rt(u,()=>t.child,d=>{var f=N(),v=I(f);K(v,()=>t.child,()=>({props:c(l)})),w(d,f)},d=>{var f=aa();let v;var b=A(f);K(b,()=>t.children??wt),T(f),Q(()=>v=ft(f,v,{...c(l)})),w(d,f)}),w(e,o),q()}function oa(e,t){const r=je(t,["children","$$slots","$$events","$$legacy"]);He(e,xt({name:"check"},()=>r,{iconNode:[["path",{d:"M20 6 9 17l-5-5"}]],children:(a,i)=>{var s=N(),l=I(s);Be(l,t,"default",{},null),w(a,s)},$$slots:{default:!0}}))}function la(e,t){const r=je(t,["children","$$slots","$$events","$$legacy"]);He(e,xt({name:"minus"},()=>r,{iconNode:[["path",{d:"M5 12h14"}]],children:(a,i)=>{var s=N(),l=I(s);Be(l,t,"default",{},null),w(a,s)},$$slots:{default:!0}}))}var ca=V('<div class="flex size-4 items-center justify-center text-current"><!></div>');function Hr(e,t){G(t,!0);let r=x(t,"ref",15,null),n=x(t,"checked",15,!1),a=x(t,"indeterminate",15,!1),i=it(t,["$$slots","$$events","$$legacy","ref","checked","indeterminate","class"]);var s=N(),l=I(s),o=p(()=>Kt("border-primary ring-offset-background focus-visible:ring-ring data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground peer box-content size-4 shrink-0 rounded-sm border focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[disabled=true]:cursor-not-allowed data-[disabled=true]:opacity-50",t.class));Ot(l,()=>Ii,(u,d)=>{d(u,xt({get ref(){return r()},set ref(v){r(v)},get class(){return c(o)},get checked(){return n()},set checked(v){n(v)},get indeterminate(){return a()},set indeterminate(v){a(v)}},()=>i,{children:(v,b)=>{let g=()=>b==null?void 0:b().checked,m=()=>b==null?void 0:b().indeterminate;var S=ca(),O=A(S);rt(O,m,L=>{la(L,{class:"size-3.5"})},L=>{var z=p(()=>Kt("size-3.5",!g()&&"text-transparent"));oa(L,{get class(){return c(z)}})}),T(S),w(v,S)},$$slots:{default:!0}}))}),w(e,s),q()}function jr(e,t){G(t,!0);let r=x(t,"ref",15,null),n=it(t,["$$slots","$$events","$$legacy","ref","class"]);var a=N(),i=I(a),s=p(()=>Kt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t.class));Ot(i,()=>Hi,(l,o)=>{o(l,xt({get ref(){return r()},set ref(u){r(u)},get class(){return c(s)}},()=>n))}),w(e,a),q()}var da=V(' <span class="text-sm text-gray-500"> </span>',1),ua=V('<div class="flex items-center space-x-2 py-1"><!> <!></div>'),ha=V('<h2 class="mb-2 text-lg font-semibold">Labels</h2> <!>',1);function fa(e,t){G(t,!0);const r=ce(),n=()=>dt(a(),"$annotations",r);let a=x(t,"annotations",19,()=>[]);var i=ha(),s=M(I(i),2);Fe(s,1,n,({label_name:l,current_count:o,total_count:u,selected:d})=>l,(l,o)=>{let u=()=>c(o).label_name,d=()=>c(o).current_count,f=()=>c(o).total_count,v=()=>c(o).selected;var b=ua(),g=A(b);Hr(g,{get id(){return u()},get checked(){return v()},"aria-labelledby":"terms-label",onCheckedChange:()=>t.onToggleAnnotation(u())});var m=M(g,2),S=p(()=>`${u()}-label`);jr(m,{get id(){return c(S)},get for(){return u()},class:"cursor-pointer text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ",children:(O,L)=>{ar();var z=da(),C=I(z),P=M(C),k=A(P);T(P),Q(()=>{ut(C,`${u()??""} `),ut(k,`(${d()??""} of ${f()??""})`)}),w(O,z)},$$slots:{default:!0}}),T(b),w(l,b)}),w(e,i),q()}var ga=V('<div class="flex space-x-2 py-1"><!> <!></div>'),va=V("<p>No tag, create a tag</p>"),ma=V('<h2 class="mb-2 text-lg font-semibold">Tags</h2> <!>',1);function ba(e,t){G(t,!0);const r=ce(),n=()=>dt(t.tags,"$tags",r),a=()=>dt(t.tagsSelected,"$tagsSelected",r);var i=ma(),s=M(I(i),2);Fe(s,1,n,l=>l.tag_id,(l,o)=>{var u=ga();const d=p(()=>a().has(c(o).tag_id));var f=A(u),v=p(()=>`${c(o).tag_id}-label`);Hr(f,{get id(){return c(o).tag_id},get checked(){return c(d)},get"aria-labelledby"(){return c(v)},onCheckedChange:()=>t.tagSelectionToggle(c(o).tag_id)});var b=M(f,2),g=p(()=>`${c(o).tag_id}-label`);jr(b,{get id(){return c(g)},get for(){return c(o).tag_id},class:"cursor-pointer text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ",children:(m,S)=>{ar();var O=Tr();Q(()=>ut(O,c(o).name)),w(m,O)},$$slots:{default:!0}}),T(u),w(l,u)},l=>{var o=va();w(l,o)}),w(e,i),q()}var _a=V('<span class="bg-secondary relative h-2 w-full grow overflow-hidden rounded-full"><!></span> <!>',1);function nr(e,t){G(t,!0);let r=x(t,"ref",15,null),n=x(t,"value",31,()=>et([0])),a=it(t,["$$slots","$$events","$$legacy","ref","value","class"]);var i=N(),s=I(i),l=p(()=>Kt("relative flex w-full touch-none select-none items-center",t.class));Ot(s,()=>ra,(o,u)=>{u(o,xt({get ref(){return r()},set ref(f){r(f)},get value(){return n()},set value(f){n(f)},get class(){return c(l)}},()=>a,{children:(f,v)=>{let b=()=>v==null?void 0:v().thumbs;var g=_a(),m=I(g),S=A(m);Ot(S,()=>ia,(L,z)=>{z(L,{class:"bg-primary absolute h-full"})}),T(m);var O=M(m,2);Fe(O,17,b,ln,(L,z)=>{var C=N(),P=I(C);Ot(P,()=>sa,(k,E)=>{E(k,{get index(){return c(z)},class:"border-primary bg-background ring-offset-background focus-visible:ring-ring block size-5 rounded-full border-2 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})}),w(L,C)}),w(f,g)},$$slots:{default:!0}}))}),w(e,i),q()}function wa(e,t){const r=je(t,["children","$$slots","$$events","$$legacy"]);He(e,xt({name:"grid-3x3"},()=>r,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}],["path",{d:"M9 3v18"}],["path",{d:"M15 3v18"}]],children:(a,i)=>{var s=N(),l=I(s);Be(l,t,"default",{},null),w(a,s)},$$slots:{default:!0}}))}function xa(e,t){const r=je(t,["children","$$slots","$$events","$$legacy"]);He(e,xt({name:"image"},()=>r,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["circle",{cx:"9",cy:"9",r:"2"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}]],children:(a,i)=>{var s=N(),l=I(s);Be(l,t,"default",{},null),w(a,s)},$$slots:{default:!0}}))}var pa=V('<div class="w-300 flex space-x-4"><!> <!> <!></div>');function ya(e,t){G(t,!0);const r=x(t,"min",3,100),n=x(t,"max",3,1500);var a=pa(),i=A(a);wa(i,{class:"h-6 w-6"});var s=M(i,2),l=p(()=>[t.width]);nr(s,{class:"w-full flex-1",get value(){return c(l)},get min(){return r()},get max(){return n()},step:1,onValueChange:u=>t.onChange(u[0])});var o=M(s,2);xa(o,{class:"h-6 w-6"}),T(a),w(e,a),q()}var Sa=V('<div class="relative rounded border border-red-400 bg-red-100 px-4 py-3 text-red-700" role="alert"><strong class="block font-bold"> </strong> <span class="block"><!></span></div>');function Ta(e,t){G(t,!0);var r=Sa(),n=A(r),a=A(n,!0);T(n);var i=M(n,2),s=A(i);K(s,()=>t.children),T(i),T(r),Q(()=>ut(a,t.title)),w(e,r),q()}const ka=async({dataset_id:e,offset:t=0,limit:r=10,annotationLabels:n,tagIds:a,min_width:i,max_width:s,min_height:l,max_height:o})=>{const u={data:[],error:void 0};try{const d=i!==void 0?{min_width:i,max_width:s,min_height:l,max_height:o}:{},f=await Tt.GET("/api/samples",{params:{query:{dataset_id:e,offset:t,limit:r,annotation_labels:n,tag_ids:a,...d}}});if(f.error)throw new Error(JSON.stringify(f.error,null,2));if(!f.data)throw new Error("No data");u.data.push(...f.data)}catch(d){u.error="Error loading samples: "+String(d)}return u};function Ea(e=100){let t;return r=>{clearTimeout(t),t=setTimeout(r,e)}}function Aa(e=200){let t,r;return(n,a)=>i=>{t&&(Math.abs(i-t)>n?(a.fast(),r!==void 0&&(clearTimeout(r),r=void 0),r=setTimeout(()=>{a.slow(),r=void 0},e)):r===void 0&&a.slow()),t=i}}const ir={ceil:(e,t)=>Math.ceil(e/t)*t,floor:(e,t)=>~~(e/t)*t},Ca=(e,t,r,n,a,i)=>{const s=[],l=ir.floor(i/t*n,n),o=l>a?l-a:0,u=l>0&&o>=0?o:l,f=Math.min(e,ir.ceil((i+r)/t*n,n))+a,v=f<e?f:e;for(let b=u;b<v;b++)s.push(b);return s},Sr=(e,t)=>~~(e/t),Ra=Ea(),Ia=Aa();var Pa=V("<div><!></div>"),Ma=V("<div><!> <div></div> <!></div>");function Oa(e,t){G(t,!0);let r=x(t,"width",3,"100%"),n=x(t,"overScan",3,1),a=x(t,"marginLeft",3,0),i=x(t,"marginTop",3,0),s=x(t,"scrollPosition",15,0),l=x(t,"scrollBehavior",3,"auto"),o=x(t,"getKey",3,R=>R),u=it(t,["$$slots","$$events","$$legacy","itemCount","itemHeight","itemWidth","height","width","overScan","marginLeft","marginTop","scrollPosition","scrollBehavior","getKey","columnCount","onscroll","header","item","placeholder","footer"]),d=Z(void 0),f=Z(et(s())),v=Z(0),b=Z(0),g=Z(0),m=Z(et([])),S=!1,O=!1,L=Z(!1);function z(R,j=l()){P(Sr(R,c(H))*t.itemHeight+i()+c(v),j)}function C(R,j=l()){P(R,j)}const P=(R,j=l())=>{c(d)&&(S=!0,c(d).scrollTo({top:R,behavior:j}),S=!1)},k=R=>{c(d)&&!S&&!O&&(S=!0,c(d).scrollTo({top:R,behavior:l()}),S=!1)},E=R=>{const j=Sr(R,c(H)),lt=R%c(H);return{rowIndex:j,columnIndex:lt,style:`position: absolute; transform: translate3d(${lt*t.itemWidth+a()}px, ${j*t.itemHeight+i()}px, 0px); height: ${t.itemHeight}px; width: ${t.itemWidth}px; will-change: transform;`}},F=R=>{O=!0,S||(Y(f,et(Math.max(0,R.currentTarget.scrollTop-c(v)))),s(R.currentTarget.scrollTop),c(Et)(c(f))),Ra(()=>{O=!1})};let H=p(()=>t.columnCount?t.columnCount:Math.max(~~((c(b)-a()-(c(b)-c(g)))/t.itemWidth),1)),nt=p(()=>ir.ceil(t.itemCount,c(H))*t.itemHeight/c(H)),at=p(()=>c(H)*n());ht(()=>{(c(b)||c(H))&&Y(m,et(Ca(t.itemCount,t.itemHeight,t.height,c(H),c(at),c(f))))}),ht(()=>{c(d)&&k(s())});let Et=p(()=>Ia(t.height,{fast:()=>{Y(L,!0)},slow:()=>{Y(L,!1)}}));var X=Ma(),At=R=>{var j;F(R),(j=t.onscroll)==null||j.call(t,R)};let Ct;var Rt=A(X);rt(Rt,()=>t.header,R=>{var j=Pa(),lt=A(j);K(lt,()=>t.header),T(j),Ye(j,"offsetHeight",st=>Y(v,st)),w(R,j)});var gt=M(Rt,2);It(gt,"width","100%"),Fe(gt,21,()=>c(m),R=>o()(R),(R,j)=>{var lt=N();const st=p(()=>{const{rowIndex:$,columnIndex:ot,style:vt}=E(c(j));return{rowIndex:$,columnIndex:ot,style:vt}});var qe=I(lt);rt(qe,()=>!c(L)||!t.placeholder,$=>{var ot=N(),vt=I(ot);K(vt,()=>t.item,()=>({index:c(j),rowIndex:c(st).rowIndex,columnIndex:c(st).columnIndex,style:c(st).style})),w($,ot)},$=>{var ot=N(),vt=I(ot);K(vt,()=>t.placeholder,()=>({index:c(j),rowIndex:c(st).rowIndex,columnIndex:c(st).columnIndex,style:c(st).style})),w($,ot)}),w(R,lt)}),T(gt);var Ge=M(gt,2);return K(Ge,()=>t.footer??wt),T(X),Er(X,R=>Y(d,R),()=>c(d)),Q(()=>{Ct=ft(X,Ct,{onscroll:At,...u}),It(X,"position","relative"),It(X,"overflow","auto"),It(X,"height",`${t.height??""}px`),It(X,"width",r()),It(gt,"height",`${c(nt)??""}px`)}),Ye(X,"offsetWidth",R=>Y(b,R)),Ye(X,"clientWidth",R=>Y(g,R)),w(e,X),q({scrollToIndex:z,scrollToPosition:C})}var Na=V("<a><!></a>"),Va=V('<div slot="noMore"></div>'),Da=V('<div slot="noResults"></div>'),La=V('<div class="viewport flex-1 svelte-1ppli2f"><!></div>');function Wa(e,t){G(t,!0);const r=ce(),n=()=>dt(l,"$infiniteLoaderIdentifier",r),a=()=>dt(t.dimensions,"$dimensions",r),i=()=>dt(t.selectedAnnotations,"$selectedAnnotations",r),s=()=>dt(t.tagsSelected,"$tagsSelected",r);let l=Yr([t.selectedAnnotations,t.tagsSelected,t.dimensions],([C,P,k])=>C.join(",")+Array.from(P).join(",")+k.min_width+k.max_width+k.min_height+k.max_height),o=Z(0);const u=100;let d=Z(et([])),f=Z(null),v=Z(!0);ht(()=>{n(),Y(d,et([])),Y(o,0)});async function b({detail:{loaded:C,complete:P}}){const k=c(v)?void 0:a(),E=await ka({dataset_id:t.dataset_id,limit:u,offset:c(o),annotationLabels:i().length>0?i():void 0,tagIds:s().size>0?Array.from(s()):void 0,...k});E.data.length?(Y(o,c(o)+u),c(d).push(...E.data),Y(v,!1),E.data.length<u?P():C()):P()}const g=kr(),[m,S]=g;var O=La(),L=A(O),z=p(()=>{var C;return((C=c(f))==null?void 0:C.clientHeight)||0});Oa(L,{get itemCount(){return c(d).length},get itemHeight(){return t.sampleHeight},get itemWidth(){return t.sampleWidth},get height(){return c(z)},get style(){return`--sample-width: ${t.sampleWidth??""}px; --sample-height: ${t.sampleHeight??""}px;`},item:(k,E)=>{let F=()=>E==null?void 0:E().index,H=()=>E==null?void 0:E().style;var nt=N(),at=I(nt);rt(at,()=>c(d)[F()],Et=>{var X=Na();Q(()=>ur(X,"href",m(`/samples/${c(d)[F()].sample_id}`,void 0)));var At=A(X);qr(At,{get sample(){return c(d)[F()]}}),T(X),Q(()=>ur(X,"style",H())),w(Et,X)}),w(k,nt)},footer:k=>{Xr(k,{get identifier(){return n()},$$events:{infinite:b},$$slots:{noMore:(E,F)=>{var H=Va();w(E,H)},noResults:(E,F)=>{var H=Da();w(E,H)}}})},$$slots:{item:!0,footer:!0}}),T(O),Er(O,C=>Y(f,C),()=>c(f)),w(e,O),q()}var za=V('<div class="space-y-6"><div class="space-y-2"><h2 class="text-lg font-semibold">Width Filter</h2> <div class="flex justify-between text-sm text-gray-600"><span> </span> <span> </span></div> <div class="relative p-2"><!></div></div> <div class="space-y-2"><h2 class="text-lg font-semibold">Height Filter</h2> <div class="flex justify-between text-sm text-gray-600"><span> </span> <span> </span></div> <div class="relative p-2"><!></div></div></div>');function Ha(e,t){G(t,!0);const r=ce(),n=()=>dt(t.dimensions,"$dimensions",r),{min_width:a,max_width:i,min_height:s,max_height:l}=n(),o=at=>{t.onChange({min_width:at[0],max_width:at[1],min_height:s,max_height:l})},u=at=>{t.onChange({min_width:a,max_width:i,min_height:at[0],max_height:at[1]})};var d=za(),f=A(d),v=M(A(f),2),b=A(v),g=A(b);T(b);var m=M(b,2),S=A(m);T(m),T(v);var O=M(v,2),L=A(O);nr(L,{class:"filter-width",min:a,max:i,value:[a,i],onValueChange:o}),T(O),T(f);var z=M(f,2),C=M(A(z),2),P=A(C),k=A(P);T(P);var E=M(P,2),F=A(E);T(E),T(C);var H=M(C,2),nt=A(H);nr(nt,{class:"filter-height",min:s,max:l,value:[s,l],onValueChange:u}),T(H),T(z),T(d),Q(()=>{ut(g,`${n().min_width??""}px`),ut(S,`${n().max_width??""}px`),ut(k,`${n().min_height??""}px`),ut(F,`${n().max_height??""}px`)}),w(e,d),q()}function Ze(e,t){G(t,!0);let r=x(t,"ref",15,null),n=x(t,"orientation",3,"horizontal"),a=it(t,["$$slots","$$events","$$legacy","ref","class","orientation"]);var i=N(),s=I(i),l=p(()=>Kt("bg-border shrink-0",n()==="horizontal"?"h-[1px] w-full":"min-h-full w-[1px]",t.class));Ot(s,()=>Vi,(o,u)=>{u(o,xt({get ref(){return r()},set ref(d){r(d)},get class(){return c(l)},get orientation(){return n()}},()=>a))}),w(e,i),q()}var ja=V('<!> <!> <div class="flex h-full"><div class="border-grey-200 space-y-6 border-r p-4"><div><!></div> <!> <div><!></div> <!> <!></div> <div class="flex1 flex flex-grow flex-col space-y-4 p-4"><div class="flex items-center space-x-4"><div class="flex-1"><h1 class="text-lg font-semibold"> </h1></div> <div class="w-4/12 px-4"><!></div></div> <!> <div class="samples-content flex flex-1 py-6"><!></div></div></div>',1);function ts(e,t){G(t,!0);const r=ce(),n=()=>dt(m,"$boundedSampleSize",r),{dataset:a,error:i,dimensions:s,annotations:l,selectedAnnotations:o,updateDimensions:u,toggleAnnotationSelection:d,tags:f,tagSelectionToggle:v,tagsSelected:b,sampleSize:g}=t.data,m=g.sampleSize,S=dr($=>{u($)},100),O=dr($=>{d($)},100);var L=ja(),z=I(L);Kr(z);var C=M(z,2);rt(C,()=>i,$=>{Ta($,{title:"Error!!!",children:(ot,vt)=>{ar();var de=Tr();de.nodeValue=i,w(ot,de)},$$slots:{default:!0}})});var P=M(C,2),k=A(P),E=A(k),F=A(E);fa(F,{annotations:l,onToggleAnnotation:O}),T(E);var H=M(E,2);Ze(H,{});var nt=M(H,2),at=A(nt);ba(at,{tags:f,tagsSelected:b,tagSelectionToggle:v}),T(nt);var Et=M(nt,2);Ze(Et,{});var X=M(Et,2);rt(X,()=>s,$=>{Ha($,{dimensions:s,onChange:S})}),T(k);var At=M(k,2),Ct=A(At),Rt=A(Ct),gt=A(Rt),Ge=A(gt);T(gt),T(Rt);var R=M(Rt,2),j=A(R);ya(j,{get width(){return n().width},get onChange(){return g.updateWidth}}),T(R),T(Ct);var lt=M(Ct,2);Ze(lt,{});var st=M(lt,2),qe=A(st);rt(qe,()=>(a==null?void 0:a.dataset_id)&&s,$=>{var ot=p(()=>Xt(b)),vt=p(()=>Xt(o)),de=p(()=>Xt(s));Wa($,{get sampleHeight(){return n().height},get sampleWidth(){return n().width},get dataset_id(){return a.dataset_id},get tagsSelected(){return c(ot)},get selectedAnnotations(){return c(vt)},get dimensions(){return c(de)}})}),T(st),T(At),T(P),Q(()=>ut(Ge,`Dataset: ${(a==null?void 0:a.name)??""}`)),w(e,L),q()}export{ts as component,Qa as universal};
