import{S as A,W,X,Y as P,Z as J,_ as y,$ as p,a0 as E,F as w,y as C,a1 as Q,a2 as k,V as ee,M as re,a3 as j,w as Y,O as q,x as L,j as ne,N as ie,a4 as te,a5 as se,h as ae,e as B,k as fe,a6 as ue,a7 as le,a8 as V,a9 as oe,C as M,aa as U,ab as T,ac as z,ad as ce,ae as de,af as Z,ag as _e,U as ve,ah as pe,ai as he,I as $,aj as be,ak as we,al as Pe}from"./utils.Bch77dSh.js";import{f as ye}from"./legacy.MjBvvGLm.js";function R(e,r=null,s){if(typeof e!="object"||e===null||A in e)return e;const a=k(e);if(a!==W&&a!==X)return e;var t=new Map,o=ee(e),_=P(0);o&&t.set("length",P(e.length));var v;return new Proxy(e,{defineProperty(l,n,i){(!("value"in i)||i.configurable===!1||i.enumerable===!1||i.writable===!1)&&J();var f=t.get(n);return f===void 0?(f=P(i.value),t.set(n,f)):y(f,R(i.value,v)),!0},deleteProperty(l,n){var i=t.get(n);if(i===void 0)n in l&&t.set(n,P(p));else{if(o&&typeof n=="string"){var f=t.get("length"),u=Number(n);Number.isInteger(u)&&u<f.v&&y(f,u)}y(i,p),G(_)}return!0},get(l,n,i){var h;if(n===A)return e;var f=t.get(n),u=n in l;if(f===void 0&&(!u||(h=E(l,n))!=null&&h.writable)&&(f=P(R(u?l[n]:p,v)),t.set(n,f)),f!==void 0){var c=w(f);return c===p?void 0:c}return Reflect.get(l,n,i)},getOwnPropertyDescriptor(l,n){var i=Reflect.getOwnPropertyDescriptor(l,n);if(i&&"value"in i){var f=t.get(n);f&&(i.value=w(f))}else if(i===void 0){var u=t.get(n),c=u==null?void 0:u.v;if(u!==void 0&&c!==p)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return i},has(l,n){var c;if(n===A)return!0;var i=t.get(n),f=i!==void 0&&i.v!==p||Reflect.has(l,n);if(i!==void 0||C!==null&&(!f||(c=E(l,n))!=null&&c.writable)){i===void 0&&(i=P(f?R(l[n],v):p),t.set(n,i));var u=w(i);if(u===p)return!1}return f},set(l,n,i,f){var g;var u=t.get(n),c=n in l;if(o&&n==="length")for(var h=i;h<u.v;h+=1){var m=t.get(h+"");m!==void 0?y(m,p):h in l&&(m=P(p),t.set(h+"",m))}u===void 0?(!c||(g=E(l,n))!=null&&g.writable)&&(u=P(void 0),y(u,R(i,v)),t.set(n,u)):(c=u.v!==p,y(u,R(i,v)));var b=Reflect.getOwnPropertyDescriptor(l,n);if(b!=null&&b.set&&b.set.call(f,i),!c){if(o&&typeof n=="string"){var I=t.get("length"),O=Number(n);Number.isInteger(O)&&O>=I.v&&y(I,O+1)}G(_)}return!0},ownKeys(l){w(_);var n=Reflect.ownKeys(l).filter(u=>{var c=t.get(u);return c===void 0||c.v!==p});for(var[i,f]of t)f.v!==p&&!(i in l)&&n.push(i);return n},setPrototypeOf(){Q()}})}function G(e,r=1){y(e,e.v+r)}function Oe(e,r,s,a=null,t=!1){L&&ne();var o=e,_=null,v=null,l=null,n=t?ie:0;re(()=>{if(l===(l=!!r()))return;let i=!1;if(L){const f=o.data===te;l===f&&(o=se(),ae(o),B(!1),i=!0)}l?(_?j(_):_=Y(()=>s(o)),v&&q(v,()=>{v=null})):(v?j(v):a&&(v=Y(()=>a(o))),_&&q(_,()=>{_=null})),i&&B(!0)},n),L&&(o=fe)}const me={get(e,r){if(!e.exclude.includes(r))return e.props[r]},set(e,r){return!1},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function Se(e,r,s){return new Proxy({props:e,exclude:r},me)}const ge={get(e,r){if(!e.exclude.includes(r))return w(e.version),r in e.special?e.special[r]():e.props[r]},set(e,r,s){return r in e.special||(e.special[r]=Re({get[r](){return e.props[r]}},r,V)),e.special[r](s),U(e.version),!0},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},deleteProperty(e,r){return e.exclude.includes(r)||(e.exclude.push(r),U(e.version)),!0},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function Te(e,r){return new Proxy({props:e,exclude:r,special:{},version:P(0)},ge)}const xe={get(e,r){let s=e.props.length;for(;s--;){let a=e.props[s];if(T(a)&&(a=a()),typeof a=="object"&&a!==null&&r in a)return a[r]}},set(e,r,s){let a=e.props.length;for(;a--;){let t=e.props[a];T(t)&&(t=t());const o=E(t,r);if(o&&o.set)return o.set(s),!0}return!1},getOwnPropertyDescriptor(e,r){let s=e.props.length;for(;s--;){let a=e.props[s];if(T(a)&&(a=a()),typeof a=="object"&&a!==null&&r in a){const t=E(a,r);return t&&!t.configurable&&(t.configurable=!0),t}}},has(e,r){if(r===A||r===z)return!1;for(let s of e.props)if(T(s)&&(s=s()),s!=null&&r in s)return!0;return!1},ownKeys(e){const r=[];for(let s of e.props){T(s)&&(s=s());for(const a in s)r.includes(a)||r.push(a)}return r}};function Ae(...e){return new Proxy({props:e},xe)}function H(e){for(var r=C,s=C;r!==null&&!(r.f&(ce|de));)r=r.parent;try{return Z(r),e()}finally{Z(s)}}function Re(e,r,s,a){var K;var t=(s&_e)!==0,o=!ve||(s&pe)!==0,_=(s&he)!==0,v=(s&we)!==0,l=!1,n;_?[n,l]=ye(()=>e[r]):n=e[r];var i=A in e||z in e,f=((K=E(e,r))==null?void 0:K.set)??(i&&_&&r in e?d=>e[r]=d:void 0),u=a,c=!0,h=!1,m=()=>(h=!0,c&&(c=!1,v?u=M(a):u=a),u);n===void 0&&a!==void 0&&(f&&o&&ue(),n=m(),f&&f(n));var b;if(o)b=()=>{var d=e[r];return d===void 0?m():(c=!0,h=!1,d)};else{var I=H(()=>(t?$:be)(()=>e[r]));I.f|=le,b=()=>{var d=w(I);return d!==void 0&&(u=void 0),d===void 0?u:d}}if(!(s&V))return b;if(f){var O=e.$$legacy;return function(d,x){return arguments.length>0?((!o||!x||O||l)&&f(x?b():d),d):b()}}var g=!1,F=!1,N=Pe(n),S=H(()=>$(()=>{var d=b(),x=w(N);return g?(g=!1,F=!0,x):(F=!1,N.v=d)}));return t||(S.equals=oe),function(d,x){if(arguments.length>0){const D=x?w(S):o&&_?R(d):d;return S.equals(D)||(g=!0,y(N,D),h&&u!==void 0&&(u=D),M(()=>w(S))),d}return w(S)}}export{R as a,Oe as i,Te as l,Re as p,Se as r,Ae as s};
