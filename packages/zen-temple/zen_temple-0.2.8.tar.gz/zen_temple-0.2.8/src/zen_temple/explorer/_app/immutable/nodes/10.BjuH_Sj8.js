import{s as pt,r as B,e as D,a as F,c as I,m as te,g as R,b as M,f as v,o as T,v as be,i as q,h as E,w as Y,z as Ye,A as Ve,B as Te,C as Ge,D as Je,t as Ke,d as Qe,E as He,j as Ue,F as Oe,n as K}from"../chunks/scheduler.Bw2O2KLD.js";import{S as ht,i as gt,b as G,c as _e,d as fe,m as ue,t as j,a as A,e as ge,f as de,g as me}from"../chunks/index.Cyrvb228.js";import{e as ye}from"../chunks/each.D6YF6ztN.js";import{S as mt,c as bt,f as vt,B as kt}from"../chunks/utils.CbDfvwSi.js";import{A as Se}from"../chunks/AllCheckbox.dzwR-lxb.js";import{R as Me}from"../chunks/Radio.7beh6wzX.js";import{g as Ie}from"../chunks/variables.CqS7hfz2.js";function ze(t,e,n){const i=t.slice();return i[66]=e[n],i}function je(t,e,n){const i=t.slice();return i[69]=e[n][0],i[70]=e[n][1],i}function Ne(t){let e,n,i='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Variable Selection</button>',s,d,r,a,_,m,C,o,c,l,f=ye(Object.entries(t[5])),k=[];for(let g=0;g<f.length;g+=1)k[g]=qe(je(t,f,g));let b=t[5]&&t[9]&&t[5][t[9]]!=null&&Pe(t),w=t[9]!=null&&t[0].length>0&&Ae(t);return{c(){e=D("div"),n=D("h2"),n.innerHTML=i,s=F(),d=D("div"),r=D("div"),a=D("select");for(let g=0;g<k.length;g+=1)k[g].c();m=F(),b&&b.c(),C=F(),w&&w.c(),this.h()},l(g){e=I(g,"DIV",{class:!0});var H=M(e);n=I(H,"H2",{class:!0,"data-svelte-h":!0}),te(n)!=="svelte-1b944yg"&&(n.innerHTML=i),s=R(H),d=I(H,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var V=M(d);r=I(V,"DIV",{class:!0});var P=M(r);a=I(P,"SELECT",{});var X=M(a);for(let z=0;z<k.length;z+=1)k[z].l(X);X.forEach(v),m=R(P),b&&b.l(P),C=R(P),w&&w.l(P),P.forEach(v),V.forEach(v),H.forEach(v),this.h()},h(){T(n,"class","accordion-header"),a.disabled=_=t[18]||t[19],t[9]===void 0&&Ye(()=>t[36].call(a)),T(r,"class","accordion-body"),T(d,"id","collapseTwo"),T(d,"class","accordion-collapse collapse"),T(d,"data-bs-parent","#accordionExample"),T(e,"class","accordion-item")},m(g,H){q(g,e,H),E(e,n),E(e,s),E(e,d),E(d,r),E(r,a);for(let V=0;V<k.length;V+=1)k[V]&&k[V].m(a,null);Ve(a,t[9],!0),E(r,m),b&&b.m(r,null),E(r,C),w&&w.m(r,null),o=!0,c||(l=[Te(a,"change",t[36]),Te(a,"change",t[37])],c=!0)},p(g,H){if(H[0]&32){f=ye(Object.entries(g[5]));let V;for(V=0;V<f.length;V+=1){const P=je(g,f,V);k[V]?k[V].p(P,H):(k[V]=qe(P),k[V].c(),k[V].m(a,null))}for(;V<k.length;V+=1)k[V].d(1);k.length=f.length}(!o||H[0]&786432&&_!==(_=g[18]||g[19]))&&(a.disabled=_),H[0]&544&&Ve(a,g[9]),g[5]&&g[9]&&g[5][g[9]]!=null?b?(b.p(g,H),H[0]&544&&j(b,1)):(b=Pe(g),b.c(),j(b,1),b.m(r,C)):b&&(me(),A(b,1,1,()=>{b=null}),ge()),g[9]!=null&&g[0].length>0?w?w.p(g,H):(w=Ae(g),w.c(),w.m(r,null)):w&&(w.d(1),w=null)},i(g){o||(j(b),o=!0)},o(g){A(b),o=!1},d(g){g&&v(e),Ge(k,g),b&&b.d(),w&&w.d(),c=!1,Je(l)}}}function qe(t){let e,n=t[69]+"",i,s,d;return{c(){e=D("option"),i=Ke(n),s=F(),this.h()},l(r){e=I(r,"OPTION",{});var a=M(e);i=Qe(a,n),s=R(a),a.forEach(v),this.h()},h(){e.__value=d=t[69],He(e,e.__value)},m(r,a){q(r,e,a),E(e,i),E(e,s)},p(r,a){a[0]&32&&n!==(n=r[69]+"")&&Ue(i,n),a[0]&32&&d!==(d=r[69])&&(e.__value=d,He(e,e.__value))},d(r){r&&v(e)}}}function Pe(t){let e,n,i,s;function d(_){t[38](_)}function r(_){t[39](_)}let a={enabled:!t[18]&&!t[19]};return t[5][t[9]]!==void 0&&(a.options=t[5][t[9]]),t[14]!==void 0&&(a.selected_option=t[14]),e=new Me({props:a}),B.push(()=>G(e,"options",d)),B.push(()=>G(e,"selected_option",r)),e.$on("selection-changed",t[40]),{c(){_e(e.$$.fragment)},l(_){fe(e.$$.fragment,_)},m(_,m){ue(e,_,m),s=!0},p(_,m){const C={};m[0]&786432&&(C.enabled=!_[18]&&!_[19]),!n&&m[0]&544&&(n=!0,C.options=_[5][_[9]],Y(()=>n=!1)),!i&&m[0]&16384&&(i=!0,C.selected_option=_[14],Y(()=>i=!1)),e.$set(C)},i(_){s||(j(e.$$.fragment,_),s=!0)},o(_){A(e.$$.fragment,_),s=!1},d(_){de(e,_)}}}function Ae(t){let e,n,i,s="Carrier",d,r,a,_,m,C=ye(t[0]),o=[];for(let c=0;c<C.length;c+=1)o[c]=Be(ze(t,C,c));return{c(){e=D("div"),n=D("div"),i=D("h3"),i.textContent=s,d=F(),r=D("select");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=I(c,"DIV",{class:!0});var l=M(e);n=I(l,"DIV",{class:!0});var f=M(n);i=I(f,"H3",{"data-svelte-h":!0}),te(i)!=="svelte-xc22hm"&&(i.textContent=s),d=R(f),r=I(f,"SELECT",{});var k=M(r);for(let b=0;b<o.length;b+=1)o[b].l(k);k.forEach(v),f.forEach(v),l.forEach(v),this.h()},h(){r.disabled=a=t[18]||t[19],t[10]===void 0&&Ye(()=>t[41].call(r)),T(n,"class","col"),T(e,"class","row")},m(c,l){q(c,e,l),E(e,n),E(n,i),E(n,d),E(n,r);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(r,null);Ve(r,t[10],!0),_||(m=[Te(r,"change",t[41]),Te(r,"change",t[42])],_=!0)},p(c,l){if(l[0]&1){C=ye(c[0]);let f;for(f=0;f<C.length;f+=1){const k=ze(c,C,f);o[f]?o[f].p(k,l):(o[f]=Be(k),o[f].c(),o[f].m(r,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=C.length}l[0]&786432&&a!==(a=c[18]||c[19])&&(r.disabled=a),l[0]&1025&&Ve(r,c[10])},d(c){c&&v(e),Ge(o,c),_=!1,Je(m)}}}function Be(t){let e,n=t[66]+"",i,s,d;return{c(){e=D("option"),i=Ke(n),s=F(),this.h()},l(r){e=I(r,"OPTION",{});var a=M(e);i=Qe(a,n),s=R(a),a.forEach(v),this.h()},h(){e.__value=d=t[66],He(e,e.__value)},m(r,a){q(r,e,a),E(e,i),E(e,s)},p(r,a){a[0]&1&&n!==(n=r[66]+"")&&Ue(i,n),a[0]&1&&d!==(d=r[66])&&(e.__value=d,He(e,e.__value))},d(r){r&&v(e)}}}function Fe(t){let e,n,i='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Data Selection</button>',s,d,r,a,_,m,C,o="Normalisation",c,l,f,k,b,w,g,H,V,P="Year",X,z,Z,Q,O,y=t[9]!="import_export"&&Re(t);function $(p){t[46](p)}function oe(p){t[47](p)}let ie={enabled:!t[18]&&!t[19]};t[16]!==void 0&&(ie.options=t[16]),t[17]!==void 0&&(ie.selected_option=t[17]),l=new Me({props:ie}),B.push(()=>G(l,"options",$)),B.push(()=>G(l,"selected_option",oe)),l.$on("selection-changed",t[48]);const pe=[wt,Ct],x=[];function se(p,N){return p[21]=="technology"?0:1}w=se(t),g=x[w]=pe[w](t);function re(p){t[55](p)}function le(p){t[56](p)}let S={enabled:!t[18]&&!t[19]};return t[15]!==void 0&&(S.selected_elements=t[15]),t[4]!==void 0&&(S.elements=t[4]),z=new Se({props:S}),B.push(()=>G(z,"selected_elements",re)),B.push(()=>G(z,"elements",le)),z.$on("selection-changed",t[57]),{c(){e=D("div"),n=D("h2"),n.innerHTML=i,s=F(),d=D("div"),r=D("div"),a=D("div"),y&&y.c(),_=F(),m=D("div"),C=D("h3"),C.textContent=o,c=F(),_e(l.$$.fragment),b=F(),g.c(),H=F(),V=D("h3"),V.textContent=P,X=F(),_e(z.$$.fragment),this.h()},l(p){e=I(p,"DIV",{class:!0});var N=M(e);n=I(N,"H2",{class:!0,"data-svelte-h":!0}),te(n)!=="svelte-hz94lo"&&(n.innerHTML=i),s=R(N),d=I(N,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var J=M(d);r=I(J,"DIV",{class:!0});var U=M(r);a=I(U,"DIV",{class:!0});var u=M(a);y&&y.l(u),_=R(u),m=I(u,"DIV",{class:!0});var L=M(m);C=I(L,"H3",{"data-svelte-h":!0}),te(C)!=="svelte-1273uzu"&&(C.textContent=o),c=R(L),fe(l.$$.fragment,L),L.forEach(v),u.forEach(v),b=R(U),g.l(U),H=R(U),V=I(U,"H3",{"data-svelte-h":!0}),te(V)!=="svelte-r9e7qt"&&(V.textContent=P),X=R(U),fe(z.$$.fragment,U),U.forEach(v),J.forEach(v),N.forEach(v),this.h()},h(){T(n,"class","accordion-header"),T(m,"class","col-6"),T(a,"class","row"),T(r,"class","accordion-body"),T(d,"id","collapseThree"),T(d,"class","accordion-collapse collapse"),T(d,"data-bs-parent","#accordionExample"),T(e,"class","accordion-item")},m(p,N){q(p,e,N),E(e,n),E(e,s),E(e,d),E(d,r),E(r,a),y&&y.m(a,null),E(a,_),E(a,m),E(m,C),E(m,c),ue(l,m,null),E(r,b),x[w].m(r,null),E(r,H),E(r,V),E(r,X),ue(z,r,null),O=!0},p(p,N){p[9]!="import_export"?y?(y.p(p,N),N[0]&512&&j(y,1)):(y=Re(p),y.c(),j(y,1),y.m(a,_)):y&&(me(),A(y,1,1,()=>{y=null}),ge());const J={};N[0]&786432&&(J.enabled=!p[18]&&!p[19]),!f&&N[0]&65536&&(f=!0,J.options=p[16],Y(()=>f=!1)),!k&&N[0]&131072&&(k=!0,J.selected_option=p[17],Y(()=>k=!1)),l.$set(J);let U=w;w=se(p),w===U?x[w].p(p,N):(me(),A(x[U],1,1,()=>{x[U]=null}),ge(),g=x[w],g?g.p(p,N):(g=x[w]=pe[w](p),g.c()),j(g,1),g.m(r,H));const u={};N[0]&786432&&(u.enabled=!p[18]&&!p[19]),!Z&&N[0]&32768&&(Z=!0,u.selected_elements=p[15],Y(()=>Z=!1)),!Q&&N[0]&16&&(Q=!0,u.elements=p[4],Y(()=>Q=!1)),z.$set(u)},i(p){O||(j(y),j(l.$$.fragment,p),j(g),j(z.$$.fragment,p),O=!0)},o(p){A(y),A(l.$$.fragment,p),A(g),A(z.$$.fragment,p),O=!1},d(p){p&&v(e),y&&y.d(),de(l),x[w].d(),de(z)}}}function Re(t){let e,n,i="Aggregation",s,d,r,a,_;function m(c){t[43](c)}function C(c){t[44](c)}let o={enabled:!t[18]&&!t[19]};return t[6]!==void 0&&(o.options=t[6]),t[21]!==void 0&&(o.selected_option=t[21]),d=new Me({props:o}),B.push(()=>G(d,"options",m)),B.push(()=>G(d,"selected_option",C)),d.$on("selection-changed",t[45]),{c(){e=D("div"),n=D("h3"),n.textContent=i,s=F(),_e(d.$$.fragment),this.h()},l(c){e=I(c,"DIV",{class:!0});var l=M(e);n=I(l,"H3",{"data-svelte-h":!0}),te(n)!=="svelte-126hufg"&&(n.textContent=i),s=R(l),fe(d.$$.fragment,l),l.forEach(v),this.h()},h(){T(e,"class","col-6")},m(c,l){q(c,e,l),E(e,n),E(e,s),ue(d,e,null),_=!0},p(c,l){const f={};l[0]&786432&&(f.enabled=!c[18]&&!c[19]),!r&&l[0]&64&&(r=!0,f.options=c[6],Y(()=>r=!1)),!a&&l[0]&2097152&&(a=!0,f.selected_option=c[21],Y(()=>a=!1)),d.$set(f)},i(c){_||(j(d.$$.fragment,c),_=!0)},o(c){A(d.$$.fragment,c),_=!1},d(c){c&&v(e),de(d)}}}function Ct(t){let e,n="Node",i,s,d,r,a;function _(o){t[52](o)}function m(o){t[53](o)}let C={enabled:!t[18]&&!t[19]};return t[13]!==void 0&&(C.selected_elements=t[13]),t[3]!==void 0&&(C.elements=t[3]),s=new Se({props:C}),B.push(()=>G(s,"selected_elements",_)),B.push(()=>G(s,"elements",m)),s.$on("selection-changed",t[54]),{c(){e=D("h3"),e.textContent=n,i=F(),_e(s.$$.fragment)},l(o){e=I(o,"H3",{"data-svelte-h":!0}),te(e)!=="svelte-ocjo5w"&&(e.textContent=n),i=R(o),fe(s.$$.fragment,o)},m(o,c){q(o,e,c),q(o,i,c),ue(s,o,c),a=!0},p(o,c){const l={};c[0]&786432&&(l.enabled=!o[18]&&!o[19]),!d&&c[0]&8192&&(d=!0,l.selected_elements=o[13],Y(()=>d=!1)),!r&&c[0]&8&&(r=!0,l.elements=o[3],Y(()=>r=!1)),s.$set(l)},i(o){a||(j(s.$$.fragment,o),a=!0)},o(o){A(s.$$.fragment,o),a=!1},d(o){o&&(v(e),v(i)),de(s,o)}}}function wt(t){let e,n="Technology",i,s,d,r,a;function _(o){t[49](o)}function m(o){t[50](o)}let C={enabled:!t[18]&&!t[19]};return t[12]!==void 0&&(C.selected_elements=t[12]),t[11]!==void 0&&(C.elements=t[11]),s=new Se({props:C}),B.push(()=>G(s,"selected_elements",_)),B.push(()=>G(s,"elements",m)),s.$on("selection-changed",t[51]),{c(){e=D("h3"),e.textContent=n,i=F(),_e(s.$$.fragment)},l(o){e=I(o,"H3",{"data-svelte-h":!0}),te(e)!=="svelte-q7cxxi"&&(e.textContent=n),i=R(o),fe(s.$$.fragment,o)},m(o,c){q(o,e,c),q(o,i,c),ue(s,o,c),a=!0},p(o,c){const l={};c[0]&786432&&(l.enabled=!o[18]&&!o[19]),!d&&c[0]&4096&&(d=!0,l.selected_elements=o[12],Y(()=>d=!1)),!r&&c[0]&2048&&(r=!0,l.elements=o[11],Y(()=>r=!1)),s.$set(l)},i(o){a||(j(s.$$.fragment,o),a=!0)},o(o){A(s.$$.fragment,o),a=!1},d(o){o&&(v(e),v(i)),de(s,o)}}}function Et(t){let e,n,i,s;function d(_){t[58](_)}function r(_){t[59](_)}let a={};return t[22]!==void 0&&(a.config=t[22]),t[20]!==void 0&&(a.plot_name=t[20]),e=new kt({props:a}),B.push(()=>G(e,"config",d)),B.push(()=>G(e,"plot_name",r)),{c(){_e(e.$$.fragment)},l(_){fe(e.$$.fragment,_)},m(_,m){ue(e,_,m),s=!0},p(_,m){const C={};!n&&m[0]&4194304&&(n=!0,C.config=_[22],Y(()=>n=!1)),!i&&m[0]&1048576&&(i=!0,C.plot_name=_[20],Y(()=>i=!1)),e.$set(C)},i(_){s||(j(e.$$.fragment,_),s=!0)},o(_){A(e.$$.fragment,_),s=!1},d(_){de(e,_)}}}function Dt(t){let e,n="No data with this selection.";return{c(){e=D("div"),e.textContent=n,this.h()},l(i){e=I(i,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1doxial"&&(e.textContent=n),this.h()},h(){T(e,"class","text-center")},m(i,s){q(i,e,s)},p:K,i:K,o:K,d(i){i&&v(e)}}}function It(t){let e,n="No carriers with this selection.";return{c(){e=D("div"),e.textContent=n,this.h()},l(i){e=I(i,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1wht3n0"&&(e.textContent=n),this.h()},h(){T(e,"class","text-center")},m(i,s){q(i,e,s)},p:K,i:K,o:K,d(i){i&&v(e)}}}function Vt(t){let e,n="No technologies with this selection.";return{c(){e=D("div"),e.textContent=n,this.h()},l(i){e=I(i,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1ontq7"&&(e.textContent=n),this.h()},h(){T(e,"class","text-center")},m(i,s){q(i,e,s)},p:K,i:K,o:K,d(i){i&&v(e)}}}function Tt(t){let e;return{c(){e=D("div")},l(n){e=I(n,"DIV",{}),M(e).forEach(v)},m(n,i){q(n,e,i)},p:K,i:K,o:K,d(n){n&&v(e)}}}function Ht(t){let e;return{c(){e=D("div")},l(n){e=I(n,"DIV",{}),M(e).forEach(v)},m(n,i){q(n,e,i)},p:K,i:K,o:K,d(n){n&&v(e)}}}function yt(t){let e,n='<div class="spinner-border center" role="status"><span class="visually-hidden">Loading...</span></div>';return{c(){e=D("div"),e.innerHTML=n,this.h()},l(i){e=I(i,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1a5ljpq"&&(e.innerHTML=n),this.h()},h(){T(e,"class","text-center")},m(i,s){q(i,e,s)},p:K,i:K,o:K,d(i){i&&v(e)}}}function Lt(t){let e,n='<div class="col"><h2>Production</h2></div>',i,s,d,r,a,_,m,C='<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Solution Selection</button>',o,c,l,f,k,b,w,g,H,V,P,X,z,Z,Q,O,y,$;function oe(u){t[29](u)}function ie(u){t[30](u)}function pe(u){t[31](u)}function x(u){t[32](u)}function se(u){t[33](u)}function re(u){t[34](u)}let le={enabled:!t[18]&&!t[19]};t[0]!==void 0&&(le.carriers=t[0]),t[1]!==void 0&&(le.nodes=t[1]),t[4]!==void 0&&(le.years=t[4]),t[8]!==void 0&&(le.selected_solution=t[8]),t[2]!==void 0&&(le.edges=t[2]),t[18]!==void 0&&(le.loading=t[18]),f=new mt({props:le}),B.push(()=>G(f,"carriers",oe)),B.push(()=>G(f,"nodes",ie)),B.push(()=>G(f,"years",pe)),B.push(()=>G(f,"selected_solution",x)),B.push(()=>G(f,"edges",se)),B.push(()=>G(f,"loading",re)),f.$on("solution_selected",t[35]);let S=!t[18]&&t[8]&&Ne(t),p=!t[19]&&t[10]&&(t[11].length>0||t[9]=="import_export")&&Fe(t);const N=[yt,Ht,Tt,Vt,It,Dt,Et],J=[];function U(u,L){return u[18]||u[19]?0:u[8]==null?1:u[7]==null?2:u[11].length==0&&u[9]!="import_export"?3:u[0].length==0?4:u[7].length==0?5:6}return O=U(t),y=J[O]=N[O](t),{c(){e=D("div"),e.innerHTML=n,i=F(),s=D("div"),d=D("div"),r=D("div"),a=D("div"),_=D("div"),m=D("h2"),m.innerHTML=C,o=F(),c=D("div"),l=D("div"),_e(f.$$.fragment),P=F(),S&&S.c(),X=F(),p&&p.c(),z=F(),Z=D("div"),Q=D("div"),y.c(),this.h()},l(u){e=I(u,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1ow2g6f"&&(e.innerHTML=n),i=R(u),s=I(u,"DIV",{class:!0});var L=M(s);d=I(L,"DIV",{class:!0,style:!0});var ne=M(d);r=I(ne,"DIV",{class:!0,style:!0});var ae=M(r);a=I(ae,"DIV",{class:!0,id:!0});var ce=M(a);_=I(ce,"DIV",{class:!0});var he=M(_);m=I(he,"H2",{class:!0,"data-svelte-h":!0}),te(m)!=="svelte-64kjki"&&(m.innerHTML=C),o=R(he),c=I(he,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var ve=M(c);l=I(ve,"DIV",{class:!0});var ke=M(l);fe(f.$$.fragment,ke),ke.forEach(v),ve.forEach(v),he.forEach(v),P=R(ce),S&&S.l(ce),X=R(ce),p&&p.l(ce),ce.forEach(v),ae.forEach(v),ne.forEach(v),L.forEach(v),z=R(u),Z=I(u,"DIV",{class:!0});var Ce=M(Z);Q=I(Ce,"DIV",{class:!0,style:!0});var we=M(Q);y.l(we),we.forEach(v),Ce.forEach(v),this.h()},h(){T(e,"class","row"),T(m,"class","accordion-header"),T(l,"class","accordion-body"),T(c,"id","collapseOne"),T(c,"class","accordion-collapse collapse show"),T(c,"data-bs-parent","#accordionExample"),T(_,"class","accordion-item solution-selection"),T(a,"class","accordion"),T(a,"id","accordionExample"),T(r,"class","filters"),be(r,"position","absolute"),be(r,"width","100%"),T(d,"class","col position-relative"),be(d,"z-index","1"),be(d,"position","relative"),T(s,"class","row"),T(Q,"class","col"),be(Q,"margin-top","400px"),T(Z,"class","row")},m(u,L){q(u,e,L),q(u,i,L),q(u,s,L),E(s,d),E(d,r),E(r,a),E(a,_),E(_,m),E(_,o),E(_,c),E(c,l),ue(f,l,null),E(a,P),S&&S.m(a,null),E(a,X),p&&p.m(a,null),q(u,z,L),q(u,Z,L),E(Z,Q),J[O].m(Q,null),$=!0},p(u,L){const ne={};L[0]&786432&&(ne.enabled=!u[18]&&!u[19]),!k&&L[0]&1&&(k=!0,ne.carriers=u[0],Y(()=>k=!1)),!b&&L[0]&2&&(b=!0,ne.nodes=u[1],Y(()=>b=!1)),!w&&L[0]&16&&(w=!0,ne.years=u[4],Y(()=>w=!1)),!g&&L[0]&256&&(g=!0,ne.selected_solution=u[8],Y(()=>g=!1)),!H&&L[0]&4&&(H=!0,ne.edges=u[2],Y(()=>H=!1)),!V&&L[0]&262144&&(V=!0,ne.loading=u[18],Y(()=>V=!1)),f.$set(ne),!u[18]&&u[8]?S?(S.p(u,L),L[0]&262400&&j(S,1)):(S=Ne(u),S.c(),j(S,1),S.m(a,X)):S&&(me(),A(S,1,1,()=>{S=null}),ge()),!u[19]&&u[10]&&(u[11].length>0||u[9]=="import_export")?p?(p.p(u,L),L[0]&527872&&j(p,1)):(p=Fe(u),p.c(),j(p,1),p.m(a,null)):p&&(me(),A(p,1,1,()=>{p=null}),ge());let ae=O;O=U(u),O===ae?J[O].p(u,L):(me(),A(J[ae],1,1,()=>{J[ae]=null}),ge(),y=J[O],y?y.p(u,L):(y=J[O]=N[O](u),y.c()),j(y,1),y.m(Q,null))},i(u){$||(j(f.$$.fragment,u),j(S),j(p),j(y),$=!0)},o(u){A(f.$$.fragment,u),A(S),A(p),A(y),$=!1},d(u){u&&(v(e),v(i),v(s),v(z),v(Z)),de(f),S&&S.d(),p&&p.d(),J[O].d()}}}function St(t,e,n){let i,s=[],d=[],r=[],a=[],_=[],m={conversion:["input","output"],storage:["charge","discharge"],transport:null,import_export:["import","export"]},C=["technology","node"],o=null,c=null,l=null,f=null,k=null,b=[],w=[],g=[],H=null,V=[],P=["not_normalized","normalized"],X="not_normalized",z=!1,Z=!1,Q="plot",O="node",$={type:"bar",data:{datasets:[]},options:{responsive:!0,scales:{x:{stacked:!0,title:{display:!0,text:"Year"}},y:{stacked:!0,title:{display:!0,text:f+" ["+pe()+"]"}}}}};function oe(){n(15,V=_),n(13,g=d),n(12,w=b)}function ie(){switch(f){case"conversion":return"flow_conversion_"+H;case"storage":return"flow_storage_"+H;case"transport":return"flow_transport";case"import_export":return"flow_"+H;default:return null}}function pe(){if(c===null)return"";for(const h of c.data)if(b[0]==h.technology&&(h.carrier==k||h.carrier===void 0))return h[0];return""}async function x(){n(19,Z=!0);let h=ie();h!==null&&(h=Ie(h,l==null?void 0:l.version),await bt(l.solution_name,h,l.scenario_name,l.detail.system.reference_year,l.detail.system.interval_between_years).then(W=>{W.data!==null&&(i=W.data,c=W.unit,n(19,Z=!1))}))}function se(){n(7,o=null),n(10,k="");let h=new Set(i.data.map(ee=>ee.technology)),W=[...new Set([...h].map(ee=>l==null?void 0:l.detail.reference_carrier[ee]))];if(l==null){n(0,s=[]);return}switch(f){case Ie("import_export",l==null?void 0:l.version):H=="import"?n(0,s=l.detail.carriers_import):n(0,s=l.detail.carriers_export);break;case Ie("conversion",l==null?void 0:l.version):let ee=l.detail.carriers_output;H=="input"&&(ee=l.detail.carriers_input),n(0,s=[]);for(const Le in ee)n(0,s=[...new Set([...s,...ee[Le]])]);break;default:n(0,s=l.detail.system.set_carriers)}n(0,s=s.filter(ee=>W.includes(ee))),s.length==1&&n(10,k=s[0]),oe()}function re(){if(n(7,o=[]),f!=null&&k!=null){switch(n(11,b=(l==null?void 0:l.detail.system.set_technologies)??[]),f){case"conversion":n(11,b=[]);let h=l.detail.carriers_input;H=="output"&&(h=l.detail.carriers_output);for(const W in h)h[W].includes(k)&&b.push(W);break;case"storage":n(11,b=(l==null?void 0:l.detail.system.set_storage_technologies.filter(W=>(l==null?void 0:l.detail.reference_carrier[W])==k))??[]);break;case"transport":n(11,b=(l==null?void 0:l.detail.system.set_transport_technologies.filter(W=>(l==null?void 0:l.detail.reference_carrier[W])==k))??[]);break;case"import_export":n(11,b=[]);break}b.length==1&&n(12,w=[b[0]]),oe()}}function le(){n(3,a=d),f=="transport"&&n(3,a=r)}function S(){n(7,o=[]),f!=null&&(m[f]!=null&&n(14,H=m[f][0]),f=="import_export"&&n(21,O="technology"),x().then(()=>{se(),re(),le(),p()}))}function p(){if(f=="import_export"&&n(21,O="node"),O=="technology"?n(13,g=d):n(12,w=b),g.length==0||V.length==0||w.length==0&&f!="import_export"||!i){n(7,o=[]);return}let h={},W={},ee="node";f=="transport"&&(ee="edge"),f=="import_export"?(h[ee]=g,W.carrier=[k]):O=="technology"?(h[ee]=g,W.technology=w):(h.technology=w,W[ee]=g);let Le=_.filter(De=>!V.includes(De)),dt=i.data.filter(De=>De.carrier===void 0||De.carrier==k);n(7,o=vt(dt,h,W,Le,X=="normalized")),n(22,$.data={datasets:o},$),n(22,$.options.scales.y.title.text=f+" ["+pe()+"]",$);let Ee=l.solution_name.split(".");n(20,Q=[Ee[(Ee==null?void 0:Ee.length)-1],l==null?void 0:l.scenario_name,Ie(ie(),l==null?void 0:l.version),k].join("_"))}function N(h){s=h,n(0,s)}function J(h){d=h,n(1,d)}function U(h){_=h,n(4,_)}function u(h){l=h,n(8,l)}function L(h){r=h,n(2,r)}function ne(h){z=h,n(18,z)}const ae=()=>{S(),oe()};function ce(){f=Oe(this),n(9,f),n(5,m)}const he=()=>{S()};function ve(h){t.$$.not_equal(m[f],h)&&(m[f]=h,n(5,m))}function ke(h){H=h,n(14,H)}const Ce=h=>{x(),se(),re(),p()};function we(){k=Oe(this),n(10,k),n(0,s)}const We=()=>{re(),p()};function Xe(h){C=h,n(6,C)}function Ze(h){O=h,n(21,O)}const $e=h=>{p()};function xe(h){P=h,n(16,P)}function et(h){X=h,n(17,X)}const tt=h=>{p()};function nt(h){w=h,n(12,w)}function lt(h){b=h,n(11,b)}const ot=()=>{p()};function it(h){g=h,n(13,g)}function st(h){a=h,n(3,a)}const rt=h=>{p()};function at(h){V=h,n(15,V)}function ct(h){_=h,n(4,_)}const _t=h=>{p()};function ft(h){$=h,n(22,$)}function ut(h){Q=h,n(20,Q)}return[s,d,r,a,_,m,C,o,l,f,k,b,w,g,H,V,P,X,z,Z,Q,O,$,oe,x,se,re,S,p,N,J,U,u,L,ne,ae,ce,he,ve,ke,Ce,we,We,Xe,Ze,$e,xe,et,tt,nt,lt,ot,it,st,rt,at,ct,_t,ft,ut]}class At extends ht{constructor(e){super(),gt(this,e,St,Lt,pt,{},null,[-1,-1,-1])}}export{At as component};
