import{s as ht,r as B,e as D,a as F,c as I,m as te,g as R,b as O,f as v,o as T,v as be,i as q,h as E,w as Y,z as Ye,A as Ve,B as Te,C as Ge,D as Je,t as Ke,d as Qe,E as He,j as Ue,F as Oe,n as K}from"../chunks/scheduler.Bw2O2KLD.js";import{S as gt,i as mt,b as G,c as re,d as ae,m as ce,t as N,a as A,e as ge,f as _e,g as me}from"../chunks/index.Cyrvb228.js";import{e as ye}from"../chunks/each.D6YF6ztN.js";import{S as bt,c as vt,f as kt,B as Ct}from"../chunks/utils.BXwxB8A5.js";import{A as Se}from"../chunks/AllCheckbox.dzwR-lxb.js";import{R as Me}from"../chunks/Radio.7beh6wzX.js";import{g as Ie}from"../chunks/variables.CqS7hfz2.js";function ze(t,e,n){const i=t.slice();return i[67]=e[n],i}function je(t,e,n){const i=t.slice();return i[70]=e[n][0],i[71]=e[n][1],i}function Ne(t){let e,n,i='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Variable Selection</button>',s,d,r,a,_,m,C,o,c,l,f=ye(Object.entries(t[5])),k=[];for(let g=0;g<f.length;g+=1)k[g]=qe(je(t,f,g));let b=t[5]&&t[9]&&t[5][t[9]]!=null&&Pe(t),w=t[9]!=null&&t[0].length>0&&Ae(t);return{c(){e=D("div"),n=D("h2"),n.innerHTML=i,s=F(),d=D("div"),r=D("div"),a=D("select");for(let g=0;g<k.length;g+=1)k[g].c();m=F(),b&&b.c(),C=F(),w&&w.c(),this.h()},l(g){e=I(g,"DIV",{class:!0});var H=O(e);n=I(H,"H2",{class:!0,"data-svelte-h":!0}),te(n)!=="svelte-1b944yg"&&(n.innerHTML=i),s=R(H),d=I(H,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var V=O(d);r=I(V,"DIV",{class:!0});var P=O(r);a=I(P,"SELECT",{});var X=O(a);for(let j=0;j<k.length;j+=1)k[j].l(X);X.forEach(v),m=R(P),b&&b.l(P),C=R(P),w&&w.l(P),P.forEach(v),V.forEach(v),H.forEach(v),this.h()},h(){T(n,"class","accordion-header"),a.disabled=_=t[18]||t[19],t[9]===void 0&&Ye(()=>t[35].call(a)),T(r,"class","accordion-body"),T(d,"id","collapseTwo"),T(d,"class","accordion-collapse collapse"),T(d,"data-bs-parent","#accordionExample"),T(e,"class","accordion-item")},m(g,H){q(g,e,H),E(e,n),E(e,s),E(e,d),E(d,r),E(r,a);for(let V=0;V<k.length;V+=1)k[V]&&k[V].m(a,null);Ve(a,t[9],!0),E(r,m),b&&b.m(r,null),E(r,C),w&&w.m(r,null),o=!0,c||(l=[Te(a,"change",t[35]),Te(a,"change",t[36])],c=!0)},p(g,H){if(H[0]&32){f=ye(Object.entries(g[5]));let V;for(V=0;V<f.length;V+=1){const P=je(g,f,V);k[V]?k[V].p(P,H):(k[V]=qe(P),k[V].c(),k[V].m(a,null))}for(;V<k.length;V+=1)k[V].d(1);k.length=f.length}(!o||H[0]&786432&&_!==(_=g[18]||g[19]))&&(a.disabled=_),H[0]&544&&Ve(a,g[9]),g[5]&&g[9]&&g[5][g[9]]!=null?b?(b.p(g,H),H[0]&544&&N(b,1)):(b=Pe(g),b.c(),N(b,1),b.m(r,C)):b&&(me(),A(b,1,1,()=>{b=null}),ge()),g[9]!=null&&g[0].length>0?w?w.p(g,H):(w=Ae(g),w.c(),w.m(r,null)):w&&(w.d(1),w=null)},i(g){o||(N(b),o=!0)},o(g){A(b),o=!1},d(g){g&&v(e),Ge(k,g),b&&b.d(),w&&w.d(),c=!1,Je(l)}}}function qe(t){let e,n=t[70]+"",i,s,d;return{c(){e=D("option"),i=Ke(n),s=F(),this.h()},l(r){e=I(r,"OPTION",{});var a=O(e);i=Qe(a,n),s=R(a),a.forEach(v),this.h()},h(){e.__value=d=t[70],He(e,e.__value)},m(r,a){q(r,e,a),E(e,i),E(e,s)},p(r,a){a[0]&32&&n!==(n=r[70]+"")&&Ue(i,n),a[0]&32&&d!==(d=r[70])&&(e.__value=d,He(e,e.__value))},d(r){r&&v(e)}}}function Pe(t){let e,n,i,s;function d(_){t[37](_)}function r(_){t[38](_)}let a={enabled:!t[18]&&!t[19]};return t[5][t[9]]!==void 0&&(a.options=t[5][t[9]]),t[14]!==void 0&&(a.selected_option=t[14]),e=new Me({props:a}),B.push(()=>G(e,"options",d)),B.push(()=>G(e,"selected_option",r)),e.$on("selection-changed",t[39]),{c(){re(e.$$.fragment)},l(_){ae(e.$$.fragment,_)},m(_,m){ce(e,_,m),s=!0},p(_,m){const C={};m[0]&786432&&(C.enabled=!_[18]&&!_[19]),!n&&m[0]&544&&(n=!0,C.options=_[5][_[9]],Y(()=>n=!1)),!i&&m[0]&16384&&(i=!0,C.selected_option=_[14],Y(()=>i=!1)),e.$set(C)},i(_){s||(N(e.$$.fragment,_),s=!0)},o(_){A(e.$$.fragment,_),s=!1},d(_){_e(e,_)}}}function Ae(t){let e,n,i,s="Carrier",d,r,a,_,m,C=ye(t[0]),o=[];for(let c=0;c<C.length;c+=1)o[c]=Be(ze(t,C,c));return{c(){e=D("div"),n=D("div"),i=D("h3"),i.textContent=s,d=F(),r=D("select");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=I(c,"DIV",{class:!0});var l=O(e);n=I(l,"DIV",{class:!0});var f=O(n);i=I(f,"H3",{"data-svelte-h":!0}),te(i)!=="svelte-xc22hm"&&(i.textContent=s),d=R(f),r=I(f,"SELECT",{});var k=O(r);for(let b=0;b<o.length;b+=1)o[b].l(k);k.forEach(v),f.forEach(v),l.forEach(v),this.h()},h(){r.disabled=a=t[18]||t[19],t[10]===void 0&&Ye(()=>t[40].call(r)),T(n,"class","col"),T(e,"class","row")},m(c,l){q(c,e,l),E(e,n),E(n,i),E(n,d),E(n,r);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(r,null);Ve(r,t[10],!0),_||(m=[Te(r,"change",t[40]),Te(r,"change",t[41])],_=!0)},p(c,l){if(l[0]&1){C=ye(c[0]);let f;for(f=0;f<C.length;f+=1){const k=ze(c,C,f);o[f]?o[f].p(k,l):(o[f]=Be(k),o[f].c(),o[f].m(r,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=C.length}l[0]&786432&&a!==(a=c[18]||c[19])&&(r.disabled=a),l[0]&1025&&Ve(r,c[10])},d(c){c&&v(e),Ge(o,c),_=!1,Je(m)}}}function Be(t){let e,n=t[67]+"",i,s,d;return{c(){e=D("option"),i=Ke(n),s=F(),this.h()},l(r){e=I(r,"OPTION",{});var a=O(e);i=Qe(a,n),s=R(a),a.forEach(v),this.h()},h(){e.__value=d=t[67],He(e,e.__value)},m(r,a){q(r,e,a),E(e,i),E(e,s)},p(r,a){a[0]&1&&n!==(n=r[67]+"")&&Ue(i,n),a[0]&1&&d!==(d=r[67])&&(e.__value=d,He(e,e.__value))},d(r){r&&v(e)}}}function Fe(t){let e,n,i='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Data Selection</button>',s,d,r,a,_,m,C,o="Normalisation",c,l,f,k,b,w,g,H,V,P="Year",X,j,Z,Q,z,y=t[9]!="import_export"&&Re(t);function $(h){t[45](h)}function de(h){t[46](h)}let oe={enabled:!t[18]&&!t[19]};t[16]!==void 0&&(oe.options=t[16]),t[17]!==void 0&&(oe.selected_option=t[17]),l=new Me({props:oe}),B.push(()=>G(l,"options",$)),B.push(()=>G(l,"selected_option",de)),l.$on("selection-changed",t[47]);const fe=[Et,wt],ne=[];function ue(h,L){return h[21]=="technology"?0:1}w=ue(t),g=ne[w]=fe[w](t);function pe(h){t[54](h)}function x(h){t[55](h)}let M={enabled:!t[18]&&!t[19]};return t[15]!==void 0&&(M.selected_elements=t[15]),t[4]!==void 0&&(M.elements=t[4]),j=new Se({props:M}),B.push(()=>G(j,"selected_elements",pe)),B.push(()=>G(j,"elements",x)),j.$on("selection-changed",t[56]),{c(){e=D("div"),n=D("h2"),n.innerHTML=i,s=F(),d=D("div"),r=D("div"),a=D("div"),y&&y.c(),_=F(),m=D("div"),C=D("h3"),C.textContent=o,c=F(),re(l.$$.fragment),b=F(),g.c(),H=F(),V=D("h3"),V.textContent=P,X=F(),re(j.$$.fragment),this.h()},l(h){e=I(h,"DIV",{class:!0});var L=O(e);n=I(L,"H2",{class:!0,"data-svelte-h":!0}),te(n)!=="svelte-hz94lo"&&(n.innerHTML=i),s=R(L),d=I(L,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var J=O(d);r=I(J,"DIV",{class:!0});var U=O(r);a=I(U,"DIV",{class:!0});var u=O(a);y&&y.l(u),_=R(u),m=I(u,"DIV",{class:!0});var S=O(m);C=I(S,"H3",{"data-svelte-h":!0}),te(C)!=="svelte-1273uzu"&&(C.textContent=o),c=R(S),ae(l.$$.fragment,S),S.forEach(v),u.forEach(v),b=R(U),g.l(U),H=R(U),V=I(U,"H3",{"data-svelte-h":!0}),te(V)!=="svelte-r9e7qt"&&(V.textContent=P),X=R(U),ae(j.$$.fragment,U),U.forEach(v),J.forEach(v),L.forEach(v),this.h()},h(){T(n,"class","accordion-header"),T(m,"class","col-6"),T(a,"class","row"),T(r,"class","accordion-body"),T(d,"id","collapseThree"),T(d,"class","accordion-collapse collapse"),T(d,"data-bs-parent","#accordionExample"),T(e,"class","accordion-item")},m(h,L){q(h,e,L),E(e,n),E(e,s),E(e,d),E(d,r),E(r,a),y&&y.m(a,null),E(a,_),E(a,m),E(m,C),E(m,c),ce(l,m,null),E(r,b),ne[w].m(r,null),E(r,H),E(r,V),E(r,X),ce(j,r,null),z=!0},p(h,L){h[9]!="import_export"?y?(y.p(h,L),L[0]&512&&N(y,1)):(y=Re(h),y.c(),N(y,1),y.m(a,_)):y&&(me(),A(y,1,1,()=>{y=null}),ge());const J={};L[0]&786432&&(J.enabled=!h[18]&&!h[19]),!f&&L[0]&65536&&(f=!0,J.options=h[16],Y(()=>f=!1)),!k&&L[0]&131072&&(k=!0,J.selected_option=h[17],Y(()=>k=!1)),l.$set(J);let U=w;w=ue(h),w===U?ne[w].p(h,L):(me(),A(ne[U],1,1,()=>{ne[U]=null}),ge(),g=ne[w],g?g.p(h,L):(g=ne[w]=fe[w](h),g.c()),N(g,1),g.m(r,H));const u={};L[0]&786432&&(u.enabled=!h[18]&&!h[19]),!Z&&L[0]&32768&&(Z=!0,u.selected_elements=h[15],Y(()=>Z=!1)),!Q&&L[0]&16&&(Q=!0,u.elements=h[4],Y(()=>Q=!1)),j.$set(u)},i(h){z||(N(y),N(l.$$.fragment,h),N(g),N(j.$$.fragment,h),z=!0)},o(h){A(y),A(l.$$.fragment,h),A(g),A(j.$$.fragment,h),z=!1},d(h){h&&v(e),y&&y.d(),_e(l),ne[w].d(),_e(j)}}}function Re(t){let e,n,i="Aggregation",s,d,r,a,_;function m(c){t[42](c)}function C(c){t[43](c)}let o={enabled:!t[18]&&!t[19]};return t[6]!==void 0&&(o.options=t[6]),t[21]!==void 0&&(o.selected_option=t[21]),d=new Me({props:o}),B.push(()=>G(d,"options",m)),B.push(()=>G(d,"selected_option",C)),d.$on("selection-changed",t[44]),{c(){e=D("div"),n=D("h3"),n.textContent=i,s=F(),re(d.$$.fragment),this.h()},l(c){e=I(c,"DIV",{class:!0});var l=O(e);n=I(l,"H3",{"data-svelte-h":!0}),te(n)!=="svelte-126hufg"&&(n.textContent=i),s=R(l),ae(d.$$.fragment,l),l.forEach(v),this.h()},h(){T(e,"class","col-6")},m(c,l){q(c,e,l),E(e,n),E(e,s),ce(d,e,null),_=!0},p(c,l){const f={};l[0]&786432&&(f.enabled=!c[18]&&!c[19]),!r&&l[0]&64&&(r=!0,f.options=c[6],Y(()=>r=!1)),!a&&l[0]&2097152&&(a=!0,f.selected_option=c[21],Y(()=>a=!1)),d.$set(f)},i(c){_||(N(d.$$.fragment,c),_=!0)},o(c){A(d.$$.fragment,c),_=!1},d(c){c&&v(e),_e(d)}}}function wt(t){let e,n="Node",i,s,d,r,a;function _(o){t[51](o)}function m(o){t[52](o)}let C={enabled:!t[18]&&!t[19]};return t[13]!==void 0&&(C.selected_elements=t[13]),t[3]!==void 0&&(C.elements=t[3]),s=new Se({props:C}),B.push(()=>G(s,"selected_elements",_)),B.push(()=>G(s,"elements",m)),s.$on("selection-changed",t[53]),{c(){e=D("h3"),e.textContent=n,i=F(),re(s.$$.fragment)},l(o){e=I(o,"H3",{"data-svelte-h":!0}),te(e)!=="svelte-ocjo5w"&&(e.textContent=n),i=R(o),ae(s.$$.fragment,o)},m(o,c){q(o,e,c),q(o,i,c),ce(s,o,c),a=!0},p(o,c){const l={};c[0]&786432&&(l.enabled=!o[18]&&!o[19]),!d&&c[0]&8192&&(d=!0,l.selected_elements=o[13],Y(()=>d=!1)),!r&&c[0]&8&&(r=!0,l.elements=o[3],Y(()=>r=!1)),s.$set(l)},i(o){a||(N(s.$$.fragment,o),a=!0)},o(o){A(s.$$.fragment,o),a=!1},d(o){o&&(v(e),v(i)),_e(s,o)}}}function Et(t){let e,n="Technology",i,s,d,r,a;function _(o){t[48](o)}function m(o){t[49](o)}let C={enabled:!t[18]&&!t[19]};return t[12]!==void 0&&(C.selected_elements=t[12]),t[11]!==void 0&&(C.elements=t[11]),s=new Se({props:C}),B.push(()=>G(s,"selected_elements",_)),B.push(()=>G(s,"elements",m)),s.$on("selection-changed",t[50]),{c(){e=D("h3"),e.textContent=n,i=F(),re(s.$$.fragment)},l(o){e=I(o,"H3",{"data-svelte-h":!0}),te(e)!=="svelte-q7cxxi"&&(e.textContent=n),i=R(o),ae(s.$$.fragment,o)},m(o,c){q(o,e,c),q(o,i,c),ce(s,o,c),a=!0},p(o,c){const l={};c[0]&786432&&(l.enabled=!o[18]&&!o[19]),!d&&c[0]&4096&&(d=!0,l.selected_elements=o[12],Y(()=>d=!1)),!r&&c[0]&2048&&(r=!0,l.elements=o[11],Y(()=>r=!1)),s.$set(l)},i(o){a||(N(s.$$.fragment,o),a=!0)},o(o){A(s.$$.fragment,o),a=!1},d(o){o&&(v(e),v(i)),_e(s,o)}}}function Dt(t){let e,n,i,s;function d(_){t[57](_)}function r(_){t[58](_)}let a={};return t[22]!==void 0&&(a.config=t[22]),t[20]!==void 0&&(a.plot_name=t[20]),e=new Ct({props:a}),B.push(()=>G(e,"config",d)),B.push(()=>G(e,"plot_name",r)),{c(){re(e.$$.fragment)},l(_){ae(e.$$.fragment,_)},m(_,m){ce(e,_,m),s=!0},p(_,m){const C={};!n&&m[0]&4194304&&(n=!0,C.config=_[22],Y(()=>n=!1)),!i&&m[0]&1048576&&(i=!0,C.plot_name=_[20],Y(()=>i=!1)),e.$set(C)},i(_){s||(N(e.$$.fragment,_),s=!0)},o(_){A(e.$$.fragment,_),s=!1},d(_){_e(e,_)}}}function It(t){let e,n="No data with this selection.";return{c(){e=D("div"),e.textContent=n,this.h()},l(i){e=I(i,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1doxial"&&(e.textContent=n),this.h()},h(){T(e,"class","text-center")},m(i,s){q(i,e,s)},p:K,i:K,o:K,d(i){i&&v(e)}}}function Vt(t){let e,n="No carriers with this selection.";return{c(){e=D("div"),e.textContent=n,this.h()},l(i){e=I(i,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1wht3n0"&&(e.textContent=n),this.h()},h(){T(e,"class","text-center")},m(i,s){q(i,e,s)},p:K,i:K,o:K,d(i){i&&v(e)}}}function Tt(t){let e,n="No technologies with this selection.";return{c(){e=D("div"),e.textContent=n,this.h()},l(i){e=I(i,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1ontq7"&&(e.textContent=n),this.h()},h(){T(e,"class","text-center")},m(i,s){q(i,e,s)},p:K,i:K,o:K,d(i){i&&v(e)}}}function Ht(t){let e;return{c(){e=D("div")},l(n){e=I(n,"DIV",{}),O(e).forEach(v)},m(n,i){q(n,e,i)},p:K,i:K,o:K,d(n){n&&v(e)}}}function yt(t){let e;return{c(){e=D("div")},l(n){e=I(n,"DIV",{}),O(e).forEach(v)},m(n,i){q(n,e,i)},p:K,i:K,o:K,d(n){n&&v(e)}}}function Lt(t){let e,n='<div class="spinner-border center" role="status"><span class="visually-hidden">Loading...</span></div>';return{c(){e=D("div"),e.innerHTML=n,this.h()},l(i){e=I(i,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1a5ljpq"&&(e.innerHTML=n),this.h()},h(){T(e,"class","text-center")},m(i,s){q(i,e,s)},p:K,i:K,o:K,d(i){i&&v(e)}}}function St(t){let e,n='<div class="col"><h2>Production</h2></div>',i,s,d,r,a,_,m,C='<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Solution Selection</button>',o,c,l,f,k,b,w,g,H,V,P,X,j,Z,Q,z,y,$;function de(u){t[28](u)}function oe(u){t[29](u)}function fe(u){t[30](u)}function ne(u){t[31](u)}function ue(u){t[32](u)}function pe(u){t[33](u)}let x={enabled:!t[18]&&!t[19]};t[0]!==void 0&&(x.carriers=t[0]),t[1]!==void 0&&(x.nodes=t[1]),t[4]!==void 0&&(x.years=t[4]),t[8]!==void 0&&(x.selected_solution=t[8]),t[2]!==void 0&&(x.edges=t[2]),t[18]!==void 0&&(x.loading=t[18]),f=new bt({props:x}),B.push(()=>G(f,"carriers",de)),B.push(()=>G(f,"nodes",oe)),B.push(()=>G(f,"years",fe)),B.push(()=>G(f,"selected_solution",ne)),B.push(()=>G(f,"edges",ue)),B.push(()=>G(f,"loading",pe)),f.$on("solution_selected",t[34]);let M=!t[18]&&t[8]&&Ne(t),h=!t[19]&&t[10]&&(t[11].length>0||t[9]=="import_export")&&Fe(t);const L=[Lt,yt,Ht,Tt,Vt,It,Dt],J=[];function U(u,S){return u[18]||u[19]?0:u[8]==null?1:u[7]==null?2:u[11].length==0&&u[9]!="import_export"?3:u[0].length==0?4:u[7].length==0?5:6}return z=U(t),y=J[z]=L[z](t),{c(){e=D("div"),e.innerHTML=n,i=F(),s=D("div"),d=D("div"),r=D("div"),a=D("div"),_=D("div"),m=D("h2"),m.innerHTML=C,o=F(),c=D("div"),l=D("div"),re(f.$$.fragment),P=F(),M&&M.c(),X=F(),h&&h.c(),j=F(),Z=D("div"),Q=D("div"),y.c(),this.h()},l(u){e=I(u,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1ow2g6f"&&(e.innerHTML=n),i=R(u),s=I(u,"DIV",{class:!0});var S=O(s);d=I(S,"DIV",{class:!0,style:!0});var le=O(d);r=I(le,"DIV",{class:!0,style:!0});var ie=O(r);a=I(ie,"DIV",{class:!0,id:!0});var se=O(a);_=I(se,"DIV",{class:!0});var he=O(_);m=I(he,"H2",{class:!0,"data-svelte-h":!0}),te(m)!=="svelte-64kjki"&&(m.innerHTML=C),o=R(he),c=I(he,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var ve=O(c);l=I(ve,"DIV",{class:!0});var ke=O(l);ae(f.$$.fragment,ke),ke.forEach(v),ve.forEach(v),he.forEach(v),P=R(se),M&&M.l(se),X=R(se),h&&h.l(se),se.forEach(v),ie.forEach(v),le.forEach(v),S.forEach(v),j=R(u),Z=I(u,"DIV",{class:!0});var Ce=O(Z);Q=I(Ce,"DIV",{class:!0,style:!0});var we=O(Q);y.l(we),we.forEach(v),Ce.forEach(v),this.h()},h(){T(e,"class","row"),T(m,"class","accordion-header"),T(l,"class","accordion-body"),T(c,"id","collapseOne"),T(c,"class","accordion-collapse collapse show"),T(c,"data-bs-parent","#accordionExample"),T(_,"class","accordion-item solution-selection"),T(a,"class","accordion"),T(a,"id","accordionExample"),T(r,"class","filters"),be(r,"position","absolute"),be(r,"width","100%"),T(d,"class","col position-relative"),be(d,"z-index","1"),be(d,"position","relative"),T(s,"class","row"),T(Q,"class","col"),be(Q,"margin-top","400px"),T(Z,"class","row")},m(u,S){q(u,e,S),q(u,i,S),q(u,s,S),E(s,d),E(d,r),E(r,a),E(a,_),E(_,m),E(_,o),E(_,c),E(c,l),ce(f,l,null),E(a,P),M&&M.m(a,null),E(a,X),h&&h.m(a,null),q(u,j,S),q(u,Z,S),E(Z,Q),J[z].m(Q,null),$=!0},p(u,S){const le={};S[0]&786432&&(le.enabled=!u[18]&&!u[19]),!k&&S[0]&1&&(k=!0,le.carriers=u[0],Y(()=>k=!1)),!b&&S[0]&2&&(b=!0,le.nodes=u[1],Y(()=>b=!1)),!w&&S[0]&16&&(w=!0,le.years=u[4],Y(()=>w=!1)),!g&&S[0]&256&&(g=!0,le.selected_solution=u[8],Y(()=>g=!1)),!H&&S[0]&4&&(H=!0,le.edges=u[2],Y(()=>H=!1)),!V&&S[0]&262144&&(V=!0,le.loading=u[18],Y(()=>V=!1)),f.$set(le),!u[18]&&u[8]?M?(M.p(u,S),S[0]&262400&&N(M,1)):(M=Ne(u),M.c(),N(M,1),M.m(a,X)):M&&(me(),A(M,1,1,()=>{M=null}),ge()),!u[19]&&u[10]&&(u[11].length>0||u[9]=="import_export")?h?(h.p(u,S),S[0]&527872&&N(h,1)):(h=Fe(u),h.c(),N(h,1),h.m(a,null)):h&&(me(),A(h,1,1,()=>{h=null}),ge());let ie=z;z=U(u),z===ie?J[z].p(u,S):(me(),A(J[ie],1,1,()=>{J[ie]=null}),ge(),y=J[z],y?y.p(u,S):(y=J[z]=L[z](u),y.c()),N(y,1),y.m(Q,null))},i(u){$||(N(f.$$.fragment,u),N(M),N(h),N(y),$=!0)},o(u){A(f.$$.fragment,u),A(M),A(h),A(y),$=!1},d(u){u&&(v(e),v(i),v(s),v(j),v(Z)),_e(f),M&&M.d(),h&&h.d(),J[z].d()}}}function Mt(t,e,n){let i,s=[],d=[],r=[],a=[],_=[],m={conversion:["input","output"],storage:["charge","discharge"],transport:null,import_export:["import","export"]},C=["technology","node"],o=null,c=null,l=null,f=null,k=null,b=[],w=[],g=[],H=null,V=[],P=["not_normalized","normalized"],X="not_normalized",j=!1,Z=!1,Q="plot",z="node",$={type:"bar",data:{datasets:[]},options:{responsive:!0,scales:{x:{stacked:!0,title:{display:!0,text:"Year"}},y:{stacked:!0,title:{display:!0,text:f+" ["+ne()+"]"}}}}};function de(){ue().then(()=>{pe(),x(),L()})}function oe(){n(15,V=_),n(13,g=d),n(12,w=b)}function fe(){switch(f){case"conversion":return"flow_conversion_"+H;case"storage":return"flow_storage_"+H;case"transport":return"flow_transport";case"import_export":return"flow_"+H;default:return null}}function ne(){if(c===null)return"";for(const p of c.data)if(b[0]==p.technology&&(p.carrier==k||p.carrier===void 0))return p[0];return""}async function ue(){n(19,Z=!0);let p=fe();p!==null&&(p=Ie(p,l==null?void 0:l.version),await vt(l.solution_name,p,l.scenario_name,l.detail.system.reference_year,l.detail.system.interval_between_years).then(W=>{W.data!==null&&(i=W.data,c=W.unit,n(19,Z=!1))}))}function pe(){n(7,o=null),n(10,k="");let p=new Set(i.data.map(ee=>ee.technology)),W=[...new Set([...p].map(ee=>l==null?void 0:l.detail.reference_carrier[ee]))];if(l==null){n(0,s=[]);return}switch(f){case Ie("import_export",l==null?void 0:l.version):H=="import"?n(0,s=l.detail.carriers_import):n(0,s=l.detail.carriers_export);break;case Ie("conversion",l==null?void 0:l.version):let ee=l.detail.carriers_output;H=="input"&&(ee=l.detail.carriers_input),n(0,s=[]);for(const Le in ee)n(0,s=[...new Set([...s,...ee[Le]])]);break;default:n(0,s=l.detail.system.set_carriers)}n(0,s=s.filter(ee=>W.includes(ee))),s.length==1&&n(10,k=s[0]),oe()}function x(){if(n(7,o=[]),f!=null&&k!=null){switch(n(11,b=(l==null?void 0:l.detail.system.set_technologies)??[]),f){case"conversion":n(11,b=[]);let p=l.detail.carriers_input;H=="output"&&(p=l.detail.carriers_output);for(const W in p)p[W].includes(k)&&b.push(W);break;case"storage":n(11,b=(l==null?void 0:l.detail.system.set_storage_technologies.filter(W=>(l==null?void 0:l.detail.reference_carrier[W])==k))??[]);break;case"transport":n(11,b=(l==null?void 0:l.detail.system.set_transport_technologies.filter(W=>(l==null?void 0:l.detail.reference_carrier[W])==k))??[]);break;case"import_export":n(11,b=[]);break}b.length==1&&n(12,w=[b[0]]),oe()}}function M(){n(3,a=d),f=="transport"&&n(3,a=r)}function h(){n(7,o=[]),f!=null&&(m[f]!=null&&n(14,H=m[f][0]),f=="import_export"&&n(21,z="technology"),ue().then(()=>{pe(),x(),M(),L()}))}function L(){if(f=="import_export"&&n(21,z="node"),z=="technology"?n(13,g=d):n(12,w=b),g.length==0||V.length==0||w.length==0&&f!="import_export"||!i){n(7,o=[]);return}let p={},W={},ee="node";f=="transport"&&(ee="edge"),f=="import_export"?(p[ee]=g,W.carrier=[k]):z=="technology"?(p[ee]=g,W.technology=w):(p.technology=w,W[ee]=g);let Le=_.filter(De=>!V.includes(De)),pt=i.data.filter(De=>De.carrier===void 0||De.carrier==k);n(7,o=kt(pt,p,W,Le,X=="normalized")),n(22,$.data={datasets:o},$),n(22,$.options.scales.y.title.text=f+" ["+ne()+"]",$);let Ee=l.solution_name.split(".");n(20,Q=[Ee[(Ee==null?void 0:Ee.length)-1],l==null?void 0:l.scenario_name,Ie(fe(),l==null?void 0:l.version),k].join("_"))}function J(p){s=p,n(0,s)}function U(p){d=p,n(1,d)}function u(p){_=p,n(4,_)}function S(p){l=p,n(8,l)}function le(p){r=p,n(2,r)}function ie(p){j=p,n(18,j)}const se=()=>{h(),oe()};function he(){f=Oe(this),n(9,f),n(5,m)}const ve=()=>{h()};function ke(p){t.$$.not_equal(m[f],p)&&(m[f]=p,n(5,m))}function Ce(p){H=p,n(14,H)}const we=p=>{de()};function We(){k=Oe(this),n(10,k),n(0,s)}const Xe=()=>{x(),L()};function Ze(p){C=p,n(6,C)}function $e(p){z=p,n(21,z)}const xe=p=>{L()};function et(p){P=p,n(16,P)}function tt(p){X=p,n(17,X)}const nt=p=>{L()};function lt(p){w=p,n(12,w)}function ot(p){b=p,n(11,b)}const it=()=>{L()};function st(p){g=p,n(13,g)}function rt(p){a=p,n(3,a)}const at=p=>{L()};function ct(p){V=p,n(15,V)}function _t(p){_=p,n(4,_)}const ft=p=>{L()};function ut(p){$=p,n(22,$)}function dt(p){Q=p,n(20,Q)}return[s,d,r,a,_,m,C,o,l,f,k,b,w,g,H,V,P,X,j,Z,Q,z,$,de,oe,x,h,L,J,U,u,S,le,ie,se,he,ve,ke,Ce,we,We,Xe,Ze,$e,xe,et,tt,nt,lt,ot,it,st,rt,at,ct,_t,ft,ut,dt]}class Bt extends gt{constructor(e){super(),mt(this,e,Mt,St,ht,{},null,[-1,-1,-1])}}export{Bt as component};
