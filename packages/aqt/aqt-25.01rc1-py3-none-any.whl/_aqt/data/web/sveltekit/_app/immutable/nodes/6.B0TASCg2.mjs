var Sn=Object.defineProperty;var On=(s,e,r)=>e in s?Sn(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var ie=(s,e,r)=>On(s,typeof e!="symbol"?e+"":e,r);import{L as Rn,M as An,N as Tn,O as Dn,P as In,s as nt,Q as Ze,S as Ye,T as Ge,U as Xt,V as js,W as as,X as kt,Y as Gs,Z as Mt,_ as Ln,$ as En,a0 as Jt,a1 as Mn,a2 as Nn,a3 as Fn,a4 as Vn,a5 as Hn,a6 as Bn,a7 as zn}from"../chunks/backend.B-rEzG1h.mjs";import{b as jn,e as Gn,f as Wn,a as qn}from"../chunks/utils.CuLOlh8M.mjs";import{s as y,b4 as Cr,g as a,C as wr,B as _,Z as Ot,j as Qn,b5 as Un,p as $e,a2 as se,b as pe,Y as Yn,W as us,X as Kn,J as W,M as $,K as E,t as O,n as ee,l as le,a as Ve,m as V,L as We,a$ as ke,aD as ue,a0 as Xn}from"../chunks/runtime.9HYTEYPq.mjs";import{w as Ae,g as Re,d as Jn,r as _r,a as Zn}from"../chunks/index.yI85F2M8.mjs";import{c as It}from"../chunks/cloneDeep.BnutOe-B.mjs";import{b as cs,i as Ws,a as ea,S as ta}from"../chunks/Select.esKcVuQn.mjs";import{e as ze,a as v,b as X,t as J}from"../chunks/disclose-version.CLyesH2z.mjs";import{i as he}from"../chunks/legacy.C9ld2zwP.mjs";import{b as xt}from"../chunks/this.Dt6cUv6Z.mjs";import{p as B,a as Pe,s as kr}from"../chunks/props.DYb31JuL.mjs";import{s as sa,c as Pr,o as ds,a as ra}from"../chunks/index-client.Bkp9zjqs.mjs";import{dU as br,u as He,dV as os,at as st,dW as na,dX as aa,t as mt,dY as fs,dZ as xr,d_ as oa,d$ as qs,e0 as ia,e1 as Qs,e2 as la,e3 as ua,e4 as ca,e5 as da,e6 as fa,e7 as ga,e8 as va,e9 as $a,ea as pa,eb as ma,ec as ha,ed as ya,ee as Ca,ef as Us,eg as wa,eh as _a,ei as ka,ej as Pa,ek as Ys,el as ba,em as xa,en as Sa,eo as Oa,ep as Ra,eq as Aa,er as Ta,es as Da,et as Ia,eu as La,ev as Sr,ew as Ea,ex as Ma,ey as Na,ez as Fa,eA as Va,eB as Ha,eC as Ba,eD as za,eE as ja,eF as Ga,eG as Wa,eH as qa,eI as Qa,eJ as Ua,eK as Ya,eL as Ka,eM as Xa,eN as Ja,eO as Za,eP as eo,eQ as to,eR as so,eS as ro,eT as no,eU as ao,eV as oo,eW as io,eX as lo,eY as uo,eZ as co,e_ as fo,e$ as go,f0 as vo,f1 as $o,f2 as po,f3 as mo,f4 as ho,f5 as Ks,f6 as yo,f7 as Co,f8 as wo,f9 as _o,fa as ko,fb as Po,fc as bo,fd as Xs,fe as xo,ff as So,fg as Oo,fh as Ro,fi as Or,fj as Rr,fk as Ar,fl as Ao,fm as To,fn as Do,fo as Io,q as pt,fp as Lo,fq as Eo,fr as Mo,fs as No,ft as Fo,fu as Lt,fv as Js,fw as Zs,fx as Tr,fy as Vo,fz as Dr,fA as Ho,fB as Bo,fC as zo,fD as jo,b3 as ut,fE as er,fF as Go,fG as Wo,fH as qo,fI as Qo,fJ as Uo,fK as Yo,fL as Ko,fM as Xo,fN as Jo,fO as Zo,fP as ei,fQ as tr,fR as ti,fS as si,fT as ri,ci as ni,cg as ai,cw as Ir,fU as oi,cN as ii,cj as li,fV as Zt,fW as ui,fX as ci,fY as di,fZ as fi,f_ as Lr,f$ as Er,g0 as es,g1 as gi,g2 as vi,g3 as $i,g4 as Mr,g5 as sr,g6 as pi,g7 as mi,g8 as hi,g9 as yi,ga as Ci,gb as wi,gc as _i,dq as ki,gd as Pi,ge as bi,gf as xi,gg as Si,gh as Oi,gi as Nr,gj as Ri,gk as Ai,gl as Ti,gm as Di,gn as Ii,go as Li,gp as Ei,gq as Mi,T as Ni,gr as Fi,gs as Vi,gt as Hi,gu as Bi,gv as zi,gw as ji,gx as Gi,gy as Wi,gz as qi,gA as Fr,gB as rr,gC as Qi,gD as Ui,gE as Yi,gF as Ki,gG as Xi,gH as Ji,gI as Zi,gJ as el,gK as tl,gL as sl,gM as rl,gN as nr,gO as nl,gP as al,gQ as ol,gR as il,gS as ll,gT as ul,gU as cl,gV as ar,gW as dl,gX as fl,gY as gl,gZ as vl,g_ as $l,g$ as pl,h0 as ml,h1 as hl,h2 as yl,h3 as Cl,h4 as wl,h5 as _l,h6 as kl}from"../chunks/runtime-require.CdrmIVJi.mjs";import{c as Te,C as Pl}from"../chunks/Container.D3Od9Kte.mjs";import{I as bl,b as Ie}from"../chunks/IconButton.CmmzP052.mjs";import{s as Se,b as fe,r as ht,p as at,a as H,v as Vr,e as we,q as te,t as xl}from"../chunks/store.CPnfR7A8.mjs";import{R as xe}from"../chunks/Row.CSJRSN1D.mjs";import{e as Ft,i as gs,p as Sl}from"../chunks/theme.CXOh7ovT.mjs";import{c as is}from"../chunks/svelte-component.BbWe7DRL.mjs";import{T as Qe}from"../chunks/TitledContainer.DOvsu3Dr.mjs";import{C as ct,R as Rt,H as ge,c as Ne,a as ne,b as Je,S as qe,E as tt,M as Ol}from"../chunks/EnumSelectorRow.DzLLz8k8.mjs";import{c as At,M as Hr,S as Rl,l as Al,u as Tl,v as Dl,w as Il,d as Ll,W as El,P as Ml,D as Pt,t as Nl}from"../chunks/Badge.B0ScLIjI.mjs";import{a as Tt,b as ts}from"../chunks/input.B4kPm_Jv.mjs";import{I as Nt,ab as Fl,J as Vl,f as or,h as Br,ac as Hl,S as Bl,g as zl,p as jl}from"../chunks/Shortcut.BkgKLm0g.mjs";import{C as ot}from"../chunks/Col.C_O1ytZJ.mjs";import{m as zr}from"../chunks/context-keys.Dbye-yJ_.mjs";import{L as Gl,S as Wl}from"../chunks/LabelButton.Cn2TXpmS.mjs";import{t as ir,s as lr}from"../chunks/index.CfPDdrrA.mjs";import{r as Et}from"../chunks/progress.CMkmwDLY.mjs";import{ac as vs,y as ur,z as cr,A as dr,C as ql,B as Ql,D as Ul,E as Yl,H as fr,F as Kl,G as gr,b as Xl,J as Jl,I as Zl,L as eu,K as tu,N as su,M as ru}from"../chunks/HoverColumns.jHWIm4PJ.mjs";import{t as ss,b as Ke,c as nu,u as au,e as ou}from"../chunks/time.Dzwd1EZR.mjs";import{t as iu}from"../chunks/time.lFCfriob.mjs";import{I as lu,i as uu,c as cu,C as du,T as fu}from"../chunks/TableData.C2YPDXzz.mjs";import{S as vr,a as gu}from"../chunks/isObject.DB8w6JNV.mjs";function vu(s){y(s,s.v+1)}function $u(s){let e=0,r=Qn(0),t;return()=>{Cr()&&(a(r),wr(()=>(e===0&&(t=_(()=>s(()=>vu(r)))),e+=1,()=>{Ot().then(()=>{e-=1,e===0&&(t==null||t(),t=void 0)})})))}}function pu(s,e){let r=s();const t=Ae(r,n=>{let o=r!==s();const g=Un(()=>{wr(()=>{const i=s();o&&n(i)})});return o=!0,g});return e?{set:e,update:n=>e(n(s())),subscribe:t.subscribe}:{subscribe:t.subscribe}}function mu(s){let e;const r=$u(n=>{let o=!1;const g=s.subscribe(i=>{e=i,o&&n()});return o=!0,g});function t(){return Cr()?(r(),e):Re(s)}return"set"in s?{get current(){return t()},set current(n){s.set(n)}}:{get current(){return t()}}}const hu=Object.freeze(Object.defineProperty({__proto__:null,derived:Jn,fromStore:mu,get:Re,readable:_r,readonly:Zn,toStore:pu,writable:Ae},Symbol.toStringTag,{value:"Module"}));function yu(s,e,...r){return Cu(s,uu,e,r)}function Cu(s,e,r,t){return function n(o,g){if(g>=t.length)return r(o);const i=new lu,l=t[g++];let d=-1;for(const m of o){const h=l(m,++d,o),f=i.get(h);f?f.push(m):i.set(h,[m])}for(const[m,h]of i)i.set(m,n(h,g));return e(i)}(s,0)}const wu=cu("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function _u(s,e){for(var r=-1,t=s==null?0:s.length,n=Array(t);++r<t;)n[r]=e(s[r],r,s);return n}var $r=vr?vr.prototype:void 0,pr=$r?$r.toString:void 0;function jr(s){if(typeof s=="string")return s;if(At(s))return _u(s,jr)+"";if(vs(s))return pr?pr.call(s):"";var e=s+"";return e=="0"&&1/s==-1/0?"-0":e}function ku(s){return s}var Pu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bu=/^\w*$/;function $s(s,e){if(At(s))return!1;var r=typeof s;return r=="number"||r=="symbol"||r=="boolean"||s==null||vs(s)?!0:bu.test(s)||!Pu.test(s)||e!=null&&s in Object(e)}var xu="Expected a function";function ps(s,e){if(typeof s!="function"||e!=null&&typeof e!="function")throw new TypeError(xu);var r=function(){var t=arguments,n=e?e.apply(this,t):t[0],o=r.cache;if(o.has(n))return o.get(n);var g=s.apply(this,t);return r.cache=o.set(n,g)||o,g};return r.cache=new(ps.Cache||Hr),r}ps.Cache=Hr;var Su=500;function Ou(s){var e=ps(s,function(t){return r.size===Su&&r.clear(),t}),r=e.cache;return e}var Ru=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Au=/\\(\\)?/g,Tu=Ou(function(s){var e=[];return s.charCodeAt(0)===46&&e.push(""),s.replace(Ru,function(r,t,n,o){e.push(n?o.replace(Au,"$1"):t||r)}),e});function Du(s){return s==null?"":jr(s)}function Gr(s,e){return At(s)?s:$s(s,e)?[s]:Tu(Du(s))}function Vt(s){if(typeof s=="string"||vs(s))return s;var e=s+"";return e=="0"&&1/s==-1/0?"-0":e}function Wr(s,e){e=Gr(e,s);for(var r=0,t=e.length;s!=null&&r<t;)s=s[Vt(e[r++])];return r&&r==t?s:void 0}function Iu(s,e,r){var t=s==null?void 0:Wr(s,e);return t===void 0?r:t}var Lu=1,Eu=2;function Mu(s,e,r,t){var n=r.length,o=n;if(s==null)return!o;for(s=Object(s);n--;){var g=r[n];if(g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++n<o;){g=r[n];var i=g[0],l=s[i],d=g[1];if(g[2]){if(l===void 0&&!(i in s))return!1}else{var m=new Rl,h;if(!(h===void 0?cs(d,l,Lu|Eu,t,m):h))return!1}}return!0}function qr(s){return s===s&&!gu(s)}function Nu(s){for(var e=Al(s),r=e.length;r--;){var t=e[r],n=s[t];e[r]=[t,n,qr(n)]}return e}function Qr(s,e){return function(r){return r==null?!1:r[s]===e&&(e!==void 0||s in Object(r))}}function Fu(s){var e=Nu(s);return e.length==1&&e[0][2]?Qr(e[0][0],e[0][1]):function(r){return r===s||Mu(r,s,e)}}function Vu(s,e){return s!=null&&e in Object(s)}function Hu(s,e,r){e=Gr(e,s);for(var t=-1,n=e.length,o=!1;++t<n;){var g=Vt(e[t]);if(!(o=s!=null&&r(s,g)))break;s=s[g]}return o||++t!=n?o:(n=s==null?0:s.length,!!n&&Tl(n)&&Dl(g,n)&&(At(s)||Il(s)))}function Bu(s,e){return s!=null&&Hu(s,e,Vu)}var zu=1,ju=2;function Gu(s,e){return $s(s)&&qr(e)?Qr(Vt(s),e):function(r){var t=Iu(r,s);return t===void 0&&t===e?Bu(r,s):cs(e,t,zu|ju)}}function Wu(s){return function(e){return e==null?void 0:e[s]}}function qu(s){return function(e){return Wr(e,s)}}function Qu(s){return $s(s)?Wu(Vt(s)):qu(s)}function Uu(s){return typeof s=="function"?s:s==null?ku:typeof s=="object"?At(s)?Gu(s[0],s[1]):Fu(s):Qu(s)}function Yu(s,e,r){r=typeof r=="function"?r:void 0;var t=r?r(s,e):void 0;return t===void 0?cs(s,e,void 0,r):!!t}function Ku(s,e){for(var r,t=-1,n=s.length;++t<n;){var o=e(s[t]);o!==void 0&&(r=r===void 0?o:r+o)}return r}function Xu(s,e){return s&&s.length?Ku(s,Uu(e)):0}function ls(){let s;return[new Promise(r=>s=r),s]}class Ju{constructor(e,r){ie(this,"currentConfig");ie(this,"currentAuxData");ie(this,"configList");ie(this,"cardStateCustomizer");ie(this,"currentDeck");ie(this,"deckLimits");ie(this,"defaults");ie(this,"addonComponents");ie(this,"newCardsIgnoreReviewLimit");ie(this,"applyAllParentLimits");ie(this,"fsrs");ie(this,"fsrsReschedule",Ae(!1));ie(this,"daysSinceLastOptimization");ie(this,"currentPresetName");ie(this,"originalConfigsPromise");ie(this,"originalConfigsResolve");ie(this,"targetDeckId");ie(this,"configs");ie(this,"selectedIdx");ie(this,"configListSetter");ie(this,"modifiedConfigs",new Set);ie(this,"removedConfigs",[]);ie(this,"schemaModified");ie(this,"_presetAssignmentsChanged",!1);ie(this,"loadedPresets",new Set);var t,n;this.targetDeckId=e,this.currentDeck=r.currentDeck,this.defaults=r.defaults.config,this.configs=r.allConfig.map(o=>({config:o.config,useCount:o.useCount})),this.selectedIdx=Math.max(0,this.configs.findIndex(o=>o.config.id===this.currentDeck.configId)),this.sortConfigs(),this.cardStateCustomizer=Ae(r.cardStateCustomizer),this.deckLimits=Ae((n=(t=r.currentDeck)==null?void 0:t.limits)!=null?n:ec()),this.newCardsIgnoreReviewLimit=Ae(r.newCardsIgnoreReviewLimit),this.applyAllParentLimits=Ae(r.applyAllParentLimits),this.fsrs=Ae(r.fsrs),this.daysSinceLastOptimization=Ae(r.daysSinceLastFsrsOptimize),this.configs[this.selectedIdx].useCount-=1,this.currentConfig=Ae(this.getCurrentConfig()),this.currentAuxData=Ae(this.getCurrentAuxData()),this.currentPresetName=Ae(this.configs[this.selectedIdx].config.name),this.configList=_r(this.getConfigList(),o=>{this.configListSetter=o}),this.schemaModified=r.schemaModified,this.addonComponents=Ae([]),Re(this.configList),this.currentConfig.subscribe(o=>this.onCurrentConfigChanged(o)),this.currentAuxData.subscribe(o=>this.onCurrentAuxDataChanged(o)),this.loadedPresets.add(this.configs[this.selectedIdx].config.id),[this.originalConfigsPromise,this.originalConfigsResolve]=ls()}async markCurrentPresetAsLoaded(){const e=this.configs[this.selectedIdx].config.id,r=this.loadedPresets;if(e&&!r.has(e)){r.add(e);const t=await this.originalConfigsPromise,n=t.configs.findIndex(o=>o.id===e);n!==-1&&(t.configs[n]=It(this.configs[this.selectedIdx].config))}}setCurrentIndex(e){this.selectedIdx=e,this._presetAssignmentsChanged=!0,this.updateCurrentConfig(),this.updateConfigList(),Ot().then(()=>this.markCurrentPresetAsLoaded())}getCurrentName(){return this.configs[this.selectedIdx].config.name}getCurrentNameForSearch(){return this.getCurrentName().replace(/([\\"])/g,"\\$1")}setCurrentName(e){if(this.configs[this.selectedIdx].config.name===e)return;const r=this.ensureNewNameUnique(e),t=this.configs[this.selectedIdx].config;t.name=r,t.id&&this.modifiedConfigs.add(t.id),this.sortConfigs(),this.updateConfigList()}addConfig(e){this.addConfigFrom(e,this.defaults)}cloneConfig(e){this.addConfigFrom(e,this.configs[this.selectedIdx].config.config)}addConfigFrom(e,r){const t=this.ensureNewNameUnique(e),o={config:new Rn({id:0n,name:t,config:new An(It(r))}),useCount:0};this.configs.push(o),this.selectedIdx=this.configs.length-1,this._presetAssignmentsChanged=!0,this.sortConfigs(),this.updateCurrentConfig(),this.updateConfigList()}removalWilLForceFullSync(){return!this.schemaModified&&this.configs[this.selectedIdx].config.id!==0n}defaultConfigSelected(){return this.configs[this.selectedIdx].config.id===1n}removeCurrentConfig(){const e=this.configs[this.selectedIdx].config.id;if(e===1n)throw Error("can't remove default config");e!==0n&&(this.removedConfigs.push(e),this.schemaModified=!0),this.configs.splice(this.selectedIdx,1);const r=Math.max(0,this.selectedIdx-1);this.setCurrentIndex(r)}dataForSaving(e){const t=[...this.configs.map(n=>n.config).filter((n,o)=>o!==this.selectedIdx&&(n.id===0n||this.modifiedConfigs.has(n.id))),this.configs[this.selectedIdx].config];return{targetDeckId:this.targetDeckId,removedConfigIds:this.removedConfigs,configs:t,mode:e,cardStateCustomizer:Re(this.cardStateCustomizer),limits:Re(this.deckLimits),newCardsIgnoreReviewLimit:Re(this.newCardsIgnoreReviewLimit),applyAllParentLimits:Re(this.applyAllParentLimits),fsrs:Re(this.fsrs),fsrsReschedule:Re(this.fsrsReschedule)}}presetAssignmentsChanged(){return this._presetAssignmentsChanged}async save(e){await Tn(this.dataForSaving(e))}onCurrentConfigChanged(e){const r=this.configs[this.selectedIdx].config;Ws(e,r.config)||(r.config=e,r.id&&this.modifiedConfigs.add(r.id))}onCurrentAuxDataChanged(e){const r=this.getCurrentAuxData();Ws(r,e)||this.currentConfig.update(t=>{const n=new TextEncoder().encode(JSON.stringify(e));return t.other=n,t})}ensureNewNameUnique(e){return this.configs.findIndex(t=>t.config.name===e)!==-1?e+(new Date().getTime()/1e3).toFixed(0):e}updateCurrentConfig(){this.currentConfig.set(this.getCurrentConfig()),this.currentAuxData.set(this.getCurrentAuxData())}updateConfigList(){var e;(e=this.configListSetter)==null||e.call(this,this.getConfigList()),this.currentPresetName.set(this.configs[this.selectedIdx].config.name)}getCurrentConfig(){return It(this.configs[this.selectedIdx].config.config)}getCurrentAuxData(){const e=this.configs[this.selectedIdx].config.config;return Zu(e.other)}sortConfigs(){const e=this.configs[this.selectedIdx].config.name;this.configs.sort((r,t)=>jn(r.config.name,t.config.name,{sensitivity:"base"})),this.selectedIdx=this.configs.findIndex(r=>r.config.name==e)}getConfigList(){return this.configs.map((r,t)=>{const n=r.useCount+(t===this.selectedIdx?1:0);return{name:r.config.name,current:t===this.selectedIdx,idx:t,useCount:n}})}getAllConfigs(){return It({configs:this.configs.map(e=>e.config),cardStateCustomizer:Re(this.cardStateCustomizer),limits:Re(this.deckLimits),newCardsIgnoreReviewLimit:Re(this.newCardsIgnoreReviewLimit),applyAllParentLimits:Re(this.applyAllParentLimits),fsrs:Re(this.fsrs),fsrsReschedule:Re(this.fsrsReschedule),currentConfig:Re(this.currentConfig)})}async isModified(){const e=await this.originalConfigsPromise,r=this.getAllConfigs();return!Yu(e,r,(t,n)=>{if(typeof t=="number"&&typeof n=="number")return Math.fround(t)===Math.fround(n)})}resolveOriginalConfigs(){this.originalConfigsResolve(this.getAllConfigs())}}function Zu(s){if(!s.length)return{};let e;try{e=JSON.parse(new TextDecoder().decode(s))}catch{return console.log("invalid json in deck config"),{}}return e.constructor!==Object?(console.log("invalid object in deck config"),{}):e}function ec(){return new Dn({})}class rt{constructor(e,r,t,n,o){ie(this,"title");ie(this,"value");ie(this,"setter");ie(this,"disabledValue");ie(this,"startValue");ie(this,"initialValue");this.title=e,this.value=this.initialValue=r,this.setter=t,this.disabledValue=n,this.startValue=o}reset(){this.setter(this.initialValue)}disable(){this.setter(this.disabledValue)}enable(e){var r,t;this.value=(t=(r=this.value)!=null?r:this.startValue)!=null?t:e,this.setter(this.value)}setValue(e){this.value=e,this.setter(e)}}async function ms(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),await Ot()}function bt(s){return s.fsrsParams5?s.fsrsParams5:s.fsrsParams4}const tc=async({params:s})=>{const e=Number(s.deckId),r=BigInt(e),t=await In({did:r});return{state:new Ju(BigInt(r),t)}},Ff=Object.freeze(Object.defineProperty({__proto__:null,load:tc},Symbol.toStringTag,{value:"Module"}));br("svelte",sa);br("svelte/store",hu);function sc(s,e){$e(e,!1);const r=Se(),t=()=>fe(g,"$components",r),n=()=>fe(i,"$auxData",r);let o=B(e,"state",8);const g=o().addonComponents,i=o().currentAuxData;he();var l=ze(),d=se(l);{var m=h=>{Qe(h,{title:"Add-ons",children:(f,M)=>{var w=ze(),b=se(w);Ft(b,1,t,gs,(P,x)=>{var k=ze(),L=se(k);is(L,()=>a(x).component,(I,q)=>{q(I,kr(()=>a(x),{get data(){return ht(),n()},set data(N){at(i,N)},$$legacy:!0}))}),v(P,k)}),v(f,w)},$$slots:{default:!0}})};Pe(d,h=>{t().length&&h(m)})}v(s,l),pe()}function rs(s,e){let r,t;if(e instanceof Element){if(r=e,t=Array.prototype.indexOf.call(s,r),t<0)return null}else if(typeof e=="string"){const n=s.namedItem(e);if(!n||(r=n,t=Array.prototype.indexOf.call(s,r),t<0))return null}else if(e<0){t=s.length+e;const n=s.item(t);if(!n)return null;r=n}else{t=e;const n=s.item(t);if(!n)return null;r=n}return[r,t]}class rc{constructor(e){ie(this,"parent");this.parent=e}insertElement(e,r){const t=rs(this.parent.children,r);if(!t)return-1;const[n,o]=t;return this.parent.insertBefore(e,n[0]),o}appendElement(e,r){var i;const t=rs(this.parent.children,r);if(!t)return-1;const[n,o]=t,g=(i=n.nextElementSibling)!=null?i:null;return this.parent.insertBefore(e,g),o+1}updateElement(e,r){const t=rs(this.parent.children,r);return t?(e(...t),!0):!1}}function nc(s){return new rc(s)}function ac(s){return s.nodeType===Node.ELEMENT_NODE}function oc(s){function e(t){Yn(s,t)}return[{get(){return us(s)},available(){return Kn(s)}},e]}function ic(s,e,r,t){const n=Ae([]);n.subscribe(e);function o(w,b){n.update(P=>(P.splice(w,0,b),P))}const[g,i]=ls(),l=g.then(nc),d=Ae([]);async function m(w,b){const[P,x]=ls(),k=await l,L=s();function I(T){return!w.id||T.id===w.id}async function q(T,R){for(const S of T)for(const p of S.addedNodes){if(!ac(p)||!I(p))continue;const c=b(p,k);return c>=0&&o(c,L),x(void 0),R.disconnect()}}new MutationObserver(q).observe(k.parent,{childList:!0});const G={component:w,hostProps:L};return d.update(T=>(T.push(G),T)),await P,{destroy(){d.update(T=>(ea(T,G),T))}}}async function h(w,b){return(await l).updateElement((x,k)=>{n.update(L=>(L[k]=w(L[k]),L))},b)}const f=t({addComponent:m,updateProps:h});function M(){const w=s();return n.update(b=>(b.push(w),b)),w}return r({getProps:M}),{dynamicSlotted:d,resolveSlotContainer:i,slotsInterface:f}}function lc(){return{detach:Ae(!1)}}function uc({addComponent:s,updateProps:e}){function r(i,l=0){return s(i,(d,m)=>m.insertElement(d,l))}function t(i,l=-1){return s(i,(d,m)=>m.appendElement(d,l))}function n(i){return e(l=>(l.detach.set(!1),l),i)}function o(i){return e(l=>(l.detach.set(!0),l),i)}function g(i){return e(l=>(l.detach.update(d=>!d),l),i)}return{insert:r,append:t,show:n,hide:o,toggle:g}}const cc=Symbol("dynamicSlotting"),[mr,dc]=oc(cc);var fc=X('<div class="dynamically-slottable svelte-8in7my"><!> <!></div>');function Xe(s,e){$e(e,!1);const r=Se(),t=()=>fe(f,"$dynamicSlotted",r);function n(x){return x}let o=B(e,"slotHost",8),g=B(e,"createProps",8,lc),i=B(e,"updatePropsList",8,n),l=B(e,"setSlotHostContext",8,dc),d=B(e,"createInterface",8,uc);const{slotsInterface:m,resolveSlotContainer:h,dynamicSlotted:f}=ic(g(),i(),l(),d());let M=B(e,"api",8);Object.assign(M(),m),he();var w=fc(),b=W(w);nt(b,e,"default",{});var P=$(b,2);Ft(P,1,t,({component:x,hostProps:k})=>x.id,(x,k)=>{let L=()=>a(k).component,I=()=>a(k).hostProps;var q=ze(),N=se(q);is(N,o,(G,T)=>{T(G,{get id(){return L().id},get hostProps(){return I()},children:(R,S)=>{var p=ze(),D=se(p);is(D,()=>L().component,(c,C)=>{C(c,kr(()=>L().props))}),v(R,p)},$$slots:{default:!0}})}),v(x,q)}),E(w),Ll(w,x=>h==null?void 0:h(x)),v(s,w),pe()}var gc=X('<div class="item svelte-u5rx4p"><!></div>');function K(s,e){var m;$e(e,!1);const r=Se(),t=()=>fe(g,"$detach",r);let n=B(e,"id",8,void 0),o=B(e,"hostProps",8,void 0);mr.available()||console.log("Item: should always have a slotHostContext");const{detach:g}=(m=o())!=null?m:mr.get().getProps();he();var i=gc(),l=W(i);{var d=h=>{var f=ze(),M=se(f);nt(M,e,"default",{}),v(h,f)};Pe(l,h=>{t()||h(d)})}E(i),O(()=>He(i,"id",n())),v(s,i),pe()}var vc=X(' <div class="inline-icon svelte-cpy9wq"><!></div>',1);function St(s,e){$e(e,!1);let r=B(e,"title",8);he(),ee();var t=vc(),n=se(t),o=$(n);O(()=>He(o,"title",os()));var g=W(o);Nt(g,{icon:Fl}),E(o),O(()=>{var i;return H(n,`${(i=r())!=null?i:""} `)}),v(s,t),pe()}var $c=X('<details><summary><!></summary> <div class="text svelte-pjduvg"><textarea class="card-state-customizer form-control svelte-pjduvg" spellcheck="false" autocapitalize="none"></textarea></div></details>'),pc=X('<div class="m-2"><!></div>');function mc(s,e){let r=B(e,"value",12),t=B(e,"title",8);var n=pc(),o=W(n);ct(o,{children:(g,i)=>{var l=$c(),d=W(l),m=W(d);St(m,{get title(){return t()}}),E(d);var h=$(d,2),f=W(h);Vr(f),E(h),E(l),Tt(f,r),v(g,l)},$$slots:{default:!0,revert:(g,i)=>{Rt(g,{slot:"revert",defaultValue:"",get value(){return r()},set value(l){r(l)},$$legacy:!0})}}}),E(n),v(s,n)}var hc=X('<div class="spinner decrement svelte-1dakg3f" tabindex="-1" role="button"><!></div> <div class="spinner increment svelte-1dakg3f" tabindex="-1" role="button"><!></div>',1),yc=X('<div class="spin-box svelte-1dakg3f"><input type="number" pattern="[0-9]*" inputmode="numeric" class="svelte-1dakg3f"> <!></div>');function Ur(s,e){$e(e,!1);let r=B(e,"value",12),t=B(e,"step",8,1),n=B(e,"min",8,1),o=B(e,"max",8,9999),g=B(e,"percentage",8,!1),i=V(),l=V(!1),d=V();function m(R){Number.isNaN(R)||r(Math.min(o(),Math.max(n(),R))),Ot().then(()=>ke(i,a(i).value=a(f)))}function h(R){if(Math.floor(R)===R)return 0;const S=R.toString().split(".")[1].length||0,p=g()?S-2:S;return Math.max(0,p)}let f=V();function M(){m(parseFloat(this.value)/a(d))}function w(R){a(l)&&(m(r()+(R.deltaY<0?t():-t())),R.preventDefault())}function b(R){m(r()+R),a(k)&&setTimeout(()=>b(R),L)}const P=[1500,1250,1e3,750,500,250];async function x(R){y(k,!0),L=128,y(I,setTimeout(R,250));for(const S of P)L=await new Promise(p=>setTimeout(()=>p(a(k)?L/2:128),S))}let k=V(!1),L,I=V();le(()=>We(g()),()=>{y(d,g()?100:1)}),le(()=>(We(r()),a(d),We(t())),()=>{y(f,(r()*a(d)).toFixed(h(t())))}),Ve(),he();var q=yc(),N=W(q);st(N),xt(N,R=>y(i,R),()=>a(i));var G=$(N,2);{var T=R=>{var S=hc(),p=se(S);O(()=>He(p,"title",na()));var D=W(p);or(D,{children:(A,z)=>{Nt(A,{icon:Br})},$$slots:{default:!0}}),E(p);var c=$(p,2);O(()=>He(c,"title",aa()));var C=W(c);or(C,{children:(A,z)=>{Nt(A,{icon:Hl})},$$slots:{default:!0}}),E(c),O(()=>{mt(p,"active",r()>n()),mt(c,"active",r()<o())}),we("click",p,()=>{a(i).focus(),r()>n()&&b(-t())}),we("mousedown",p,()=>x(()=>{r()>n()&&b(-t())})),we("mouseup",p,()=>{clearTimeout(a(I)),y(k,!1)}),we("click",c,()=>{a(i).focus(),r()<o()&&b(t())}),we("mousedown",c,()=>x(()=>{r()<o()&&b(t())})),we("mouseup",c,()=>{clearTimeout(a(I)),y(k,!1)}),v(R,S)};Pe(G,R=>{Vl()&&R(T)})}E(q),O(()=>{He(N,"min",n()*a(d)),He(N,"max",o()*a(d)),He(N,"step",t()*a(d)),fs(N,a(f))}),we("blur",N,M),we("focusin",N,()=>y(l,!0)),we("focusout",N,()=>y(l,!1)),we("wheel",q,w),v(s,q),pe()}var Cc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),wc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function et(s,e){let r=B(e,"value",12),t=B(e,"defaultValue",8),n=B(e,"min",8,0),o=B(e,"max",8,9999),g=B(e,"step",8,.01),i=B(e,"percentage",8,!1);var l=wc(),d=se(l);Te(d,()=>({"--cols":13})),xe(d.lastChild,{children:(m,h)=>{var f=Cc(),M=se(f);Te(M,()=>({"--col-size":7})),ot(M.lastChild,{breakpoint:"xs",children:(b,P)=>{var x=ze(),k=se(x);nt(k,e,"default",{}),v(b,x)},$$slots:{default:!0}}),E(M);var w=$(M,2);Te(w,()=>({"--col-size":6})),ot(w.lastChild,{breakpoint:"xs",children:(b,P)=>{ct(b,{children:(x,k)=>{Ur(x,{get min(){return n()},get max(){return o()},get step(){return g()},get percentage(){return i()},get value(){return r()},set value(L){r(L)},$$legacy:!0})},$$slots:{default:!0,revert:(x,k)=>{Rt(x,{slot:"revert",get defaultValue(){return t()},get value(){return r()},set value(L){r(L)},$$legacy:!0})}}})},$$slots:{default:!0}}),E(w),v(m,f)},$$slots:{default:!0}}),E(d),v(s,l)}var _c=X("<!> <!>",1),kc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Pc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Fe(s,e){let r=B(e,"value",12),t=B(e,"defaultValue",8),n=B(e,"min",8,0),o=B(e,"max",8,9999);var g=Pc(),i=se(g);Te(i,()=>({"--cols":13})),xe(i.lastChild,{children:(l,d)=>{var m=kc(),h=se(m);Te(h,()=>({"--col-size":7})),ot(h.lastChild,{breakpoint:"xs",children:(M,w)=>{var b=ze(),P=se(b);nt(P,e,"default",{}),v(M,b)},$$slots:{default:!0}}),E(h);var f=$(h,2);Te(f,()=>({"--col-size":6})),ot(f.lastChild,{breakpoint:"xs",children:(M,w)=>{xe(M,{class:"flex-grow-1",children:(b,P)=>{var x=_c(),k=se(x);nt(k,e,"tabs",{});var L=$(k,2);ct(L,{children:(I,q)=>{Ur(I,{get min(){return n()},get max(){return o()},get value(){return r()},set value(N){r(N)},$$legacy:!0})},$$slots:{default:!0,revert:(I,q)=>{Rt(I,{slot:"revert",get defaultValue(){return t()},get value(){return r()},set value(N){r(N)},$$legacy:!0})}}}),v(b,x)},$$slots:{default:!0}})},$$slots:{default:!0}}),E(f),v(l,m)},$$slots:{default:!0}}),E(i),v(s,g)}var bc=X('<input type="date" class="svelte-ora9c4">'),xc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Sc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Oc=X("<div><!></div>");function Rc(s,e){$e(e,!1);let r=B(e,"date",12);le(()=>We(r()),()=>{r(r()?r():"1970-01-01")}),Ve();var t=Oc(),n=W(t);ct(n,{children:(o,g)=>{var i=Sc(),l=se(i);Te(l,()=>({"--cols":13})),xe(l.lastChild,{children:(d,m)=>{var h=xc(),f=se(h);Te(f,()=>({"--col-size":7})),ot(f.lastChild,{breakpoint:"xs",children:(w,b)=>{var P=ze(),x=se(P);nt(x,e,"default",{}),v(w,P)},$$slots:{default:!0}}),E(f);var M=$(f,2);Te(M,()=>({"--col-size":6})),ot(M.lastChild,{breakpoint:"xs",children:(w,b)=>{var P=bc();st(P),Tt(P,r),v(w,P)},$$slots:{default:!0}}),E(M),v(d,h)},$$slots:{default:!0}}),E(l),v(o,i)},$$slots:{default:!0}}),E(t),v(s,t),pe()}var Ac=X("<!> <!> <!> <!> <!>",1),Tc=X("<!> <!>",1),Dc=X("<!> <!> <!>",1);function Ic(s,e){$e(e,!1);const r=Se(),t=()=>fe(h,"$fsrs",r),n=()=>fe(l,"$config",r),o=()=>fe(m,"$cardStateCustomizer",r);let g=B(e,"state",8),i=B(e,"api",8);const l=g().currentConfig,d=g().defaults,m=g().cardStateCustomizer,h=g().fsrs,f={maximumInterval:{title:xr(),help:oa(),url:ge.DeckOptions.maximumInterval},historicalRetention:{title:qs(),help:ia(),sched:Ne.FSRS},ignoreRevlogsBeforeMs:{title:Qs(),help:la(),sched:Ne.FSRS},startingEase:{title:ua(),help:ca(),url:ge.DeckOptions.startingEase,sched:Ne.SM2},easyBonus:{title:da(),help:fa(),url:ge.DeckOptions.easyBonus,sched:Ne.SM2},intervalModifier:{title:ga(),help:va(),url:ge.DeckOptions.intervalModifier,sched:Ne.SM2},hardInterval:{title:$a(),help:pa(),url:ge.DeckOptions.hardInterval,sched:Ne.SM2},newInterval:{title:ma(),help:ha(),url:ge.DeckOptions.newInterval,sched:Ne.SM2},customScheduling:{title:ya(),help:Ca(),url:"https://faqs.ankiweb.net/the-2021-scheduler.html#add-ons-and-custom-scheduling"}},M=Object.values(f);let w=V(),b=V();function P(k){a(w).show(),a(b).to(k)}he();var x=ue(()=>Us());Qe(s,{get title(){return a(x)},children:(k,L)=>{Xe(k,{slotHost:K,get api(){return i()},children:(I,q)=>{var N=Dc(),G=se(N);K(G,{children:(D,c)=>{Fe(D,{get defaultValue(){return d.maximumReviewInterval},min:1,max:365*100,get value(){return n().maximumReviewInterval},set value(C){te(l,_(n).maximumReviewInterval=C,_(n))},children:(C,A)=>{ne(C,{$$events:{click:()=>P(Object.keys(f).indexOf("maximumInterval"))},children:(z,Y)=>{ee();var Q=J();O(()=>H(Q,f.maximumInterval.title)),v(z,Q)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var T=$(G,2);{var R=D=>{var c=Ac(),C=se(c);K(C,{children:(F,j)=>{et(F,{get defaultValue(){return d.initialEase},min:1.31,max:5,get value(){return n().initialEase},set value(Z){te(l,_(n).initialEase=Z,_(n))},children:(Z,de)=>{ne(Z,{$$events:{click:()=>P(Object.keys(f).indexOf("startingEase"))},children:(ce,be)=>{ee();var ve=J();O(()=>H(ve,f.startingEase.title)),v(ce,ve)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var A=$(C,2);K(A,{children:(F,j)=>{et(F,{get defaultValue(){return d.easyMultiplier},min:1,max:5,get value(){return n().easyMultiplier},set value(Z){te(l,_(n).easyMultiplier=Z,_(n))},children:(Z,de)=>{ne(Z,{$$events:{click:()=>P(Object.keys(f).indexOf("easyBonus"))},children:(ce,be)=>{ee();var ve=J();O(()=>H(ve,f.easyBonus.title)),v(ce,ve)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var z=$(A,2);K(z,{children:(F,j)=>{et(F,{get defaultValue(){return d.intervalMultiplier},min:.5,max:2,get value(){return n().intervalMultiplier},set value(Z){te(l,_(n).intervalMultiplier=Z,_(n))},children:(Z,de)=>{ne(Z,{$$events:{click:()=>P(Object.keys(f).indexOf("intervalModifier"))},children:(ce,be)=>{ee();var ve=J();O(()=>H(ve,f.intervalModifier.title)),v(ce,ve)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var Y=$(z,2);K(Y,{children:(F,j)=>{et(F,{get defaultValue(){return d.hardMultiplier},min:.5,max:1.3,get value(){return n().hardMultiplier},set value(Z){te(l,_(n).hardMultiplier=Z,_(n))},children:(Z,de)=>{ne(Z,{$$events:{click:()=>P(Object.keys(f).indexOf("hardInterval"))},children:(ce,be)=>{ee();var ve=J();O(()=>H(ve,f.hardInterval.title)),v(ce,ve)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var Q=$(Y,2);K(Q,{children:(F,j)=>{et(F,{get defaultValue(){return d.lapseMultiplier},max:1,get value(){return n().lapseMultiplier},set value(Z){te(l,_(n).lapseMultiplier=Z,_(n))},children:(Z,de)=>{ne(Z,{$$events:{click:()=>P(Object.keys(f).indexOf("newInterval"))},children:(ce,be)=>{ee();var ve=J();O(()=>H(ve,f.newInterval.title)),v(ce,ve)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),v(D,c)},S=D=>{var c=Tc(),C=se(c);et(C,{get defaultValue(){return d.historicalRetention},min:.5,max:1,percentage:!0,get value(){return n().historicalRetention},set value(z){te(l,_(n).historicalRetention=z,_(n))},children:(z,Y)=>{ne(z,{$$events:{click:()=>P(Object.keys(f).indexOf("historicalRetention"))},children:(Q,F)=>{ee();var j=J();O(()=>H(j,qs())),v(Q,j)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var A=$(C,2);K(A,{children:(z,Y)=>{Rc(z,{get date(){return n().ignoreRevlogsBeforeDate},set date(Q){te(l,_(n).ignoreRevlogsBeforeDate=Q,_(n))},children:(Q,F)=>{ne(Q,{$$events:{click:()=>P(Object.keys(f).indexOf("ignoreRevlogsBeforeMs"))},children:(j,Z)=>{ee();var de=J();O(()=>H(de,Qs())),v(j,de)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),v(D,c)};Pe(T,D=>{t()?D(S,!1):D(R)})}var p=$(T,2);K(p,{children:(D,c)=>{mc(D,{get title(){return f.customScheduling.title},get value(){return ht(),o()},set value(C){at(m,C)},$$events:{click:()=>P(Object.keys(f).indexOf("customScheduling"))},$$legacy:!0})},$$slots:{default:!0}}),v(I,N)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(k,L)=>{var I=ue(()=>Us());Je(k,{get title(){return a(I)},get url(){return ge.DeckOptions.advanced},slot:"tooltip",get fsrs(){return t()},helpSections:M,$$events:{mount:q=>{y(w,q.detail.modal),y(b,q.detail.carousel)}}})}}}),pe()}var Lc=X("<!> <!>",1);function Ec(s,e){$e(e,!1);const r=Se(),t=()=>fe(g,"$config",r);let n=B(e,"state",8),o=B(e,"api",8);const g=n().currentConfig,i=n().defaults,l={disableAutoplay:{title:wa(),help:_a()},skipQuestionWhenReplaying:{title:ka(),help:Pa()}},d=Object.values(l);let m=V(),h=V();function f(w){a(m).show(),a(h).to(w)}he();var M=ue(()=>Ys());Qe(s,{get title(){return a(M)},children:(w,b)=>{Xe(w,{slotHost:K,get api(){return o()},children:(P,x)=>{var k=Lc(),L=se(k);K(L,{children:(q,N)=>{qe(q,{get defaultValue(){return i.disableAutoplay},get value(){return t().disableAutoplay},set value(G){te(g,_(t).disableAutoplay=G,_(t))},children:(G,T)=>{ne(G,{$$events:{click:()=>f(Object.keys(l).indexOf("disableAutoplay"))},children:(R,S)=>{ee();var p=J();O(()=>H(p,l.disableAutoplay.title)),v(R,p)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var I=$(L,2);K(I,{children:(q,N)=>{qe(q,{get defaultValue(){return i.skipQuestionWhenReplayingAnswer},get value(){return t().skipQuestionWhenReplayingAnswer},set value(G){te(g,_(t).skipQuestionWhenReplayingAnswer=G,_(t))},children:(G,T)=>{ne(G,{$$events:{click:()=>f(Object.keys(l).indexOf("skipQuestionWhenReplaying"))},children:(R,S)=>{ee();var p=J();O(()=>H(p,l.skipQuestionWhenReplaying.title)),v(R,p)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),v(P,k)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(w,b)=>{var P=ue(()=>Ys());Je(w,{get title(){return a(P)},get url(){return ge.DeckOptions.audio},slot:"tooltip",helpSections:d,$$events:{mount:x=>{y(m,x.detail.modal),y(h,x.detail.carousel)}}})}}}),pe()}function Mc(){return[{label:ba(),value:Ze.DECK},{label:xa(),value:Ze.DECK_THEN_RANDOM_NOTES},{label:Sa(),value:Ze.LOWEST_POSITION},{label:Oa(),value:Ze.HIGHEST_POSITION},{label:Ra(),value:Ze.RANDOM_NOTES},{label:Aa(),value:Ze.RANDOM_CARDS}]}function Nc(){return[{label:Ta(),value:Ye.TEMPLATE},{label:Da(),value:Ye.NO_SORT},{label:Ia(),value:Ye.TEMPLATE_THEN_RANDOM},{label:La(),value:Ye.RANDOM_NOTE_THEN_TEMPLATE},{label:Sr(),value:Ye.RANDOM_CARD}]}function Fc(s){return[{label:Ea(),value:Ge.DAY},{label:Ma(),value:Ge.DAY_THEN_DECK},{label:Na(),value:Ge.DECK_THEN_DAY},{label:Fa(),value:Ge.INTERVALS_ASCENDING},{label:Va(),value:Ge.INTERVALS_DESCENDING},...jc(s),{label:Ha(),value:Ge.RETRIEVABILITY_ASCENDING},{label:Ba(),value:Ge.RETRIEVABILITY_DESCENDING},{label:Sr(),value:Ge.RANDOM},{label:za(),value:Ge.ADDED},{label:ja(),value:Ge.REVERSE_ADDED}]}function hr(){return[{label:Ga(),value:Xt.MIX_WITH_REVIEWS},{label:Wa(),value:Xt.AFTER_REVIEWS},{label:qa(),value:Xt.BEFORE_REVIEWS}]}function Vc(){return[{label:Qa(),value:js.SUSPEND},{label:Ua(),value:js.TAG_ONLY}]}function Hc(){return[{label:Ya(),value:as.DUE},{label:Ka(),value:as.RANDOM}]}function Bc(){return[{label:Xa(),value:kt.BURY_CARD},{label:Ja(),value:kt.ANSWER_AGAIN},{label:Za(),value:kt.ANSWER_GOOD},{label:eo(),value:kt.ANSWER_HARD},{label:to(),value:kt.SHOW_REMINDER}]}function zc(){return[{label:so(),value:Gs.SHOW_ANSWER},{label:ro(),value:Gs.SHOW_REMINDER}]}function jc(s){const e=[{label:s?no():ao(),value:Ge.EASE_ASCENDING},{label:s?oo():io(),value:Ge.EASE_DESCENDING}];return s&&e.reverse(),e}var Gc=X("<!> <!> <!> <!> <!>",1);function Wc(s,e){$e(e,!1);const r=Se(),t=()=>fe(g,"$config",r);let n=B(e,"state",8),o=B(e,"api",8);const g=n().currentConfig,i=n().defaults,l={secondsToShowQuestion:{title:lo(),help:uo()},secondsToShowAnswer:{title:co(),help:fo()},waitForAudio:{title:go(),help:vo()},questionAction:{title:$o(),help:po()},answerAction:{title:mo(),help:ho()}},d=Object.values(l);let m=V(),h=V();function f(w){a(m).show(),a(h).to(w)}he();var M=ue(()=>Ks());Qe(s,{get title(){return a(M)},children:(w,b)=>{Xe(w,{slotHost:K,get api(){return o()},children:(P,x)=>{var k=Gc(),L=se(k);K(L,{children:(T,R)=>{et(T,{get defaultValue(){return i.secondsToShowQuestion},step:.1,get value(){return t().secondsToShowQuestion},set value(S){te(g,_(t).secondsToShowQuestion=S,_(t))},children:(S,p)=>{ne(S,{$$events:{click:()=>f(Object.keys(l).indexOf("secondsToShowQuestion"))},children:(D,c)=>{ee();var C=J();O(()=>H(C,l.secondsToShowQuestion.title)),v(D,C)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var I=$(L,2);K(I,{children:(T,R)=>{et(T,{get defaultValue(){return i.secondsToShowAnswer},step:.1,get value(){return t().secondsToShowAnswer},set value(S){te(g,_(t).secondsToShowAnswer=S,_(t))},children:(S,p)=>{ne(S,{$$events:{click:()=>f(Object.keys(l).indexOf("secondsToShowAnswer"))},children:(D,c)=>{ee();var C=J();O(()=>H(C,l.secondsToShowAnswer.title)),v(D,C)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var q=$(I,2);K(q,{children:(T,R)=>{qe(T,{get defaultValue(){return i.waitForAudio},get value(){return t().waitForAudio},set value(S){te(g,_(t).waitForAudio=S,_(t))},children:(S,p)=>{ne(S,{$$events:{click:()=>f(Object.keys(l).indexOf("waitForAudio"))},children:(D,c)=>{ee();var C=J();O(()=>H(C,l.waitForAudio.title)),v(D,C)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var N=$(q,2);K(N,{children:(T,R)=>{var S=ue(zc);tt(T,{get defaultValue(){return i.questionAction},get choices(){return a(S)},get value(){return t().questionAction},set value(p){te(g,_(t).questionAction=p,_(t))},children:(p,D)=>{ne(p,{$$events:{click:()=>f(Object.keys(l).indexOf("questionAction"))},children:(c,C)=>{ee();var A=J();O(()=>H(A,l.questionAction.title)),v(c,A)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var G=$(N,2);K(G,{children:(T,R)=>{var S=ue(Bc);tt(T,{get defaultValue(){return i.answerAction},get choices(){return a(S)},get value(){return t().answerAction},set value(p){te(g,_(t).answerAction=p,_(t))},children:(p,D)=>{ne(p,{$$events:{click:()=>f(Object.keys(l).indexOf("answerAction"))},children:(c,C)=>{ee();var A=J();O(()=>H(A,l.answerAction.title)),v(c,A)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),v(P,k)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(w,b)=>{var P=ue(()=>Ks());Je(w,{get title(){return a(P)},get url(){return ge.DeckOptions.autoAdvance},slot:"tooltip",helpSections:d,$$events:{mount:x=>{y(m,x.detail.modal),y(h,x.detail.carousel)}}})}}}),pe()}var qc=X("<!> <!> <!>",1);function Qc(s,e){$e(e,!1);const r=Se(),t=()=>fe(g,"$config",r);let n=B(e,"state",8),o=B(e,"api",8);const g=n().currentConfig,i=n().defaults,l=`

`+yo(),d={buryNewSiblings:{title:Co(),help:wo()+l},buryReviewSiblings:{title:_o(),help:ko()+l},buryInterdayLearningSiblings:{title:Po(),help:bo()+l}},m=Object.values(d);let h=V(),f=V();function M(b){a(h).show(),a(f).to(b)}he();var w=ue(()=>Xs());Qe(s,{get title(){return a(w)},children:(b,P)=>{Xe(b,{slotHost:K,get api(){return o()},children:(x,k)=>{var L=qc(),I=se(L);K(I,{children:(G,T)=>{qe(G,{get defaultValue(){return i.buryNew},get value(){return t().buryNew},set value(R){te(g,_(t).buryNew=R,_(t))},children:(R,S)=>{ne(R,{$$events:{click:()=>M(Object.keys(d).indexOf("buryNewSiblings"))},children:(p,D)=>{ee();var c=J();O(()=>H(c,d.buryNewSiblings.title)),v(p,c)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var q=$(I,2);K(q,{children:(G,T)=>{qe(G,{get defaultValue(){return i.buryReviews},get value(){return t().buryReviews},set value(R){te(g,_(t).buryReviews=R,_(t))},children:(R,S)=>{ne(R,{$$events:{click:()=>M(Object.keys(d).indexOf("buryReviewSiblings"))},children:(p,D)=>{ee();var c=J();O(()=>H(c,d.buryReviewSiblings.title)),v(p,c)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var N=$(q,2);K(N,{children:(G,T)=>{qe(G,{get defaultValue(){return i.buryInterdayLearning},get value(){return t().buryInterdayLearning},set value(R){te(g,_(t).buryInterdayLearning=R,_(t))},children:(R,S)=>{ne(R,{$$events:{click:()=>M(Object.keys(d).indexOf("buryInterdayLearningSiblings"))},children:(p,D)=>{ee();var c=J();O(()=>H(c,d.buryInterdayLearningSiblings.title)),v(p,c)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),v(x,L)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(b,P)=>{var x=ue(()=>Xs());Je(b,{get title(){return a(x)},get url(){return ge.Studying.siblingsAndBurying},slot:"tooltip",helpSections:m,$$events:{mount:k=>{y(h,k.detail.modal),y(f,k.detail.carousel)}}})}}}),pe()}function Uc(){}var Yc=X('<hr class="dropdown-divider">');function Kc(s){var e=Yc();v(s,e)}var Xc=X('<div class="save svelte-ymxw35"> </div>'),Jc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Zc=X("<!> <!> <!> <!> <!> <!>",1),ed=X('<div class="d-flex"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!> <!></div>');function td(s,e){$e(e,!1);const r=window.getComputedStyle(document.body).direction=="rtl",t=Pr();let n=B(e,"state",8);async function o(){if(await Ot(),n().defaultConfigSelected()){alert(xo());return}const w=(n().removalWilLForceFullSync()?So()+" ":"")+Oo({name:n().getCurrentName()});if(confirm(Gn(w)))try{n().removeCurrentConfig(),t("remove")}catch(b){alert(b)}}async function g(w){await ms(),n().save(w)}const i="Control+Enter";let l=V(!1);he();var d=ed(),m=W(d),h=ue(()=>zl(i));Te(m,()=>({"--border-left-radius":r?"0":"var(--border-radius)","--border-right-radius":r?"var(--border-radius)":"0"})),Gl(m.lastChild,{primary:!0,get tooltip(){return a(h)},$$events:{click:()=>g(Mt.NORMAL)},children:(w,b)=>{var P=Xc(),x=W(P,!0);O(()=>H(x,Ro())),E(P),v(w,P)},$$slots:{default:!0}}),E(m);var f=$(m,2);Bl(f,{keyCombination:i,$$events:{action:()=>g(Mt.NORMAL)}});var M=$(f,2);El(M,{get show(){return a(l)},closeOnInsideClick:!0,inline:!0,$$events:{close:()=>y(l,!1)},$$slots:{reference:(w,b)=>{var P=Jc(),x=se(P);Te(x,()=>({"--border-right-radius":r?"0":"var(--border-radius)","--border-left-radius":r?"var(--border-radius)":"0"})),bl(x.lastChild,{class:"chevron",slot:"reference",iconSize:80,$$events:{click:()=>y(l,!a(l))},children:(k,L)=>{Nt(k,{icon:Br})},$$slots:{default:!0}}),E(x),v(w,P)},floating:(w,b)=>{Ml(w,{slot:"floating",children:(P,x)=>{var k=Zc(),L=se(k);Pt(L,{$$events:{click:()=>t("add")},children:(R,S)=>{ee();var p=J();O(()=>H(p,Or())),v(R,p)},$$slots:{default:!0}});var I=$(L,2);Pt(I,{$$events:{click:()=>t("clone")},children:(R,S)=>{ee();var p=J();O(()=>H(p,Rr())),v(R,p)},$$slots:{default:!0}});var q=$(I,2);Pt(q,{$$events:{click:()=>t("rename")},children:(R,S)=>{ee();var p=J();O(()=>H(p,Ar())),v(R,p)},$$slots:{default:!0}});var N=$(q,2);Pt(N,{$$events:{click:o},children:(R,S)=>{ee();var p=J();O(()=>H(p,Ao())),v(R,p)},$$slots:{default:!0}});var G=$(N,2);Kc(G);var T=$(G,2);Pt(T,{$$events:{click:()=>g(Mt.APPLY_TO_CHILDREN)},children:(R,S)=>{ee();var p=J();O(()=>H(p,To())),v(R,p)},$$slots:{default:!0}}),v(P,k)},$$slots:{default:!0}})}}}),E(d),v(s,d),pe()}var sd=X('<div class="modal fade" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content svelte-18qg9px"><div class="modal-header"><h5 class="modal-title" id="modalLabel"> </h5> <button type="button" class="btn-close svelte-18qg9px" data-bs-dismiss="modal" aria-label="Close"></button></div> <div class="modal-body"><form><div class="mb-3"><label for="prompt-input" class="col-form-label"> </label> <input id="prompt-input" type="text" class="form-control svelte-18qg9px"></div></form></div> <div class="modal-footer"><button type="button" class="btn btn-secondary">Cancel</button> <button type="button" class="btn btn-primary">OK</button></div></div></div></div>');function rd(s,e){$e(e,!1);const r=Se(),t=()=>fe(Sl,"$pageTheme",r),n=V();let o=B(e,"title",8),g=B(e,"prompt",8),i=B(e,"initialValue",8,""),l=B(e,"onOk",8);const d=Math.random().toString(36).substring(2),m=us(zr);let h=V(),f,M=V();function w(){l()(a(M).value),f.hide(),y(n,i())}function b(){f.hide(),y(n,i())}function P(){a(M).focus(),k(!0)}function x(){k(!1)}const{set:k,remove:L}=Nl(b);ds(()=>{a(h).addEventListener("shown.bs.modal",P),a(h).addEventListener("hidden.bs.modal",x),f=new Ol(a(h),{keyboard:!1}),m.set(d,f)}),ra(()=>{L(),a(h).removeEventListener("shown.bs.modal",P),a(h).removeEventListener("hidden.bs.modal",x)}),le(()=>We(i()),()=>{y(n,i())}),Ve(),he();var I=sd(),q=W(I),N=W(q),G=W(N),T=W(G),R=W(T,!0);E(T);var S=$(T,2);E(G);var p=$(G,2),D=W(p),c=W(D),C=W(c),A=W(C);E(C);var z=$(C,2);st(z),xt(z,j=>y(M,j),()=>a(M)),E(c),E(D),E(p);var Y=$(p,2),Q=W(Y),F=$(Q,2);return E(Y),E(N),E(q),E(I),xt(I,j=>y(h,j),()=>a(h)),O(()=>{var j;mt(N,"default-colors",t().isDark),H(R,o()),mt(S,"invert",t().isDark),H(A,`${(j=g())!=null?j:""}:`),mt(z,"nightMode",t().isDark)}),Tt(z,()=>a(n),j=>y(n,j)),we("submit",D,jl(w)),we("click",Q,b),we("click",F,w),v(s,I),Ie(e,"modalKey",d),pe({modalKey:d})}var nd=X('<div class="button-bar svelte-1h7iokg"><!> <!></div>'),ad=X('<!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function od(s,e){$e(e,!1);const r=Se(),t=()=>fe(i,"$configList",r),n=V(),o=V();let g=B(e,"state",8);const i=g().configList,l=Pr(),d=()=>l("presetchange");function m(p){const D=Do({decks:p.useCount});return`${p.name} (${D})`}function h(p){g().setCurrentIndex(p.detail.value),d()}function f(p){const D=p.trim();D.length&&(g().addConfig(D),d())}function M(p){const D=p.trim();D.length&&(g().cloneConfig(D),d())}function w(p){g().setCurrentName(p)}const b=us(zr);let P=V(),x=V(""),k=V(""),L=V(Uc);function I(){y(k,Or()),y(L,f),y(x,""),b.get(a(P)).show()}function q(){y(k,Rr()),y(L,M),y(x,g().getCurrentName()),b.get(a(P)).show()}function N(){y(k,Ar()),y(L,w),y(x,g().getCurrentName()),b.get(a(P)).show()}le(()=>t(),()=>{y(n,t().findIndex(p=>p.current))}),le(()=>(t(),a(n)),()=>{y(o,m(t()[a(n)]))}),Ve(),he();var G=ad(),T=se(G),R=ue(()=>Io());rd(T,{get title(){return a(k)},get prompt(){return a(R)},get initialValue(){return a(x)},get onOk(){return a(L)},get modalKey(){return a(P)},set modalKey(p){y(P,p)},$$legacy:!0});var S=$(T,2);Te(S,()=>({"--gutter-block":"0.5rem","--sticky-borders":"0 0 1px"})),Wl(S.lastChild,{breakpoint:"sm",children:(p,D)=>{var c=nd(),C=W(c);ta(C,{class:"flex-grow-1 mr1",get label(){return a(o)},get list(){return t()},parser:z=>({content:m(z),value:z.idx}),get value(){return a(n)},set value(z){y(n,z)},$$events:{change:h},$$legacy:!0});var A=$(C,2);td(A,{get state(){return g()},$$events:{add:I,clone:q,rename:N,remove:d}}),E(c),v(p,c)},$$slots:{default:!0}}),E(S),v(s,G),pe()}var id=X('<li class="svelte-yjm2pe"><button class="svelte-yjm2pe"> </button></li>'),ld=X('<ul class="svelte-yjm2pe"></ul>');function yr(s,e){$e(e,!1);let r=B(e,"tabs",8),t=B(e,"value",12),n=V(o());function o(){const d=r().slice().reverse().findIndex(m=>m.value!==null);return d===-1?0:r().length-d-1}function g(d){for(const[m,h]of r().entries())d===m?h.enable(t()):d>m?h.reset():h.disable()}const i=d=>()=>y(n,d);le(()=>a(n),()=>{g(a(n))}),le(()=>(We(r()),a(n)),()=>{var d;t((d=r()[a(n)].value)!=null?d:0)}),le(()=>(We(r()),a(n),We(t())),()=>{r()[a(n)].setValue(t())}),Ve(),he();var l=ld();Ft(l,5,r,gs,(d,m,h)=>{var f=id(),M=W(f),w=Xn(()=>i(h)),b=W(M,!0);E(M),E(f),O(()=>{mt(f,"active",a(n)===h),H(b,a(m).title)}),we("click",M,function(...P){var x;(x=a(w))==null||x.apply(this,P)}),v(d,f)}),E(l),v(s,l),pe()}var ud=X("<div> </div>");function Be(s,e){$e(e,!1);let r=B(e,"warning",8),t=B(e,"className",8,"alert-warning");he();var n=ze(),o=se(n);{var g=i=>{xe(i,{children:(l,d)=>{var m=ud(),h=W(m,!0);O(()=>H(h,Wn(r()))),E(m),O(()=>{var f;return pt(m,`col-12 alert ${(f=t())!=null?f:""} mb-0`)}),ir(1,m,()=>lr),ir(2,m,()=>lr),v(l,m)},$$slots:{default:!0}})};Pe(o,i=>{r()&&i(g)})}v(s,n),pe()}var cd=X("<!> <!> <!> <!> <!>",1);function dd(s,e){var C,A,z,Y,Q,F;$e(e,!1);const r=Se(),t=()=>fe(h,"$config",r),n=()=>fe(f,"$limits",r),o=()=>fe(w,"$newCardsIgnoreReviewLimit",r),g=()=>fe(b,"$applyAllParentLimits",r),i=V();let l=B(e,"state",8),d=B(e,"api",8);function m(){ke(I,a(I)[0]=new rt(Lt(),t().newPerDay,j=>te(h,_(t).newPerDay=j,_(t)),t().newPerDay,null)),ke(q,a(q)[0]=new rt(Lt(),t().reviewsPerDay,j=>te(h,_(t).reviewsPerDay=j,_(t)),t().reviewsPerDay,null))}const h=l().currentConfig,f=l().deckLimits,M=l().defaults,w=l().newCardsIgnoreReviewLimit,b=l().applyAllParentLimits,P=`

`+Lo()+`

`+Eo(),x=`

`+Mo()+P,k=os()+`

`+No(),L=os()+`

`+Fo(),I=V([new rt(Lt(),t().newPerDay,j=>te(h,_(t).newPerDay=j,_(t)),t().newPerDay,null),new rt(Js(),(C=n().new)!=null?C:null,j=>te(f,_(n).new=j!=null?j:void 0,_(n)),null,null),new rt(Zs(),n().newTodayActive&&(A=n().newToday)!=null?A:null,j=>te(f,_(n).newToday=j!=null?j:void 0,_(n)),null,(z=n().newToday)!=null?z:null)]),q=V([new rt(Lt(),t().reviewsPerDay,j=>te(h,_(t).reviewsPerDay=j,_(t)),t().reviewsPerDay,null),new rt(Js(),(Y=n().review)!=null?Y:null,j=>te(f,_(n).review=j!=null?j:void 0,_(n)),null,null),new rt(Zs(),n().reviewTodayActive&&(Q=n().reviewToday)!=null?Q:null,j=>te(f,_(n).reviewToday=j!=null?j:void 0,_(n)),null,(F=n().reviewToday)!=null?F:null)]);let N=V(0),G=V(0);const T={newLimit:{title:Tr(),help:Vo()+P,url:ge.DeckOptions.newCardsday},reviewLimit:{title:Dr(),help:Ho()+x,url:ge.DeckOptions.maximumReviewsday},newCardsIgnoreReviewLimit:{title:Bo(),help:k,url:ge.DeckOptions.newCardsday},applyAllParentLimits:{title:zo(),help:L,url:ge.DeckOptions.newCardsday}},R=Object.values(T);let S=V(),p=V();function D(j){a(S).show(),a(p).to(j)}le(()=>(a(N),a(G),ut),()=>{y(i,Math.min(9999,a(N)*10)>a(G)?jo({cards:a(N),expected:Math.min(9999,a(N)*10)}):"")}),Ve(),he();var c=ue(()=>er());return Qe(s,{get title(){return a(c)},children:(j,Z)=>{Xe(j,{slotHost:K,get api(){return d()},children:(de,ce)=>{var be=cd(),ve=se(be);K(ve,{children:(Le,De)=>{Fe(Le,{get defaultValue(){return M.newPerDay},get value(){return a(N)},set value(ye){y(N,ye)},children:(ye,Ue)=>{ne(ye,{$$events:{click:()=>D(Object.keys(T).indexOf("newLimit"))},children:(_e,yt)=>{ee();var lt=J();O(()=>H(lt,T.newLimit.title)),v(_e,lt)},$$slots:{default:!0}})},$$slots:{default:!0,tabs:(ye,Ue)=>{yr(ye,{slot:"tabs",get tabs(){return a(I)},get value(){return a(N)},set value(_e){y(N,_e)},$$legacy:!0})}},$$legacy:!0})},$$slots:{default:!0}});var ae=$(ve,2);K(ae,{children:(Le,De)=>{Fe(Le,{get defaultValue(){return M.reviewsPerDay},get value(){return a(G)},set value(ye){y(G,ye)},children:(ye,Ue)=>{ne(ye,{$$events:{click:()=>D(Object.keys(T).indexOf("reviewLimit"))},children:(_e,yt)=>{ee();var lt=J();O(()=>H(lt,T.reviewLimit.title)),v(_e,lt)},$$slots:{default:!0}})},$$slots:{default:!0,tabs:(ye,Ue)=>{yr(ye,{slot:"tabs",get tabs(){return a(q)},get value(){return a(G)},set value(_e){y(G,_e)},$$legacy:!0})}},$$legacy:!0})},$$slots:{default:!0}});var Ce=$(ae,2);K(Ce,{children:(Le,De)=>{Be(Le,{get warning(){return a(i)}})},$$slots:{default:!0}});var it=$(Ce,2);K(it,{children:(Le,De)=>{qe(Le,{defaultValue:!1,get value(){return ht(),o()},set value(ye){at(w,ye)},children:(ye,Ue)=>{ne(ye,{$$events:{click:()=>D(Object.keys(T).indexOf("newCardsIgnoreReviewLimit"))},children:(_e,yt)=>{St(_e,{get title(){return T.newCardsIgnoreReviewLimit.title}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var Ht=$(it,2);K(Ht,{children:(Le,De)=>{qe(Le,{defaultValue:!1,get value(){return ht(),g()},set value(ye){at(b,ye)},children:(ye,Ue)=>{ne(ye,{$$events:{click:()=>D(Object.keys(T).indexOf("applyAllParentLimits"))},children:(_e,yt)=>{St(_e,{get title(){return T.applyAllParentLimits.title}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),v(de,be)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(j,Z)=>{var de=ue(()=>er());Je(j,{get title(){return a(de)},get url(){return ge.DeckOptions.dailyLimits},slot:"tooltip",helpSections:R,$$events:{mount:ce=>{y(S,ce.detail.modal),y(p,ce.detail.carousel)}}})}}}),Ie(e,"onPresetChange",m),pe({onPresetChange:m})}var fd=X("<!> <!> <!> <!> <!>",1);function gd(s,e){$e(e,!1);const r=Se(),t=()=>fe(i,"$config",r),n=()=>fe(d,"$fsrs",r);let o=B(e,"state",8),g=B(e,"api",8);const i=o().currentConfig,l=o().defaults,d=o().fsrs,m=`

`+Go();let h=V([]);const f={newGatherPriority:{title:Wo(),help:qo()+m},newCardSortOrder:{title:Qo(),help:Uo()+m},newReviewPriority:{title:Yo(),help:Ko()+m},interdayStepPriority:{title:Xo(),help:Jo()+m},reviewSortOrder:{title:Zo(),help:ei()+m}},M=Object.values(f);let w=V(),b=V();function P(k){a(w).show(),a(b).to(k)}le(()=>(t(),a(h),Ze),()=>{switch(t().newCardGatherPriority){case Ze.RANDOM_NOTES:y(h,[Ye.TEMPLATE_THEN_RANDOM,Ye.RANDOM_NOTE_THEN_TEMPLATE]);break;case Ze.RANDOM_CARDS:y(h,[Ye.TEMPLATE_THEN_RANDOM,Ye.RANDOM_NOTE_THEN_TEMPLATE,Ye.RANDOM_CARD]);break;default:y(h,[]);break}a(h).includes(t().newCardSortOrder)&&te(i,_(t).newCardSortOrder=0,_(t)),t().newCardSortOrder in Ye||te(i,_(t).newCardSortOrder=0,_(t))}),Ve(),he();var x=ue(()=>tr());Qe(s,{get title(){return a(x)},children:(k,L)=>{Xe(k,{slotHost:K,get api(){return g()},children:(I,q)=>{var N=fd(),G=se(N);K(G,{children:(D,c)=>{var C=ue(Mc);tt(D,{get defaultValue(){return l.newCardGatherPriority},get choices(){return a(C)},get value(){return t().newCardGatherPriority},set value(A){te(i,_(t).newCardGatherPriority=A,_(t))},children:(A,z)=>{ne(A,{$$events:{click:()=>P(Object.keys(f).indexOf("newGatherPriority"))},children:(Y,Q)=>{ee();var F=J();O(()=>H(F,f.newGatherPriority.title)),v(Y,F)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var T=$(G,2);K(T,{children:(D,c)=>{var C=ue(Nc);tt(D,{get defaultValue(){return l.newCardSortOrder},get choices(){return a(C)},get disabledChoices(){return a(h)},get value(){return t().newCardSortOrder},set value(A){te(i,_(t).newCardSortOrder=A,_(t))},children:(A,z)=>{ne(A,{$$events:{click:()=>P(Object.keys(f).indexOf("newCardSortOrder"))},children:(Y,Q)=>{ee();var F=J();O(()=>H(F,f.newCardSortOrder.title)),v(Y,F)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var R=$(T,2);K(R,{children:(D,c)=>{var C=ue(hr);tt(D,{get defaultValue(){return l.newMix},get choices(){return a(C)},get value(){return t().newMix},set value(A){te(i,_(t).newMix=A,_(t))},children:(A,z)=>{ne(A,{$$events:{click:()=>P(Object.keys(f).indexOf("newReviewPriority"))},children:(Y,Q)=>{ee();var F=J();O(()=>H(F,f.newReviewPriority.title)),v(Y,F)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var S=$(R,2);K(S,{children:(D,c)=>{var C=ue(hr);tt(D,{get defaultValue(){return l.interdayLearningMix},get choices(){return a(C)},get value(){return t().interdayLearningMix},set value(A){te(i,_(t).interdayLearningMix=A,_(t))},children:(A,z)=>{ne(A,{$$events:{click:()=>P(Object.keys(f).indexOf("interdayStepPriority"))},children:(Y,Q)=>{ee();var F=J();O(()=>H(F,f.interdayStepPriority.title)),v(Y,F)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var p=$(S,2);K(p,{children:(D,c)=>{var C=ue(()=>Fc(n()));tt(D,{get defaultValue(){return l.reviewOrder},get choices(){return a(C)},get value(){return t().reviewOrder},set value(A){te(i,_(t).reviewOrder=A,_(t))},children:(A,z)=>{ne(A,{$$events:{click:()=>P(Object.keys(f).indexOf("reviewSortOrder"))},children:(Y,Q)=>{ee();var F=J();O(()=>H(F,f.reviewSortOrder.title)),v(Y,F)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),v(I,N)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(k,L)=>{var I=ue(()=>tr());Je(k,{get title(){return a(I)},get url(){return ge.DeckOptions.displayOrder},slot:"tooltip",helpSections:M,$$events:{mount:q=>{y(w,q.detail.modal),y(b,q.detail.carousel)}}})}}}),pe()}var vd=X('<textarea class="w-100"></textarea>');function $d(s,e){$e(e,!1);let r=B(e,"value",12),t=B(e,"defaults",8),n=V();function o(l){return l.map(d=>d.toFixed(4)).join(", ")}function g(){r(this.value.replace(/ /g,"").split(",").filter(l=>l).map(l=>Number(l)))}le(()=>We(r()),()=>{y(n,o(r()))}),Ve(),he();var i=vd();Vr(i),O(()=>He(i,"placeholder",o(t()))),O(()=>fs(i,a(n))),we("blur",i,g),v(s,i),pe()}var pd=X("<!> <!>",1);function md(s,e){let r=B(e,"value",12),t=B(e,"defaultValue",8),n=B(e,"defaults",8);var o=pd(),g=se(o);nt(g,e,"default",{});var i=$(g,2);ct(i,{children:(l,d)=>{$d(l,{get defaults(){return n()},get value(){return r()},set value(m){r(m)},$$legacy:!0})},$$slots:{default:!0,revert:(l,d)=>{Rt(l,{slot:"revert",get defaultValue(){return t()},get value(){return r()},set value(m){r(m)},$$legacy:!0})}}}),v(s,o)}var hd=X('<input type="text" class="w-100 mb-1">');function yd(s,e){let r=B(e,"value",12),t=B(e,"placeholder",8);ct(s,{children:(n,o)=>{var g=hd();st(g),O(()=>He(g,"placeholder",t())),Tt(g,r),v(n,g)},$$slots:{default:!0}})}var Me=(s=>(s[s.time=0]="time",s[s.count=1]="count",s[s.memorized=2]="memorized",s))(Me||{});function ns(s,e,r,t){const n=ur(s);if(n.selectAll(".lines").remove(),n.selectAll(".hover-columns").remove(),n.selectAll(".focus-line").remove(),n.selectAll(".legend").remove(),r.length==0)return cr(n,!1),[];const o=n.transition().duration(600),g=new Date,i=r.map(c=>({...c,date:new Date(g.getTime()+c.x*24*60*60*1e3)})),l=g,d=dr(i,c=>c.date),m=iu().domain([l,d]).range([e.marginLeft,e.width-e.marginRight]);n.select(".x-ticks").call(c=>c.transition(o).call(ql(m).ticks(7).tickSizeOuter(0))).attr("direction","ltr");const h=c=>t==0?ss(c,!0):c.toString(),f={1:i.map(c=>({...c,y:c.count})),0:i.map(c=>({...c,y:c.timeCost})),2:i.map(c=>({...c,y:c.memorized}))}[t],M={1:ti(),0:si(),2:ri()}[t],w=dr(f,c=>c.y),b=Ql().range([e.height-e.marginBottom,e.marginTop]).domain([0,w]).nice();n.select(".y-ticks").call(c=>c.transition(o).call(Ul(b).ticks(e.height/50).tickSizeOuter(0).tickFormat(h))).attr("direction","ltr"),n.select(".y-ticks .y-axis-title").remove(),n.select(".y-ticks").append("text").attr("class","y-axis-title").attr("transform","rotate(-90)").attr("y",0-e.marginLeft).attr("x",0-e.height/2).attr("font-size","1rem").attr("dy","1.1em").attr("fill","currentColor").style("text-anchor","middle").text(M);const P=f.map(c=>[m(c.date),b(c.y),c.label]),x=yu(P,c=>Object.assign(c,{z:c[0][2]}),c=>c[2]),k=wu;n.append("g").attr("class","lines").attr("fill","none").attr("stroke-width",1.5).attr("stroke-linejoin","round").attr("stroke-linecap","round").selectAll("path").data(Array.from(x.entries())).join("path").attr("stroke",(c,C)=>k[C%k.length]).attr("d",c=>Yl()(c[1].map(C=>[C[0],C[1]]))).attr("data-group",c=>c[0]);const L=n.append("line").attr("class","focus-line").attr("y1",e.marginTop).attr("y2",e.height-e.marginBottom).attr("stroke","black").attr("stroke-width",1).style("opacity",0),I=Array.from(x.values()).reduce((c,C)=>c.length>C.length?c:C),q=e.width/I.length;n.append("g").attr("class","hover-columns").selectAll("rect").data(I).join("rect").attr("x",c=>c[0]-q/2).attr("y",e.marginTop).attr("width",q).attr("height",e.height-e.marginTop-e.marginBottom).attr("fill","transparent").on("mousemove",G).on("mouseout",()=>{L.style("opacity",0),fr()});const N={0:ss,1:c=>Ir({reviews:Math.round(c)}),2:c=>oi({memorized:Math.round(c).toFixed(0)})}[t];function G(c,C){Kl(c,document.body);const A=m.invert(C[0]),z={};x.forEach((F,j)=>{const Z=Xl(be=>m.invert(be[0])).left,de=Z(F,A),ce=F[de];ce&&(z[j]=b.invert(ce[1]))}),L.attr("x1",C[0]).attr("x2",C[0]).style("opacity",1);const Y=+((A.getTime()-Date.now())/(60*60*24*1e3)).toFixed();let Q=`Date: ${qn(A)}<br>In ${Y} Days<br>`;for(const[F,j]of Object.entries(z))n.select(`path[data-group="${F}"]`).classed("hidden")||(Q+=`<span style="color:${k[(parseInt(F)-1)%k.length]}"></span> #${F}: ${N(j)}<br>`);gr(Q,c.pageX,c.pageY)}const T=n.append("g").attr("class","legend").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","start").selectAll("g").data(Array.from(x.keys())).join("g").attr("transform",(c,C)=>`translate(0,${C*20})`).attr("cursor","pointer").on("click",(c,C)=>p(c,C)).on("mousemove",S).on("mouseout",fr),R={1:ii,0:({count:c})=>ss(c),2:li}[t];function S(c,C){const A=f.filter(Q=>Q.label==C),z=t==2?A[A.length-1].memorized-A[0].memorized:Xu(A,Q=>Q.y),Y=z/((A==null?void 0:A.length)||1);gr(`#${C}:<br/>
                ${ni()}: ${R({count:Y})}<br/>
                ${ai()}: ${N(z)}`,c.pageX,c.pageY)}T.append("rect").attr("x",e.width-e.marginRight+36).attr("width",12).attr("height",12).attr("fill",(c,C)=>k[C%k.length]),T.append("text").attr("x",e.width-e.marginRight+52).attr("y",7).attr("dy","0.3em").attr("fill","currentColor").text(c=>`#${c}`);const p=(c,C)=>{const A=C,z=n.select(`path[data-group="${A}"]`),Y=z.classed("hidden"),Q=c.currentTarget;z.classed("hidden",!Y),z.style("display",()=>Y?null:"none"),ur(Q).select("rect").style("opacity",Y?1:.5)};return cr(n,!0),[]}var Cd=X(" <!>",1),wd=X("<div> </div>"),_d=X('<label><input type="radio"> </label> <label><input type="radio"> </label> <label><input type="radio"> </label>',1),kd=X('<div class="radio-group svelte-1wbtes9"><!></div> <svg><!><!><!><!></svg> <!>',1),Pd=X('<!> <!> <div class="ms-1 me-1"><!> <!> <button><!></button> <button><!></button> <div><!></div></div> <div class="m-1"><!> <button class="btn btn-primary"> </button></div> <div class="m-2"><!> <!></div> <div class="m-2"><details><summary> </summary> <!> <button><!></button> <!> <!></details></div> <div class="m-2"><details><summary> </summary> <!> <!> <!> <!> <!> <button> </button> <button> </button> <!> <!></details></div>',1);function bd(s,e){$e(e,!1);const r=Se(),t=()=>fe(R,"$daysSinceLastOptimization",r),n=()=>fe(q,"$presetName",r),o=()=>fe(N,"$config",r),g=()=>fe(a(w),"$newCardsIgnoreReviewLimit",r),i=()=>fe(T,"$fsrsReschedule",r),l=V(),d=V(),m=V(),h=V(),f=V(),M=V(),w=V(),b=V(),P=V(),x=V(),k=[];let L=B(e,"state",8),I=B(e,"openHelpModal",8);const q=L().currentPresetName,N=L().currentConfig,G=L().defaults,T=L().fsrsReschedule,R=L().daysSinceLastOptimization;let S=V(),p=V(!1),D=V(!1),c=V(!1),C=V(!1),A=V(0),z=V(),Y=V(Me.count);const Q=V(new Ln({daysToSimulate:365,lossAversion:2.5})),F=V(new En({params:bt(o()),desiredRetention:o().desiredRetention,deckSize:0,daysToSimulate:365,newLimit:o().newPerDay,reviewLimit:o().reviewsPerDay,maxInterval:o().maximumReviewInterval,search:`preset:"${L().getCurrentNameForSearch()}" -is:suspended`,newCardsIgnoreReviewLimit:g()}));function j(u){const re=Math.round(100/.23456790123456783*(Math.pow(u,1/-.5)-1));return re===100?"":bi({days:re})}function Z(u){return u<.7||u>.97?"alert-danger":u<.8||u>.95?"alert-warning":"alert-info"}function de(){return BigInt(o().ignoreRevlogsBeforeDate?new Date(o().ignoreRevlogsBeforeDate).getTime():0)}async function ce(){if(a(p)){await Jt({});return}if(L().presetAssignmentsChanged()){alert(Zt());return}y(p,!0),y(S,void 0);try{await Et(async()=>{const u=bt(o()),U=o().relearnSteps;let oe=0,me=0;for(let je=0;je<U.length&&(me+=U[je],!(me>=1440));je++)oe++;const re=await Mn({search:o().paramSearch?o().paramSearch:a(m),ignoreRevlogsBeforeMs:de(),currentParams:u,numOfRelearningSteps:oe});if(u.length&&u.every((je,Dt)=>je.toFixed(4)===re.params[Dt].toFixed(4))||re.params.length===0){const je=re.fsrsItems?ui():ci();setTimeout(()=>alert(je),200)}else te(N,_(o).fsrsParams5=re.params,_(o));a(S)&&ke(S,a(S).current=a(S).total)},u=>{u.value.case==="computeParams"&&y(S,u.value.value)})}finally{y(p,!1)}}async function be(){if(a(D)){await Jt({});return}if(L().presetAssignmentsChanged()){alert(Zt());return}y(D,!0),y(S,void 0);try{await Et(async()=>{const u=o().paramSearch?o().paramSearch:a(m),U=await Nn({params:bt(o()),search:u,ignoreRevlogsBeforeMs:de()});a(S)&&ke(S,a(S).current=a(S).total),setTimeout(()=>alert(`Log loss: ${U.logLoss.toFixed(4)}, RMSE(bins): ${(U.rmseBins*100).toFixed(2)}%. ${di()}`),200)},u=>{u.value.case==="computeParams"&&y(S,u.value.value)})}finally{y(D,!1)}}async function ve(){if(a(c)){await Jt({});return}if(L().presetAssignmentsChanged()){alert(Zt());return}y(c,!0),y(z,void 0);try{await Et(async()=>{ke(Q,a(Q).maxInterval=o().maximumReviewInterval),ke(Q,a(Q).params=bt(o())),ke(Q,a(Q).search=`preset:"${L().getCurrentNameForSearch()}" -is:suspended`);const u=await Fn(a(Q));y(A,u.optimalRetention),y(z,void 0)},u=>{u.value.case==="computeRetention"&&y(z,u.value.value)})}finally{y(c,!1)}}function ae(u){if(!u||!u.total)return"";const U=(u.current/u.total*100).toFixed(1);return u instanceof Hn?`${U}%`:xi({pct:U,reviews:u.reviews})}function Ce(u){return u?Si({count:u.current}):""}function it(u){return u?Oi({num:u.toFixed(2)}):""}async function Ht(){await ms(),L().save(Mt.COMPUTE_ALL_PARAMS)}let Le=V([]);const De=V(ru());ke(De,a(De).marginLeft+=8);let ye=V(null),Ue=0,_e=V([]);function yt(u,U){return u.map((oe,me)=>oe+U[me])}async function lt(){let u;Ue+=1;try{await Et(async()=>{ke(F,a(F).params=bt(o())),ke(F,a(F).desiredRetention=o().desiredRetention),ke(F,a(F).search=`preset:"${L().getCurrentNameForSearch()}" -is:suspended`),ke(F,a(F).newCardsIgnoreReviewLimit=g()),y(C,!0),u=await Vn(a(F))},()=>{})}finally{if(y(C,!1),u){const U=yt(u.dailyReviewCount,u.dailyNewCount),oe=u.accumulatedKnowledgeAcquisition;y(_e,a(_e).concat(u.dailyTimeCost.map((me,re)=>({x:re,timeCost:me,count:U[re],memorized:oe[re],label:Ue})))),y(Le,ns(a(ye),a(De),a(_e),a(Y)))}}}function Kr(){y(_e,a(_e).filter(u=>u.label!==Ue)),Ue=Math.max(0,Ue-1),y(Le,ns(a(ye),a(De),a(_e),a(Y)))}le(()=>(t(),ut),()=>{y(l,t()>30?fi():"")}),le(()=>n(),()=>{n()&&y(A,0)}),le(()=>(a(p),a(D),a(c),a(C)),()=>{y(d,a(p)||a(D)||a(c)||a(C))}),le(()=>We(L()),()=>{y(m,`preset:"${L().getCurrentNameForSearch()}" -is:suspended`)}),le(()=>o(),()=>{y(h,Number(o().desiredRetention.toFixed(2)))}),le(()=>a(h),()=>{y(f,j(a(h)))}),le(()=>a(h),()=>{y(M,Z(a(h)))}),le(()=>a(Q),()=>{a(Q).daysToSimulate>3650&&ke(Q,a(Q).daysToSimulate=3650)}),le(()=>We(L()),()=>{xl(y(w,L().newCardsIgnoreReviewLimit),"$newCardsIgnoreReviewLimit",r)}),le(()=>a(S),()=>{y(b,ae(a(S)))}),le(()=>a(z),()=>{y(P,Ce(a(z)))}),le(()=>a(S),()=>{var u,U;y(x,(U=(u=a(S))==null?void 0:u.reviews)!=null?U:void 0)}),le(()=>(a(ye),a(De),a(_e),a(Y)),()=>{y(Le,ns(a(ye),a(De),a(_e),a(Y)))}),Ve(),he();var hs=Pd(),ys=se(hs);et(ys,{get defaultValue(){return G.desiredRetention},min:.7,max:.99,percentage:!0,get value(){return o().desiredRetention},set value(u){te(N,_(o).desiredRetention=u,_(o))},children:(u,U)=>{ne(u,{$$events:{click:()=>I()("desiredRetention")},children:(oe,me)=>{ee();var re=J();O(()=>H(re,Lr())),v(oe,re)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Cs=$(ys,2);Be(Cs,{get warning(){return a(f)},get className(){return a(M)}});var Bt=$(Cs,2),ws=W(Bt);md(ws,{defaultValue:[],get defaults(){return G.fsrsParams5},get value(){return o().fsrsParams5},set value(u){te(N,_(o).fsrsParams5=u,_(o))},children:(u,U)=>{ne(u,{$$events:{click:()=>I()("modelParams")},children:(oe,me)=>{ee();var re=J();O(()=>H(re,Er())),v(oe,re)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var _s=$(ws,2);yd(_s,{get placeholder(){return a(m)},get value(){return o().paramSearch},set value(u){te(N,_(o).paramSearch=u,_(o))},$$legacy:!0});var dt=$(_s,2),Xr=W(dt);{var Jr=u=>{var U=J();O(()=>H(U,es())),v(u,U)},Zr=u=>{var U=J();O(()=>H(U,gi())),v(u,U)};Pe(Xr,u=>{a(p)?u(Jr):u(Zr,!1)})}E(dt);var ft=$(dt,2),en=W(ft);{var tn=u=>{var U=J();O(()=>H(U,es())),v(u,U)},sn=u=>{var U=J();O(()=>H(U,vi())),v(u,U)};Pe(en,u=>{a(D)?u(tn):u(sn,!1)})}E(ft);var ks=$(ft,2),rn=W(ks);{var nn=u=>{var U=J();O(()=>H(U,a(b))),v(u,U)},an=u=>{var U=ze(),oe=se(U);{var me=re=>{var Oe=J();O(()=>H(Oe,Ir({reviews:a(x)}))),v(re,Oe)};Pe(oe,re=>{a(x)!==void 0&&re(me)},!0)}v(u,U)};Pe(rn,u=>{a(p)||a(D)?u(nn):u(an,!1)})}E(ks),E(Bt);var zt=$(Bt,2),Ps=W(zt);Be(Ps,{get warning(){return a(l)},className:"alert-warning"});var jt=$(Ps,2),on=W(jt,!0);O(()=>H(on,$i())),E(jt),E(zt);var Gt=$(zt,2),bs=W(Gt);qe(bs,{defaultValue:!1,get value(){return ht(),i()},set value(u){at(T,u)},children:(u,U)=>{ne(u,{$$events:{click:()=>I()("rescheduleCardsOnChange")},children:(oe,me)=>{var re=ue(()=>Nr());St(oe,{get title(){return a(re)}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var ln=$(bs,2);{var un=u=>{var U=ue(()=>Ri());Be(u,{get warning(){return a(U)}})};Pe(ln,u=>{i()&&u(un)})}E(Gt);var Wt=$(Gt,2),xs=W(Wt),qt=W(xs),cn=W(qt,!0);O(()=>H(cn,Mr())),E(qt);var Ss=$(qt,2);Fe(Ss,{defaultValue:365,min:1,max:3650,get value(){return a(Q).daysToSimulate},set value(u){ke(Q,a(Q).daysToSimulate=u)},children:(u,U)=>{ne(u,{$$events:{click:()=>I()("computeOptimalRetention")},children:(oe,me)=>{ee();var re=J();O(()=>H(re,sr())),v(oe,re)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var gt=$(Ss,2),dn=W(gt);{var fn=u=>{var U=J();O(()=>H(U,es())),v(u,U)},gn=u=>{var U=J();O(()=>H(U,pi())),v(u,U)};Pe(dn,u=>{a(c)?u(fn):u(gn,!1)})}E(gt);var Os=$(gt,2);{var vn=u=>{var U=Cd(),oe=se(U);O(()=>{var Oe;return H(oe,`${(Oe=it(a(A)))!=null?Oe:""} `)});var me=$(oe);{var re=Oe=>{var je=ue(()=>Ai());Be(Oe,{get warning(){return a(je)},className:"alert-warning"})};Pe(me,Oe=>{a(A)-o().desiredRetention>=.01&&Oe(re)})}v(u,U)};Pe(Os,u=>{a(A)&&u(vn)})}var $n=$(Os,2);{var pn=u=>{var U=wd(),oe=W(U,!0);E(U),O(()=>H(oe,a(P))),v(u,U)};Pe($n,u=>{a(c)&&u(pn)})}E(xs),E(Wt);var Rs=$(Wt,2),As=W(Rs),Qt=W(As),mn=W(Qt,!0);O(()=>H(mn,mi())),E(Qt);var Ts=$(Qt,2);Fe(Ts,{defaultValue:365,min:1,max:3650,get value(){return a(F).daysToSimulate},set value(u){ke(F,a(F).daysToSimulate=u)},children:(u,U)=>{ne(u,{$$events:{click:()=>I()("simulateFsrsReview")},children:(oe,me)=>{ee();var re=J();O(()=>H(re,sr())),v(oe,re)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Ds=$(Ts,2);Fe(Ds,{defaultValue:0,min:0,max:1e5,get value(){return a(F).deckSize},set value(u){ke(F,a(F).deckSize=u)},children:(u,U)=>{ne(u,{$$events:{click:()=>I()("simulateFsrsReview")},children:(oe,me)=>{ee();var re=J();O(()=>H(re,hi())),v(oe,re)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Is=$(Ds,2);Fe(Is,{get defaultValue(){return o().newPerDay},min:0,max:9999,get value(){return a(F).newLimit},set value(u){ke(F,a(F).newLimit=u)},children:(u,U)=>{ne(u,{$$events:{click:()=>I()("simulateFsrsReview")},children:(oe,me)=>{ee();var re=J();O(()=>H(re,Tr())),v(oe,re)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Ls=$(Is,2);Fe(Ls,{get defaultValue(){return o().reviewsPerDay},min:0,max:9999,get value(){return a(F).reviewLimit},set value(u){ke(F,a(F).reviewLimit=u)},children:(u,U)=>{ne(u,{$$events:{click:()=>I()("simulateFsrsReview")},children:(oe,me)=>{ee();var re=J();O(()=>H(re,Dr())),v(oe,re)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Es=$(Ls,2);Fe(Es,{get defaultValue(){return o().maximumReviewInterval},min:1,max:36500,get value(){return a(F).maxInterval},set value(u){ke(F,a(F).maxInterval=u)},children:(u,U)=>{ne(u,{$$events:{click:()=>I()("simulateFsrsReview")},children:(oe,me)=>{ee();var re=J();O(()=>H(re,xr())),v(oe,re)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var vt=$(Es,2),hn=W(vt,!0);O(()=>H(hn,yi())),E(vt);var $t=$(vt,2),yn=W($t,!0);O(()=>H(yn,Ci())),E($t);var Ms=$($t,2);{var Cn=u=>{var U=J();O(()=>H(U,wi())),v(u,U)};Pe(Ms,u=>{a(C)&&u(Cn)})}var wn=$(Ms,2);Jl(wn,{children:(u,U)=>{var oe=kd(),me=se(oe),re=W(me);Zl(re,{children:(Ut,sf)=>{var Fs=_d(),Yt=se(Fs),Ct=W(Yt);st(Ct);var Vs,Pn=$(Ct);O(()=>{var Ee;return H(Pn,` ${(Ee=_i())!=null?Ee:""}`)}),E(Yt);var Kt=$(Yt,2),wt=W(Kt);st(wt);var Hs,bn=$(wt);O(()=>{var Ee;return H(bn,` ${(Ee=ki())!=null?Ee:""}`)}),E(Kt);var Bs=$(Kt,2),_t=W(Bs);st(_t);var zs,xn=$(_t);O(()=>{var Ee;return H(xn,` ${(Ee=Pi())!=null?Ee:""}`)}),E(Bs),O(()=>{Vs!==(Vs=Me.count)&&(Ct.value=(Ct.__value=Me.count)==null?"":Me.count),Hs!==(Hs=Me.time)&&(wt.value=(wt.__value=Me.time)==null?"":Me.time),zs!==(zs=Me.memorized)&&(_t.value=(_t.__value=Me.memorized)==null?"":Me.memorized)}),ts(k,[],Ct,()=>(Me.count,a(Y)),Ee=>y(Y,Ee)),ts(k,[],wt,()=>(Me.time,a(Y)),Ee=>y(Y,Ee)),ts(k,[],_t,()=>(Me.memorized,a(Y)),Ee=>y(Y,Ee)),v(Ut,Fs)},$$slots:{default:!0}}),E(me);var Oe=$(me,2),je=W(Oe);du(je);var Dt=$(je);eu(Dt);var Ns=$(Dt);tu(Ns,{get bounds(){return a(De)}});var _n=$(Ns);su(_n,{get bounds(){return a(De)}}),E(Oe),xt(Oe,Ut=>y(ye,Ut),()=>a(ye));var kn=$(Oe,2);fu(kn,{get tableData(){return a(Le)}}),O(()=>He(Oe,"viewBox",`0 0 ${a(De).width} ${a(De).height}`)),v(u,oe)},$$slots:{default:!0}}),E(As),E(Rs),O(()=>{var u,U,oe,me,re;pt(dt,`btn ${(u=a(p)?"btn-warning":"btn-primary")!=null?u:""}`),dt.disabled=!a(p)&&a(d),pt(ft,`btn ${(U=a(D)?"btn-warning":"btn-primary")!=null?U:""}`),ft.disabled=!a(D)&&a(d),pt(gt,`btn ${(oe=a(c)?"btn-warning":"btn-primary")!=null?oe:""}`),gt.disabled=!a(c)&&a(d),pt(vt,`btn ${(me=a(d)?"btn-warning":"btn-primary")!=null?me:""}`),vt.disabled=a(d),pt($t,`btn ${(re=a(d)?"btn-warning":"btn-primary")!=null?re:""}`),$t.disabled=a(d)}),we("click",dt,()=>ce()),we("click",ft,()=>be()),we("click",jt,()=>Ht()),we("click",gt,()=>ve()),we("click",vt,()=>lt()),we("click",$t,()=>Kr()),v(s,hs),pe()}var xd=X("<!> <!>",1);function Sd(s,e){$e(e,!1);const r=Se(),t=()=>fe(g,"$fsrs",r);let n=B(e,"state",8),o=B(e,"api",8);const g=n().fsrs,i={fsrs:{title:"FSRS",help:Ti(),url:ge.DeckOptions.fsrs},desiredRetention:{title:Lr(),help:Di(),sched:Ne.FSRS},modelParams:{title:Er(),help:Ii()+`

`+Li(),sched:Ne.FSRS},rescheduleCardsOnChange:{title:Nr(),help:Ei(),sched:Ne.FSRS},computeOptimalRetention:{title:Mr(),help:Mi(),sched:Ne.FSRS}},l=Object.values(i);let d=V(),m=V();function h(f){a(d).show(),a(m).to(f)}he(),Qe(s,{title:"FSRS",children:(f,M)=>{Xe(f,{slotHost:K,get api(){return o()},children:(w,b)=>{var P=xd(),x=se(P);K(x,{children:(I,q)=>{qe(I,{defaultValue:!1,get value(){return ht(),t()},set value(N){at(g,N)},children:(N,G)=>{ne(N,{$$events:{click:()=>h(Object.keys(i).indexOf("fsrs"))},children:(T,R)=>{St(T,{get title(){return i.fsrs.title}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var k=$(x,2);{var L=I=>{bd(I,{get state(){return n()},openHelpModal:q=>h(Object.keys(i).indexOf(q))})};Pe(k,I=>{t()&&I(L)})}v(w,P)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(f,M)=>{Je(f,{title:"FSRS",get url(){return ge.DeckOptions.fsrs},slot:"tooltip",get fsrs(){return t()},helpSections:l,$$events:{mount:w=>{y(d,w.detail.modal),y(m,w.detail.carousel)}}})}}}),pe()}function Od(s,e){$e(e,!1);let r=B(e,"html",8),t=B(e,"mounted",8);ds(t()),he();var n=ze(),o=se(n);Ni(o,r,!1,!1),v(s,n),pe()}function Rd(s){switch(s){case Ke.Seconds:return"s";case Ke.Minutes:return"m";case Ke.Hours:return"h";case Ke.Days:return"d";default:return""}}function Ad(s){switch(s){case"s":return Ke.Seconds;case"h":return Ke.Hours;case"d":return Ke.Days;default:return Ke.Minutes}}function Td(s){const e=s*60;let r=nu(e);return[Ke.Months,Ke.Years].includes(r)&&(r=Ke.Days),`${Math.round(au(r,e))}${Rd(r)}`}function Dd(s){const e=s.match(/(\d+)(.*)/);if(e){const[r,t,n]=e,o=Ad(n),g=ou(o)*parseInt(t,10);return Math.min(g,2**31)/60}else return 0}function Id(s){return s.map(Td).join(" ")}function Ld(s){return s.split(" ").map(Dd).filter(e=>e)}var Ed=X('<input type="text" class="svelte-f5c9s0">');function Md(s,e){$e(e,!1);let r=B(e,"value",12),t=V();function n(){r(Ld(this.value))}le(()=>We(r()),()=>{y(t,Id(r()))}),Ve(),he();var o=Ed();st(o),O(()=>fs(o,a(t))),we("blur",o,n),v(s,o),pe()}var Nd=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Fd=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Yr(s,e){let r=B(e,"value",12),t=B(e,"defaultValue",8);var n=Fd(),o=se(n);Te(o,()=>({"--cols":13})),xe(o.lastChild,{children:(g,i)=>{var l=Nd(),d=se(l);Te(d,()=>({"--col-size":7})),ot(d.lastChild,{breakpoint:"xs",children:(h,f)=>{var M=ze(),w=se(M);nt(w,e,"default",{}),v(h,M)},$$slots:{default:!0}}),E(d);var m=$(d,2);Te(m,()=>({"--col-size":6})),ot(m.lastChild,{breakpoint:"xs",children:(h,f)=>{ct(h,{children:(M,w)=>{Md(M,{get value(){return r()},set value(b){r(b)},$$legacy:!0})},$$slots:{default:!0,revert:(M,w)=>{Rt(M,{slot:"revert",get defaultValue(){return t()},get value(){return r()},set value(b){r(b)},$$legacy:!0})}}})},$$slots:{default:!0}}),E(m),v(g,l)},$$slots:{default:!0}}),E(o),v(s,n)}var Vd=X("<!> <!> <!> <!> <!> <!>",1);function Hd(s,e){$e(e,!1);const r=Se(),t=()=>fe(i,"$config",r),n=()=>fe(d,"$fsrs",r);let o=B(e,"state",8),g=B(e,"api",24,()=>({}));const i=o().currentConfig,l=o().defaults,d=o().fsrs;let m=V(),h=V();const f={relearningSteps:{title:Fi(),help:Vi(),url:ge.DeckOptions.relearningSteps},minimumInterval:{title:Hi(),help:Bi(),url:ge.DeckOptions.minimumInterval,sched:Ne.SM2},leechThreshold:{title:zi(),help:ji(),url:ge.Leeches.leeches},leechAction:{title:Gi(),help:Wi(),url:ge.Leeches.waiting}},M=Object.values(f);let w=V(),b=V();function P(k){a(w).show(),a(b).to(k)}le(()=>(t(),n(),ut),()=>{const k=t().relearnSteps.length?t().relearnSteps[t().relearnSteps.length-1]/60/24:0;y(m,!n()&&k>t().minimumLapseInterval?qi():""),y(h,n()&&k>=1?Fr():"")}),Ve(),he();var x=ue(()=>rr());Qe(s,{get title(){return a(x)},children:(k,L)=>{Xe(k,{slotHost:K,get api(){return g()},children:(I,q)=>{var N=Vd(),G=se(N);K(G,{children:(C,A)=>{Yr(C,{get defaultValue(){return l.relearnSteps},get value(){return t().relearnSteps},set value(z){te(i,_(t).relearnSteps=z,_(t))},children:(z,Y)=>{ne(z,{$$events:{click:()=>P(Object.keys(f).indexOf("relearningSteps"))},children:(Q,F)=>{ee();var j=J();O(()=>H(j,f.relearningSteps.title)),v(Q,j)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var T=$(G,2);K(T,{children:(C,A)=>{Be(C,{get warning(){return a(h)}})},$$slots:{default:!0}});var R=$(T,2);{var S=C=>{K(C,{children:(A,z)=>{Fe(A,{get defaultValue(){return l.minimumLapseInterval},min:1,get value(){return t().minimumLapseInterval},set value(Y){te(i,_(t).minimumLapseInterval=Y,_(t))},children:(Y,Q)=>{ne(Y,{$$events:{click:()=>P(Object.keys(f).indexOf("minimumInterval"))},children:(F,j)=>{ee();var Z=J();O(()=>H(Z,f.minimumInterval.title)),v(F,Z)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}})};Pe(R,C=>{n()||C(S)})}var p=$(R,2);K(p,{children:(C,A)=>{Be(C,{get warning(){return a(m)}})},$$slots:{default:!0}});var D=$(p,2);K(D,{children:(C,A)=>{Fe(C,{get defaultValue(){return l.leechThreshold},min:1,get value(){return t().leechThreshold},set value(z){te(i,_(t).leechThreshold=z,_(t))},children:(z,Y)=>{ne(z,{$$events:{click:()=>P(Object.keys(f).indexOf("leechThreshold"))},children:(Q,F)=>{ee();var j=J();O(()=>H(j,f.leechThreshold.title)),v(Q,j)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var c=$(D,2);K(c,{children:(C,A)=>{var z=ue(Vc);tt(C,{get defaultValue(){return l.leechAction},get choices(){return a(z)},breakpoint:"md",get value(){return t().leechAction},set value(Y){te(i,_(t).leechAction=Y,_(t))},children:(Y,Q)=>{ne(Y,{$$events:{click:()=>P(Object.keys(f).indexOf("leechAction"))},children:(F,j)=>{ee();var Z=J();O(()=>H(Z,f.leechAction.title)),v(F,Z)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),v(I,N)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(k,L)=>{var I=ue(()=>rr());Je(k,{get title(){return a(I)},get url(){return ge.DeckOptions.lapses},slot:"tooltip",get fsrs(){return n()},helpSections:M,$$events:{mount:q=>{y(w,q.detail.modal),y(b,q.detail.carousel)}}})}}}),pe()}var Bd=X("<!> <!> <!> <!>",1),zd=X("<!> <!> <!> <!> <!>",1);function jd(s,e){$e(e,!1);const r=Se(),t=()=>fe(d,"$config",r),n=()=>fe(h,"$fsrs",r),o=V(),g=V();let i=B(e,"state",8),l=B(e,"api",24,()=>({}));const d=i().currentConfig,m=i().defaults,h=i().fsrs;let f=V(),M=V();const w={learningSteps:{title:Qi(),help:Ui(),url:ge.DeckOptions.learningSteps},graduatingInterval:{title:Yi(),help:Ki(),url:ge.DeckOptions.graduatingInterval,sched:Ne.SM2},easyInterval:{title:Xi(),help:Ji(),url:ge.DeckOptions.easyInterval,sched:Ne.SM2},insertionOrder:{title:Zi(),help:el(),url:ge.DeckOptions.insertionOrder}},b=Object.values(w);let P=V(),x=V();function k(I){a(P).show(),a(x).to(I)}le(()=>(t(),n()),()=>{const I=t().learnSteps.length?t().learnSteps[t().learnSteps.length-1]/60/24:0;y(f,I>t().graduatingIntervalGood?tl():""),y(M,n()&&I>=1?Fr():"")}),le(()=>(t(),ut),()=>{y(o,t().graduatingIntervalGood>t().graduatingIntervalEasy?sl():"")}),le(()=>(t(),ut),()=>{y(g,t().newCardInsertOrder==as.RANDOM?rl():"")}),Ve(),he();var L=ue(()=>nr());Qe(s,{get title(){return a(L)},children:(I,q)=>{Xe(I,{slotHost:K,get api(){return l()},children:(N,G)=>{var T=zd(),R=se(T);K(R,{children:(A,z)=>{Yr(A,{get defaultValue(){return m.learnSteps},get value(){return t().learnSteps},set value(Y){te(d,_(t).learnSteps=Y,_(t))},children:(Y,Q)=>{ne(Y,{$$events:{click:()=>k(Object.keys(w).indexOf("learningSteps"))},children:(F,j)=>{ee();var Z=J();O(()=>H(Z,w.learningSteps.title)),v(F,Z)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var S=$(R,2);K(S,{children:(A,z)=>{Be(A,{get warning(){return a(M)}})},$$slots:{default:!0}});var p=$(S,2);{var D=A=>{var z=Bd(),Y=se(z);K(Y,{children:(Z,de)=>{Fe(Z,{get defaultValue(){return m.graduatingIntervalGood},get value(){return t().graduatingIntervalGood},set value(ce){te(d,_(t).graduatingIntervalGood=ce,_(t))},children:(ce,be)=>{ne(ce,{$$events:{click:()=>k(Object.keys(w).indexOf("graduatingInterval"))},children:(ve,ae)=>{ee();var Ce=J();O(()=>H(Ce,w.graduatingInterval.title)),v(ve,Ce)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var Q=$(Y,2);K(Q,{children:(Z,de)=>{Be(Z,{get warning(){return a(f)}})},$$slots:{default:!0}});var F=$(Q,2);K(F,{children:(Z,de)=>{Fe(Z,{get defaultValue(){return m.graduatingIntervalEasy},get value(){return t().graduatingIntervalEasy},set value(ce){te(d,_(t).graduatingIntervalEasy=ce,_(t))},children:(ce,be)=>{ne(ce,{$$events:{click:()=>k(Object.keys(w).indexOf("easyInterval"))},children:(ve,ae)=>{ee();var Ce=J();O(()=>H(Ce,w.easyInterval.title)),v(ve,Ce)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var j=$(F,2);K(j,{children:(Z,de)=>{Be(Z,{get warning(){return a(o)}})},$$slots:{default:!0}}),v(A,z)};Pe(p,A=>{n()||A(D)})}var c=$(p,2);K(c,{children:(A,z)=>{var Y=ue(Hc);tt(A,{get defaultValue(){return m.newCardInsertOrder},get choices(){return a(Y)},breakpoint:"md",get value(){return t().newCardInsertOrder},set value(Q){te(d,_(t).newCardInsertOrder=Q,_(t))},children:(Q,F)=>{ne(Q,{$$events:{click:()=>k(Object.keys(w).indexOf("insertionOrder"))},children:(j,Z)=>{ee();var de=J();O(()=>H(de,w.insertionOrder.title)),v(j,de)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var C=$(c,2);K(C,{children:(A,z)=>{Be(A,{get warning(){return a(g)}})},$$slots:{default:!0}}),v(N,T)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(I,q)=>{var N=ue(()=>nr());Je(I,{get title(){return a(N)},get url(){return ge.DeckOptions.newCards},slot:"tooltip",helpSections:b,get fsrs(){return n()},$$events:{mount:G=>{y(P,G.detail.modal),y(x,G.detail.carousel)}}})}}}),pe()}var Gd=X('<div class="show-timer-switch" style="display: contents;"><!></div>'),Wd=X('<div class="show-timer-switch" style="display: contents;"><!></div>'),qd=X("<!> <!> <!> <!>",1);function Qd(s,e){$e(e,!1);const r=Se(),t=()=>fe(i,"$config",r),n=V();let o=B(e,"state",8),g=B(e,"api",8);const i=o().currentConfig,l=o().defaults,d={maximumAnswerSecs:{title:nl(),help:al()},showAnswerTimer:{title:ol(),help:il()},stopTimerOnAnswer:{title:ll(),help:ul()}},m=Object.values(d);let h=V(),f=V();function M(b){a(h).show(),a(f).to(b)}le(()=>(t(),ut),()=>{y(n,t().capAnswerTimeToSecs>600?cl():"")}),Ve(),he();var w=ue(()=>ar());Qe(s,{get title(){return a(w)},children:(b,P)=>{Xe(b,{slotHost:K,get api(){return g()},children:(x,k)=>{var L=qd(),I=se(L);K(I,{children:(T,R)=>{Fe(T,{get defaultValue(){return l.capAnswerTimeToSecs},min:1,max:7200,get value(){return t().capAnswerTimeToSecs},set value(S){te(i,_(t).capAnswerTimeToSecs=S,_(t))},children:(S,p)=>{ne(S,{$$events:{click:()=>M(Object.keys(d).indexOf("maximumAnswerSecs"))},children:(D,c)=>{ee();var C=J();O(()=>H(C,d.maximumAnswerSecs.title)),v(D,C)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var q=$(I,2);K(q,{children:(T,R)=>{Be(T,{get warning(){return a(n)}})},$$slots:{default:!0}});var N=$(q,2);K(N,{children:(T,R)=>{var S=Gd(),p=W(S);qe(p,{get defaultValue(){return l.showTimer},get value(){return t().showTimer},set value(D){te(i,_(t).showTimer=D,_(t))},children:(D,c)=>{ne(D,{$$events:{click:()=>M(Object.keys(d).indexOf("showAnswerTimer"))},children:(C,A)=>{ee();var z=J();O(()=>H(z,d.showAnswerTimer.title)),v(C,z)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0}),E(S),v(T,S)},$$slots:{default:!0}});var G=$(N,2);K(G,{children:(T,R)=>{var S=Wd(),p=W(S);qe(p,{get defaultValue(){return l.stopTimerOnAnswer},get value(){return t().stopTimerOnAnswer},set value(D){te(i,_(t).stopTimerOnAnswer=D,_(t))},children:(D,c)=>{ne(D,{$$events:{click:()=>M(Object.keys(d).indexOf("stopTimerOnAnswer"))},children:(C,A)=>{ee();var z=J();O(()=>H(z,d.stopTimerOnAnswer.title)),v(C,z)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0}),E(S),v(T,S)},$$slots:{default:!0}}),v(x,L)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(b,P)=>{var x=ue(()=>ar());Je(b,{get title(){return a(x)},get url(){return ge.DeckOptions.timer},slot:"tooltip",helpSections:m,$$events:{mount:k=>{y(h,k.detail.modal),y(f,k.detail.carousel)}}})}}}),pe()}var Ud=X('<tr><td class="svelte-1puqew1"> </td><td colspan="3" class="svelte-1puqew1"><input type="range" list="easy_day_steplist" class="svelte-1puqew1"></td></tr>'),Yd=X('<div class="easy-days-settings svelte-1puqew1"><table class="svelte-1puqew1"><thead><tr><th class="svelte-1puqew1"></th><th colspan="3" class="svelte-1puqew1"><div class="header svelte-1puqew1"><span class="svelte-1puqew1"> </span> <span class="svelte-1puqew1"> </span> <span class="svelte-1puqew1"> </span></div></th></tr></thead><tbody></tbody></table></div>'),Kd=X("<!> <!>",1),Xd=X('<datalist id="easy_day_steplist"><option>0.5</option></datalist> <!>',1);function Jd(s,e){$e(e,!1);const r=Se(),t=()=>fe(i,"$config",r),n=V();let o=B(e,"state",8),g=B(e,"api",8);const i=o().currentConfig,l=o().defaults,d=[dl(),fl(),gl(),vl(),$l(),pl(),ml()];le(()=>t(),()=>{t().easyDaysPercentages.length!==7&&te(i,_(t).easyDaysPercentages=l.easyDaysPercentages.slice(),_(t))}),le(()=>(t(),ut),()=>{y(n,t().easyDaysPercentages.some(M=>M===1)?"":hl())}),Ve(),he();var m=Xd(),h=$(se(m),2),f=ue(()=>_l());Qe(h,{get title(){return a(f)},children:(M,w)=>{Xe(M,{slotHost:K,get api(){return g()},children:(b,P)=>{var x=Kd(),k=se(x);K(k,{children:(I,q)=>{var N=Yd(),G=W(N),T=W(G),R=W(T),S=$(W(R)),p=W(S),D=W(p),c=W(D,!0);O(()=>H(c,yl())),E(D);var C=$(D,2),A=W(C,!0);O(()=>H(A,Cl())),E(C);var z=$(C,2),Y=W(z,!0);O(()=>H(Y,wl())),E(z),E(p),E(S),E(R),E(T);var Q=$(T);Ft(Q,5,()=>d,gs,(F,j,Z)=>{var de=Ud(),ce=W(de),be=W(ce,!0);E(ce);var ve=$(ce),ae=W(ve);st(ae),He(ae,"step",.5),He(ae,"max",1),He(ae,"min",0),E(ve),E(de),O(()=>H(be,a(j))),Tt(ae,()=>t().easyDaysPercentages[Z],Ce=>te(i,_(t).easyDaysPercentages[Z]=Ce,_(t))),v(F,de)}),E(Q),E(G),E(N),v(I,N)},$$slots:{default:!0}});var L=$(k,2);K(L,{children:(I,q)=>{Be(I,{get warning(){return a(n)}})},$$slots:{default:!0}}),v(b,x)},$$slots:{default:!0}})},$$slots:{default:!0}}),v(s,m),pe()}var Zd=X("<div><!> <!> <!> <!> <!></div> <div><!> <!> <!> <!> <!> <!> <!></div>",1),ef=X('<!> <div class="deck-options-page svelte-htbfcn"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></div>',1);function tf(s,e){$e(e,!1);const r=Se(),t=()=>fe(o,"$addons",r);let n=B(e,"state",8);const o=n().addonComponents;function g(){return n().currentAuxData}function i(T){at(o,[...t(),T])}function l(T,R){at(o,[...t(),{component:Od,html:T,mounted:R}])}const d={},m={},h={},f={},M={},w={},b={},P={},x={},k={};let L=V();he();var I=ef(),q=se(I);od(q,{get state(){return n()},$$events:{presetchange(...T){var R;(R=a(L))==null||R.apply(this,T)}}});var N=$(q,2),G=W(N);return Te(G,()=>({"--gutter-inline":"0.25rem","--gutter-block":"0.75rem"})),Pl(G.lastChild,{breakpoint:"sm",class:"container-columns",children:(T,R)=>{var S=Zd(),p=se(S),D=W(p);xe(D,{class:"row-columns",children:(ae,Ce)=>{dd(ae,{get state(){return n()},api:m,get onPresetChange(){return a(L)},set onPresetChange(it){y(L,it)},$$legacy:!0})},$$slots:{default:!0}});var c=$(D,2);xe(c,{class:"row-columns",children:(ae,Ce)=>{jd(ae,{get state(){return n()},api:h})},$$slots:{default:!0}});var C=$(c,2);xe(C,{class:"row-columns",children:(ae,Ce)=>{Hd(ae,{get state(){return n()},api:f})},$$slots:{default:!0}});var A=$(C,2);xe(A,{class:"row-columns",children:(ae,Ce)=>{gd(ae,{get state(){return n()},api:w})},$$slots:{default:!0}});var z=$(A,2);xe(z,{class:"row-columns",children:(ae,Ce)=>{Sd(ae,{get state(){return n()},api:{}})},$$slots:{default:!0}}),E(p);var Y=$(p,2),Q=W(Y);xe(Q,{class:"row-columns",children:(ae,Ce)=>{Qc(ae,{get state(){return n()},api:M})},$$slots:{default:!0}});var F=$(Q,2);xe(F,{class:"row-columns",children:(ae,Ce)=>{Ec(ae,{get state(){return n()},api:P})},$$slots:{default:!0}});var j=$(F,2);xe(j,{class:"row-columns",children:(ae,Ce)=>{Qd(ae,{get state(){return n()},api:b})},$$slots:{default:!0}});var Z=$(j,2);xe(Z,{class:"row-columns",children:(ae,Ce)=>{Wc(ae,{get state(){return n()},api:b})},$$slots:{default:!0}});var de=$(Z,2);{var ce=ae=>{xe(ae,{class:"row-columns",children:(Ce,it)=>{sc(Ce,{get state(){return n()}})},$$slots:{default:!0}})};Pe(de,ae=>{t().length&&ae(ce)})}var be=$(de,2);xe(be,{class:"row-columns",children:(ae,Ce)=>{Jd(ae,{get state(){return n()},api:k})},$$slots:{default:!0}});var ve=$(be,2);xe(ve,{class:"row-columns",children:(ae,Ce)=>{Ic(ae,{get state(){return n()},api:x})},$$slots:{default:!0}}),E(Y),v(T,S)},$$slots:{default:!0}}),E(G),E(N),v(s,I),Ie(e,"auxData",g),Ie(e,"addSvelteAddon",i),Ie(e,"addHtmlAddon",l),Ie(e,"options",d),Ie(e,"dailyLimits",m),Ie(e,"newOptions",h),Ie(e,"lapseOptions",f),Ie(e,"buryOptions",M),Ie(e,"displayOrder",w),Ie(e,"timerOptions",b),Ie(e,"audioOptions",P),Ie(e,"advancedOptions",x),Ie(e,"easyDays",k),pe({auxData:g,addSvelteAddon:i,addHtmlAddon:l,options:d,dailyLimits:m,newOptions:h,lapseOptions:f,buryOptions:M,displayOrder:w,timerOptions:b,audioOptions:P,advancedOptions:x,easyDays:k})}function Vf(s,e){$e(e,!1);let r=B(e,"data",8),t=V();globalThis.anki||(globalThis.anki={}),globalThis.anki.deckOptionsPendingChanges=async()=>{await ms(),(!await r().state.isModified()||confirm(kl()))&&Bn({})},ds(()=>{globalThis.$deckOptions=new Promise((n,o)=>{n(a(t))}),r().state.resolveOriginalConfigs(),zn({})}),he(),xt(tf(s,{get state(){return r().state},$$legacy:!0}),n=>y(t,n),()=>a(t)),pe()}export{Vf as component,Ff as universal};
