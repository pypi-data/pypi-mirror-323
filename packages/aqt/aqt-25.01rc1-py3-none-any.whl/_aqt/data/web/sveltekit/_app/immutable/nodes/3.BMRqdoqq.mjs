import{c as m}from"../chunks/backend.B-rEzG1h.mjs";import{a as p,b as u}from"../chunks/disclose-version.CLyesH2z.mjs";import{i as y}from"../chunks/legacy.C9ld2zwP.mjs";import{p as C,b as $,J as k,M as l,a2 as g,K as P}from"../chunks/runtime.9HYTEYPq.mjs";import{p as S,a as v}from"../chunks/props.DYb31JuL.mjs";import{s as T,b as j}from"../chunks/store.CPnfR7A8.mjs";import{p as B}from"../chunks/stores.Clc2s59E.mjs";import{C as _}from"../chunks/CardInfo.Cbobc_q-.mjs";import{g as M}from"../chunks/entry.DrkHKKIm.mjs";function h(t){try{return BigInt(t)}catch{return null}}const O=async({params:t})=>{const a=h(t.cardId),s=a!==null?await m({cid:a}):null,n=h(t.previousId),e=n!==null?await m({cid:n}):null;return{currentInfo:s,previousInfo:e}},L=Object.freeze(Object.defineProperty({__proto__:null,load:O},Symbol.toStringTag,{value:"Module"}));var x=u("<h3>Current</h3> <!>",1),z=u("<h3>Previous</h3> <!>",1),J=u("<center><!> <!></center>");function N(t,a){C(a,!1);const s=T(),n=()=>j(B,"$page",s);let e=S(a,"data",8);const f=n().url.searchParams.get("revlog")!=="0";globalThis.anki||(globalThis.anki={}),globalThis.anki.updateCardInfos=async r=>{const o=`/card-info/${r}`;return M(o).catch(()=>{window.location.href=o})},y();var i=J(),d=k(i);{var I=r=>{var o=x(),c=l(g(o),2);_(c,{get stats(){return e().currentInfo},showRevlog:f}),p(r,o)};v(d,r=>{e().currentInfo&&r(I)})}var b=l(d,2);{var w=r=>{var o=z(),c=l(g(o),2);_(c,{get stats(){return e().previousInfo},showRevlog:f}),p(r,o)};v(b,r=>{e().previousInfo&&r(w)})}P(i),p(t,i),$()}export{N as component,L as universal};
