import{B as le,L as za}from"./ListItem-Bi560fvx.js";import{s as ye,c as $,a as Be,o as qe,w as te,b as je,C as La,u as Fe,d as ta,e as Aa,p as me,m as Wa,f as Ke,g as ve,h as pt,i as at,t as ee,j as yt,k as lt,r as z,l as ft,n as d,q as X,T as Ra,F as Y,v as aa,x as F,y as c,z as I,A as f,B as Q,D as b,E as ie,G as e,H as t,I as w,M as fe,P as Dt,$ as Ue,J as C,K as V,L as Ha,N as Da,O as Ua,Q as la,R as G,S as D,U as Je,V as ut,W as dt,X as et,Y as j,Z as Te,_ as Z,a0 as be,a1 as ne,a2 as se,a3 as he,a4 as tt,a5 as ia,a6 as oa,a7 as Na,a8 as Fa,a9 as sa,aa as Oa,ab as na,ac as xa,ad as Ya,ae as Xa,af as Oe,ag as Ga,ah as it,ai as ja,aj as Ut,ak as ra,al as ua,am as Ka,an as Za,ao as Nt,ap as Ja,aq as el,ar as tl}from"./index-3OxajW06.js";import{D as al}from"./constants-BXWEQHoz.js";import{m as ht,a as Ie,b as _t,c as gt,d as ze,u as bt,e as xe,f as wt,g as kt,h as ll,t as il,i as pe,V as Ee,j as ol,k as ce,l as sl,n as nl,o as da,p as rl,q as ca,r as ma,s as ul,v as we,w as N,x as dl,y as cl,z as ml,A as vl,M as pl,B as yl,C as fl}from"./VListItem-Chb8UPjb.js";import{u as ot,V as Ye,a as Ve}from"./VList-6o6GYwqq.js";import{m as hl,u as va,a as _l,V as Pt,f as gl,b as bl,s as wl,c as kl,d as Pl,e as pa}from"./VMenu-BqhB0qWS.js";import{m as Ct,u as Vt,a as Cl,b as Vl,c as Il}from"./layout-BYG8T7Sc.js";import{_ as oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{M as Me,_ as $l,i as st,a as ya,b as Sl,g as Ft}from"./ItemContextMenu.vue_vue_type_style_index_0_scoped_3a9a25e3_lang-CeAv8-PF.js";import{_ as nt}from"./ProviderIcon.vue_vue_type_script_setup_true_lang-BCYbQGjf.js";import{e as Ce}from"./eventbus-CGRXT3Tn.js";import{T as Ql,V as ct}from"./Toolbar-Bk5QllK0.js";import{V as Xe}from"./VCard-BtLQOX9b.js";import{V as fa}from"./VDialog-DHN-Ek7A.js";import{V as Tl,a as Ml}from"./VInfiniteScroll-DJk7AvQI.js";import{V as ha}from"./VSlider-B2fjwCeW.js";import{M as ue,a as mt}from"./marquee_text_sync-DyQH_58L.js";import{V as Bl}from"./VToolbar-HzJOtCLw.js";import{V as Ne,a as ge}from"./VCardText-DfI0lPZt.js";import{m as El,V as Ot,a as ql}from"./VChip-CJqEYpNt.js";import{V as zl}from"./VVirtualScroll-DVYtO6nk.js";import{V as Ll}from"./VCheckbox-Dp9AwJQb.js";import{V as xt,a as Yt,b as Xt,c as Al}from"./VExpansionPanels-DddopOf8.js";import"./VCheckboxBtn-Be-snH-E.js";const Wl=""+new URL("icon-iUF3LVzp.png",import.meta.url).href;function Rl(a){let{rootEl:l,isSticky:s,layoutItemStyles:o}=a;const n=ye(!1),i=ye(0),r=$(()=>{const u=typeof n.value=="boolean"?"top":n.value;return[s.value?{top:"auto",bottom:"auto",height:void 0}:void 0,n.value?{[u]:Be(i.value)}:{top:o.value.top}]});qe(()=>{te(s,u=>{u?window.addEventListener("scroll",p,{passive:!0}):window.removeEventListener("scroll",p)},{immediate:!0})}),je(()=>{window.removeEventListener("scroll",p)});let h=0;function p(){const u=h>window.scrollY?"up":"down",m=l.value.getBoundingClientRect(),y=parseFloat(o.value.top??0),v=window.scrollY-Math.max(0,i.value-y),g=m.height+Math.max(i.value,y)-window.scrollY-window.innerHeight,_=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;m.height<window.innerHeight-y?(n.value="top",i.value=y):u==="up"&&n.value==="bottom"||u==="down"&&n.value==="top"?(i.value=window.scrollY+m.top-_,n.value=!0):u==="down"&&g<=0?(i.value=0,n.value="bottom"):u==="up"&&v<=0&&(_?n.value!=="top"&&(i.value=-v+_+y,n.value="top"):(i.value=m.top+v,n.value="top")),h=window.scrollY}return{isStuck:n,stickyStyles:r}}const Hl=100,Dl=20;function Gt(a){return(a<0?-1:1)*Math.sqrt(Math.abs(a))*1.41421356237}function jt(a){if(a.length<2)return 0;if(a.length===2)return a[1].t===a[0].t?0:(a[1].d-a[0].d)/(a[1].t-a[0].t);let l=0;for(let s=a.length-1;s>0;s--){if(a[s].t===a[s-1].t)continue;const o=Gt(l),n=(a[s].d-a[s-1].d)/(a[s].t-a[s-1].t);l+=(n-o)*Math.abs(n),s===a.length-1&&(l*=.5)}return Gt(l)*1e3}function Ul(){const a={};function l(n){Array.from(n.changedTouches).forEach(i=>{(a[i.identifier]??(a[i.identifier]=new La(Dl))).push([n.timeStamp,i])})}function s(n){Array.from(n.changedTouches).forEach(i=>{delete a[i.identifier]})}function o(n){var u;const i=(u=a[n])==null?void 0:u.values().reverse();if(!i)throw new Error(`No samples for touch id ${n}`);const r=i[0],h=[],p=[];for(const m of i){if(r[0]-m[0]>Hl)break;h.push({t:m[0],d:m[1].clientX}),p.push({t:m[0],d:m[1].clientY})}return{x:jt(h),y:jt(p),get direction(){const{x:m,y}=this,[v,g]=[Math.abs(m),Math.abs(y)];return v>g&&m>=0?"right":v>g&&m<=0?"left":g>v&&y>=0?"down":g>v&&y<=0?"up":Nl()}}}return{addMovement:l,endTouch:s,getVelocity:o}}function Nl(){throw new Error}function Fl(a){let{el:l,isActive:s,isTemporary:o,width:n,touchless:i,position:r}=a;qe(()=>{window.addEventListener("touchstart",U,{passive:!0}),window.addEventListener("touchmove",H,{passive:!1}),window.addEventListener("touchend",L,{passive:!0})}),je(()=>{window.removeEventListener("touchstart",U),window.removeEventListener("touchmove",H),window.removeEventListener("touchend",L)});const h=$(()=>["left","right"].includes(r.value)),{addMovement:p,endTouch:u,getVelocity:m}=Ul();let y=!1;const v=ye(!1),g=ye(0),_=ye(0);let S;function q(B,E){return(r.value==="left"?B:r.value==="right"?document.documentElement.clientWidth-B:r.value==="top"?B:r.value==="bottom"?document.documentElement.clientHeight-B:Qe())-(E?n.value:0)}function R(B){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const k=r.value==="left"?(B-_.value)/n.value:r.value==="right"?(document.documentElement.clientWidth-B-_.value)/n.value:r.value==="top"?(B-_.value)/n.value:r.value==="bottom"?(document.documentElement.clientHeight-B-_.value)/n.value:Qe();return E?Math.max(0,Math.min(1,k)):k}function U(B){if(i.value)return;const E=B.changedTouches[0].clientX,k=B.changedTouches[0].clientY,P=25,T=r.value==="left"?E<P:r.value==="right"?E>document.documentElement.clientWidth-P:r.value==="top"?k<P:r.value==="bottom"?k>document.documentElement.clientHeight-P:Qe(),A=s.value&&(r.value==="left"?E<n.value:r.value==="right"?E>document.documentElement.clientWidth-n.value:r.value==="top"?k<n.value:r.value==="bottom"?k>document.documentElement.clientHeight-n.value:Qe());(T||A||s.value&&o.value)&&(S=[E,k],_.value=q(h.value?E:k,s.value),g.value=R(h.value?E:k),y=_.value>-20&&_.value<80,u(B),p(B))}function H(B){const E=B.changedTouches[0].clientX,k=B.changedTouches[0].clientY;if(y){if(!B.cancelable){y=!1;return}const T=Math.abs(E-S[0]),A=Math.abs(k-S[1]);(h.value?T>A&&T>3:A>T&&A>3)?(v.value=!0,y=!1):(h.value?A:T)>3&&(y=!1)}if(!v.value)return;B.preventDefault(),p(B);const P=R(h.value?E:k,!1);g.value=Math.max(0,Math.min(1,P)),P>1?_.value=q(h.value?E:k,!0):P<0&&(_.value=q(h.value?E:k,!1))}function L(B){if(y=!1,!v.value)return;p(B),v.value=!1;const E=m(B.changedTouches[0].identifier),k=Math.abs(E.x),P=Math.abs(E.y);(h.value?k>P&&k>400:P>k&&P>3)?s.value=E.direction===({left:"right",right:"left",top:"down",bottom:"up"}[r.value]||Qe()):s.value=g.value>.5}const W=$(()=>v.value?{transform:r.value==="left"?`translateX(calc(-100% + ${g.value*n.value}px))`:r.value==="right"?`translateX(calc(100% - ${g.value*n.value}px))`:r.value==="top"?`translateY(calc(-100% + ${g.value*n.value}px))`:r.value==="bottom"?`translateY(calc(100% - ${g.value*n.value}px))`:Qe(),transition:"none"}:void 0);return Fe(v,()=>{var k,P;const B=((k=l.value)==null?void 0:k.style.transform)??null,E=((P=l.value)==null?void 0:P.style.transition)??null;ta(()=>{var T,A,x,ae;(A=l.value)==null||A.style.setProperty("transform",((T=W.value)==null?void 0:T.transform)||"none"),(ae=l.value)==null||ae.style.setProperty("transition",((x=W.value)==null?void 0:x.transition)||null)}),Aa(()=>{var T,A;(T=l.value)==null||T.style.setProperty("transform",B),(A=l.value)==null||A.style.setProperty("transition",E)})}),{isDragging:v,dragProgress:g,dragStyles:W}}function Qe(){throw new Error}const Ol=["start","end","left","right","top","bottom"],xl=me({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:a=>Ol.includes(a)},sticky:Boolean,...ht(),...Ie(),...hl(),...Wa({mobile:null}),..._t(),...Ct(),...gt(),...ze({tag:"nav"}),...Ke()},"VNavigationDrawer"),_a=ve()({name:"VNavigationDrawer",props:xl(),emits:{"update:modelValue":a=>!0,"update:rail":a=>!0},setup(a,l){let{attrs:s,emit:o,slots:n}=l;const{isRtl:i}=pt(),{themeClasses:r}=at(a),{borderClasses:h}=bt(a),{backgroundColorClasses:p,backgroundColorStyles:u}=xe(ee(a,"color")),{elevationClasses:m}=wt(a),{displayClasses:y,mobile:v}=yt(a),{roundedClasses:g}=kt(a),_=ll(),S=lt(a,"modelValue",null,J=>!!J),{ssrBootStyles:q}=ot(),{scopeId:R}=va(),U=z(),H=ye(!1),{runOpenDelay:L,runCloseDelay:W}=_l(a,J=>{H.value=J}),B=$(()=>a.rail&&a.expandOnHover&&H.value?Number(a.width):Number(a.rail?a.railWidth:a.width)),E=$(()=>il(a.location,i.value)),k=$(()=>a.persistent),P=$(()=>!a.permanent&&(v.value||a.temporary)),T=$(()=>a.sticky&&!P.value&&E.value!=="bottom");Fe(()=>a.expandOnHover&&a.rail!=null,()=>{te(H,J=>o("update:rail",!J))}),Fe(()=>!a.disableResizeWatcher,()=>{te(P,J=>!a.permanent&&aa(()=>S.value=!J))}),Fe(()=>!a.disableRouteWatcher&&!!_,()=>{te(_.currentRoute,()=>P.value&&(S.value=!1))}),te(()=>a.permanent,J=>{J&&(S.value=!0)}),a.modelValue==null&&!P.value&&(S.value=a.permanent||!v.value);const{isDragging:A,dragProgress:x}=Fl({el:U,isActive:S,isTemporary:P,width:B,touchless:ee(a,"touchless"),position:E}),ae=$(()=>{const J=P.value?0:a.rail&&a.expandOnHover?Number(a.railWidth):B.value;return A.value?J*x.value:J}),re=$(()=>["top","bottom"].includes(a.location)?0:B.value),{layoutItemStyles:de,layoutItemScrimStyles:ke}=Vt({id:a.name,order:$(()=>parseInt(a.order,10)),position:E,layoutSize:ae,elementSize:re,active:$(()=>S.value||A.value),disableTransitions:$(()=>A.value),absolute:$(()=>a.absolute||T.value&&typeof _e.value!="string")}),{isStuck:_e,stickyStyles:Pe}=Rl({rootEl:U,isSticky:T,layoutItemStyles:de}),Le=xe($(()=>typeof a.scrim=="string"?a.scrim:null)),Ze=$(()=>({...A.value?{opacity:x.value*.2,transition:"none"}:void 0,...ke.value}));return ft({VList:{bgColor:"transparent"}}),pe(()=>{const J=n.image||a.image;return d(Y,null,[d(a.tag,X({ref:U,onMouseenter:L,onMouseleave:W,class:["v-navigation-drawer",`v-navigation-drawer--${E.value}`,{"v-navigation-drawer--expand-on-hover":a.expandOnHover,"v-navigation-drawer--floating":a.floating,"v-navigation-drawer--is-hovering":H.value,"v-navigation-drawer--rail":a.rail,"v-navigation-drawer--temporary":P.value,"v-navigation-drawer--persistent":k.value,"v-navigation-drawer--active":S.value,"v-navigation-drawer--sticky":T.value},r.value,p.value,h.value,y.value,m.value,g.value,a.class],style:[u.value,de.value,q.value,Pe.value,a.style,["top","bottom"].includes(E.value)?{height:"auto"}:{}]},R,s),{default:()=>{var Ae,We,Re;return[J&&d("div",{key:"image",class:"v-navigation-drawer__img"},[n.image?d(ol,{key:"image-defaults",disabled:!a.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:a.image}}},n.image):d(Ee,{key:"image-img",alt:"",cover:!0,height:"inherit",src:a.image},null)]),n.prepend&&d("div",{class:"v-navigation-drawer__prepend"},[(Ae=n.prepend)==null?void 0:Ae.call(n)]),d("div",{class:"v-navigation-drawer__content"},[(We=n.default)==null?void 0:We.call(n)]),n.append&&d("div",{class:"v-navigation-drawer__append"},[(Re=n.append)==null?void 0:Re.call(n)])]}}),d(Ra,{name:"fade-transition"},{default:()=>[P.value&&(A.value||S.value)&&!!a.scrim&&d("div",X({class:["v-navigation-drawer__scrim",Le.backgroundColorClasses.value],style:[Ze.value,Le.backgroundColorStyles.value],onClick:()=>{k.value||(S.value=!1)}},R),null)]})])}),{isStuck:_e}}}),ga=function(){const a=localStorage.getItem("frontend.settings.menu_items"),l=a?a.split(","):al,s=[];for(const o of l)o==="home"&&s.push({label:"home",icon:"mdi-home-outline",path:"/home",isLibraryNode:!1}),o==="search"&&s.push({label:"search",icon:"mdi-magnify",path:"/search",isLibraryNode:!1}),o==="artists"&&s.push({label:"artists",icon:"mdi-account-outline",path:"/artists",isLibraryNode:!0,hidden:t.libraryArtistsCount===0}),o==="albums"&&s.push({label:"albums",icon:"mdi-album",path:"/albums",isLibraryNode:!0,hidden:t.libraryAlbumsCount===0}),o==="tracks"&&s.push({label:"tracks",icon:"mdi-music-note",path:"/tracks",isLibraryNode:!0,hidden:t.libraryTracksCount===0}),o==="playlists"&&s.push({label:"playlists",icon:"mdi-playlist-play",path:"/playlists",isLibraryNode:!0,hidden:t.libraryPlaylistsCount===0}),o==="podcasts"&&s.push({label:"podcasts",icon:"mdi-podcast",path:"/podcasts",isLibraryNode:!0,hidden:t.libraryPodcastsCount===0}),o==="audiobooks"&&s.push({label:"audiobooks",icon:"mdi-book-play-outline",path:"/audiobooks",isLibraryNode:!0,hidden:t.libraryAudiobooksCount===0}),o==="radios"&&s.push({label:"radios",icon:"mdi-access-point",path:"/radios",isLibraryNode:!0,hidden:t.libraryRadiosCount===0}),o==="browse"&&s.push({label:"browse",icon:"mdi-folder-outline",path:"/browse",isLibraryNode:!0}),o==="settings"&&s.push({label:"settings.settings",icon:"mdi-cog-outline",path:"/settings",isLibraryNode:!0});return s},Yl=F({__name:"DrawerNavigation",setup(a){const l=z(!0),s=z(!1),o=ga();return(n,i)=>(c(),I(_a,{modelValue:l.value,"onUpdate:modelValue":i[1]||(i[1]=r=>l.value=r),app:"",rail:s.value,width:280},{default:f(()=>[d(ce,{style:{height:"55px"},active:!1},{prepend:f(()=>i[2]||(i[2]=[Q("img",{class:"logo_icon",size:"40",src:Wl},null,-1)])),title:f(()=>i[3]||(i[3]=[Q("div",{class:"logo_text"},"Music Assistant",-1)])),_:1}),d(Ye),d(Ve,{lines:"one",density:"compact",nav:""},{default:f(()=>[(c(!0),b(Y,null,ie(e(o).filter(r=>!r.hidden),r=>(c(),I(ce,{key:r.path,nav:"",density:"compact",height:15,title:n.$t(r.label),"prepend-icon":r.icon,to:r.path},null,8,["title","prepend-icon","to"]))),128))]),_:1}),d(le,{nav:"",height:15,width:40,style:{position:"relative",float:"right",right:"10px",top:"20px"},ripple:!1,icon:s.value?"mdi-chevron-right":"mdi-chevron-left",title:n.$t("tooltip.show_menu"),onClick:i[0]||(i[0]=r=>s.value=!s.value)},null,8,["icon","title"])]),_:1},8,["modelValue","rail"]))}}),Xl=oe(Yl,[["__scopeId","data-v-8c634824"]]),Gl={class:"media-thumb"},jl={style:{"margin-left":"-10px","padding-right":"5px"}},Kl=F({__name:"AddToPlaylistDialog",setup(a){const l=z(!1),s=z([]),o=z([]),n=z(),i=z([]);qe(()=>{Ce.on("playlistdialog",async m=>{l.value=!0,i.value=m.items,n.value=m.parentItem,await r()}),je(()=>{Ce.off("playlistdialog")})});const r=async function(){s.value=[],o.value=[];const m=await w.getLibraryPlaylists(),y=i.value.length?i.value[0]:void 0;for(const v of m){if(!v.provider_mappings.filter(_=>_.available).length||!v.is_editable||n.value&&n.value.media_type===fe.PLAYLIST&&v.item_id===n.value.item_id)continue;const g=w.providers[v.provider_mappings[0].provider_instance];g&&(g.domain=="builtin"||g.is_streaming_provider||y!=null&&y.provider_mappings.filter(_=>_.provider_instance==g.instance_id).length)&&s.value.push(v)}for(const v of Object.values(w.providers))v.supported_features.includes(Dt.PLAYLIST_CREATE)&&v.supported_features.includes(Dt.PLAYLIST_TRACKS_EDIT)&&(v.domain=="builtin"||v.is_streaming_provider||y!=null&&y.provider_mappings.filter(g=>g.provider_instance==v.instance_id).length)&&o.value.push(v.instance_id)},h=async function(m){if(i.value[0].media_type===fe.TRACK)w.addPlaylistTracks(m.item_id,i.value.map(v=>v.uri));else if(i.value[0].media_type===fe.ALBUM){var y=await w.getAlbumTracks(i.value[0].item_id,i.value[0].provider);w.addPlaylistTracks(m.item_id,y.map(v=>v.uri))}u(),t.activeAlert={type:Ha.INFO,message:Ue("background_task_added"),persistent:!1}},p=async function(m){const y=prompt(Ue("new_playlist_name"));if(!y)return;const v=await w.createPlaylist(y,m);h(v)},u=function(){l.value=!1};return(m,y)=>(c(),I(fa,{modelValue:l.value,"onUpdate:modelValue":[y[0]||(y[0]=v=>l.value=v),y[1]||(y[1]=v=>{e(t).dialogActive=v})],fullscreen:"",transition:"dialog-bottom-transition"},{default:f(()=>[d(Xe,null,{default:f(()=>[d(Ql,{icon:"mdi-playlist-plus",title:e(Ue)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:u}]},null,8,["title","menu-items"]),d(Ye),y[4]||(y[4]=Q("br",null,null,-1)),d(Ve,null,{default:f(()=>[(c(!0),b(Y,null,ie(s.value,v=>(c(),b("div",{key:v.item_id},[d(ce,{onClick:g=>h(v)},{prepend:f(()=>[Q("div",Gl,[d(Me,{item:v,size:50},null,8,["item"])])]),title:f(()=>[Q("div",null,C(v.name),1)]),subtitle:f(()=>[Q("div",null,C(v.owner),1)]),append:f(()=>[v.provider_mappings?(c(),I(nt,{key:0,domain:v.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):V("",!0)]),_:2},1032,["onClick"])]))),128)),y[2]||(y[2]=Q("div",{style:{height:"30px"}},null,-1)),d(Ye),y[3]||(y[3]=Q("div",{style:{height:"30px"}},null,-1)),(c(!0),b(Y,null,ie(o.value,v=>(c(),b("div",{key:v},[d(ce,{onClick:g=>p(v)},{prepend:f(()=>[Q("div",jl,[d(nt,{domain:e(w).providers[v].domain,size:50},null,8,["domain"])])]),title:f(()=>[Q("div",null,C(e(Ue)("new_playlist")),1)]),subtitle:f(()=>[Q("div",null,C(e(Ue)("create_playlist_on",[e(w).providers[v].name])),1)]),append:f(()=>[d(nt,{domain:e(w).providers[v].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Zl=oe(Kl,[["__scopeId","data-v-a7c53a67"]]),Jl=oe($l,[["__scopeId","data-v-3a9a25e3"]]),ei=me({scrollable:Boolean,...Ie(),...sl(),...ze({tag:"main"})},"VMain"),ti=ve()({name:"VMain",props:ei(),setup(a,l){let{slots:s}=l;const{dimensionStyles:o}=nl(a),{mainStyles:n}=Cl(),{ssrBootStyles:i}=ot();return pe(()=>d(a.tag,{class:["v-main",{"v-main--scrollable":a.scrollable},a.class],style:[n.value,i.value,o.value,a.style]},{default:()=>{var r,h;return[a.scrollable?d("div",{class:"v-main__scroller"},[(r=s.default)==null?void 0:r.call(s)]):(h=s.default)==null?void 0:h.call(s)]}})),{}}}),Kt=F({__name:"View",setup(a){return(l,s)=>{const o=Da("router-view");return c(),I(ti,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:f(()=>{var n,i,r;return[e(t).navigationMenuStyle=="vertical"&&!e(t).frameless?(c(),I(Xl,{key:0})):V("",!0),d(o,null,{default:f(({Component:h})=>[(c(),I(Ua(h)))]),_:1}),d(Zl),d(Jl),d(Tl,{"model-value":e(t).activeAlert!==void 0,color:((n=e(t).activeAlert)==null?void 0:n.type)||"grey",text:(i=e(t).activeAlert)==null?void 0:i.message,"close-on-content-click":"",position:"sticky",timeout:(r=e(t).activeAlert)!=null&&r.persistent?-1:5e3,"z-index":"999999",style:{"z-index":"999999"},"onUpdate:modelValue":s[0]||(s[0]=()=>e(t).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]}),_:1})}}}),ai=me({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:a=>!a||["horizontal","shift"].includes(a)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...ht(),...Ie(),...da(),..._t(),...gt(),...Ct({name:"bottom-navigation"}),...ze({tag:"header"}),...rl({selectedClass:"v-btn--selected"}),...Ke()},"VBottomNavigation"),li=ve()({name:"VBottomNavigation",props:ai(),emits:{"update:active":a=>!0,"update:modelValue":a=>!0},setup(a,l){let{slots:s}=l;const{themeClasses:o}=la(),{borderClasses:n}=bt(a),{backgroundColorClasses:i,backgroundColorStyles:r}=xe(ee(a,"bgColor")),{densityClasses:h}=ca(a),{elevationClasses:p}=wt(a),{roundedClasses:u}=kt(a),{ssrBootStyles:m}=ot(),y=$(()=>Number(a.height)-(a.density==="comfortable"?8:0)-(a.density==="compact"?16:0)),v=lt(a,"active",a.active),{layoutItemStyles:g}=Vt({id:a.name,order:$(()=>parseInt(a.order,10)),position:$(()=>"bottom"),layoutSize:$(()=>v.value?y.value:0),elementSize:y,active:v,absolute:ee(a,"absolute")});return ma(a,ul),ft({VBtn:{baseColor:ee(a,"baseColor"),color:ee(a,"color"),density:ee(a,"density"),stacked:$(()=>a.mode!=="horizontal"),variant:"text"}},{scoped:!0}),pe(()=>d(a.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":v.value,"v-bottom-navigation--grow":a.grow,"v-bottom-navigation--shift":a.mode==="shift"},o.value,i.value,n.value,h.value,p.value,u.value,a.class],style:[r.value,g.value,{height:Be(y.value)},m.value,a.style]},{default:()=>[s.default&&d("div",{class:"v-bottom-navigation__content"},[s.default()])]})),{}}}),ii={class:"menuButton"},oi={class:"menuButton"},si={class:"menuButton"},ni=F({__name:"BottomNavigation",props:{height:{}},setup(a){const l=ga(),s=z(!1);return(o,n)=>(c(),I(li,{height:o.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"},role:"navigation"},{default:f(()=>[e(G)("tablet")?(c(!0),b(Y,{key:0},ie(e(l),i=>(c(),I(we,{key:i.label,to:i.path,"aria-label":o.$t(i.label),tabindex:"0"},{default:f(()=>[d(N,{size:"xx-large"},{default:f(()=>[D(C(i.icon),1)]),_:2},1024),Q("span",ii,C(o.$t(i.label)),1)]),_:2},1032,["to","aria-label"]))),128)):(c(),b(Y,{key:1},[(c(!0),b(Y,null,ie(e(l).filter(i=>!i.isLibraryNode),i=>(c(),I(we,{key:i.label,to:i.path,"aria-label":o.$t(i.label),tabindex:"0"},{default:f(()=>[d(N,{size:"xx-large"},{default:f(()=>[D(C(i.icon),1)]),_:2},1024),Q("span",oi,C(o.$t(i.label)),1)]),_:2},1032,["to","aria-label"]))),128)),d(Pt,null,{activator:f(({props:i})=>[d(we,X(i,{"aria-haspopup":"true","aria-expanded":s.value.toString(),"aria-label":"Open library menu"}),{default:f(()=>[d(N,{size:"xx-large"},{default:f(()=>n[0]||(n[0]=[D("mdi-bookshelf")])),_:1}),Q("span",si,C(o.$t("library")),1)]),_:2},1040,["aria-expanded"])]),default:f(()=>[d(Ve,null,{default:f(()=>[(c(!0),b(Y,null,ie(e(l).filter(i=>i.isLibraryNode),i=>(c(),I(ce,{key:i.label,title:o.$t(i.label),"prepend-icon":i.icon,to:i.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})],64))]),_:1},8,["height"]))}}),ri=oe(ni,[["__scopeId","data-v-5c8e33d1"]]),ui={style:{width:"auto"}},di={key:0,style:{width:"100%"}},ci=["onClick"],mi={key:0,class:"time-text-row"},vi={class:"text-caption time-text-right"},pi=F({__name:"PlayerTimeline",props:{showLabels:{type:Boolean,default:!1}},setup(a){const l=z(!1),s=z(!0),o=z(!1),n=z(0),i=z(0),r=$(()=>t.curQueueItem?l.value?`-${Je(t.curQueueItem.duration-p.value)}`:`${Je(p.value)}`:"0:00"),h=$(()=>{var _;if(!t.curQueueItem||!t.curQueueItem.duration||((_=t.curQueueItem.media_item)==null?void 0:_.media_type)==fe.RADIO)return"";const g=t.curQueueItem.duration;return Je(g)}),p=$(()=>o.value?(i.value=n.value,n.value):t.activePlayerQueue?t.activePlayerQueue.elapsed_time:0),u=$(()=>{var _,S,q;const g={};return(q=(S=(_=t.curQueueItem)==null?void 0:_.media_item)==null?void 0:S.metadata)!=null&&q.chapters&&t.curQueueItem.media_item.metadata.chapters.forEach(R=>{g[R.start]=R.name}),g});te(p,g=>{o.value||(n.value=g)});const m=function(){o.value=!0},y=()=>{o.value=!1,!o.value&&t.activePlayer&&w.playerCommandSeek(t.activePlayer.player_id,Math.round(i.value))},v=function(g){var _,S,q;if((q=(S=(_=t.curQueueItem)==null?void 0:_.media_item)==null?void 0:S.metadata)!=null&&q.chapters){for(const R of t.curQueueItem.media_item.metadata.chapters)if(R.start==g){w.playMedia(t.curQueueItem.media_item.uri,void 0,void 0,R.position.toString());return}}};return(g,_)=>{var S;return c(),b("div",ui,[e(t).activePlayerQueue?(c(),b("div",di,[d(ha,{modelValue:n.value,"onUpdate:modelValue":_[0]||(_[0]=q=>n.value=q),disabled:!e(t).curQueueItem||!e(t).curQueueItem.media_item||!e(t).curQueueItem.duration||e(t).curQueueItem.media_item.media_type==e(fe).RADIO,style:{width:"100%"},min:0,max:(S=e(t).curQueueItem)==null?void 0:S.duration,"hide-details":"","track-size":2,"thumb-size":s.value?0:10,"show-ticks":u.value?"always":!1,ticks:u.value,"tick-size":"4",onTouchstart:_[1]||(_[1]=q=>s.value=!1),onTouchend:_[2]||(_[2]=q=>s.value=!0),onMouseenter:_[3]||(_[3]=q=>s.value=!1),onMouseleave:_[4]||(_[4]=q=>s.value=!0),onStart:m,onEnd:y},{"tick-label":f(({tick:q})=>[g.showLabels&&!s.value&&Object.values(u.value).length<6?(c(),b("a",{key:0,class:"text-caption",onClick:R=>v(q.value)},C(q.label),9,ci)):V("",!0)]),_:1},8,["modelValue","disabled","max","thumb-size","show-ticks","ticks"]),g.showLabels?(c(),b("div",mi,[Q("div",{class:"text-caption time-text-left",onClick:_[5]||(_[5]=q=>l.value?l.value=!1:l.value=!0)},C(r.value),1),Q("div",vi,C(h.value),1)])):V("",!0)])):V("",!0)])}}}),ba=oe(pi,[["__scopeId","data-v-50cb7560"]]),yi=F({__name:"ResponsiveIcon",props:{width:{default:void 0},height:{default:void 0},staticWidth:{default:void 0},staticHeight:{default:void 0},maxWidth:{default:void 0},maxHeight:{default:void 0},minWidth:{default:"24px"},minHeight:{default:"24px"},icon:{default:void 0},type:{default:"icon"},color:{default:void 0},disabled:{type:Boolean},badge:{type:Boolean,default:void 0}},emits:["click"],setup(a,{emit:l}){const s=()=>{if(o.value){const i=o.value.offsetWidth,r=o.value.offsetHeight,h=Math.min(i,r);n.value.$el.style.fontSize=`${h}px`}},o=z(),n=z();return qe(()=>{s(),window.addEventListener("resize",s)}),je(()=>{window.removeEventListener("resize",s)}),(i,r)=>(c(),b("div",{ref_key:"responsiveIconHolder",ref:o,class:et([i.type=="btn"&&!i.disabled?"responsive-icon-holder-btn":"responsive-icon-holder"]),style:j({width:i.staticWidth?i.staticWidth:i.width,height:i.staticWidth?i.staticWidth:i.height,maxHeight:i.staticHeight?i.staticHeight:i.maxHeight,maxWidth:i.staticWidth?i.staticWidth:i.maxWidth,minHeight:i.staticHeight?i.staticHeight:i.minHeight,minWidth:i.staticWidth?i.staticWidth:i.minWidth}),onClick:r[0]||(r[0]=h=>i.disabled?h.preventDefault():i.$emit("click",h))},[d(ct,{"model-value":i.badge==!0,color:"error",dot:""},{default:f(()=>[i.type==="icon"?(c(),I(N,{key:0,ref_key:"responsiveIcon",ref:n,class:"responsive-icon",color:i.color?i.color:"",icon:i.icon?i.icon:"mdi-check",width:i.staticWidth?i.staticWidth:null,height:i.staticHeight?i.staticHeight:null,disabled:i.disabled},ut({_:2},[ie(i.$slots,(h,p)=>({name:p,fn:f(()=>[dt(i.$slots,p,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):i.type==="btn"?(c(),I(N,{key:1,ref_key:"responsiveIcon",ref:n,class:"responsive-icon",style:{cursor:"pointer"},color:i.color?i.color:"",icon:i.icon?i.icon:"mdi-check",width:i.staticWidth?i.staticWidth:null,height:i.staticHeight?i.staticHeight:null,disabled:i.disabled},ut({_:2},[ie(i.$slots,(h,p)=>({name:p,fn:f(()=>[dt(i.$slots,p,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):V("",!0)]),_:3},8,["model-value"])],6))}}),$e=oe(yi,[["__scopeId","data-v-2c9253ab"]]),wa=F({__name:"RepeatBtn",props:{playerQueue:{},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(l,s)=>{var o,n;return l.isVisible&&l.playerQueue?(c(),I($e,X({key:0},l.icon,{disabled:!l.playerQueue.active||l.playerQueue.items==0,color:e(Te)((o=l.icon)==null?void 0:o.color,[[l.playerQueue.repeat_mode==e(Z).OFF,null],[l.playerQueue.repeat_mode==e(Z).ALL,"primary"],[l.playerQueue.repeat_mode==e(Z).ONE,"primary"]]),icon:e(Te)((n=l.icon)==null?void 0:n.icon,[[l.playerQueue.repeat_mode==e(Z).OFF,"mdi-repeat-off"],[l.playerQueue.repeat_mode==e(Z).ALL,"mdi-repeat"],[l.playerQueue.repeat_mode==e(Z).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),type:"btn",onClick:s[0]||(s[0]=i=>e(w).queueCommandRepeat(l.playerQueue.queue_id||"",e(Te)(null,[[l.playerQueue.repeat_mode==e(Z).OFF,e(Z).ONE],[l.playerQueue.repeat_mode==e(Z).ALL,e(Z).OFF],[l.playerQueue.repeat_mode==e(Z).ONE,e(Z).ALL]])))}),null,16,["disabled","color","icon"])):V("",!0)}}}),ka=F({__name:"ShuffleBtn",props:{playerQueue:{},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(l,s)=>{var o,n;return l.isVisible&&l.playerQueue?(c(),I($e,X({key:0},l.icon,{disabled:!l.playerQueue.active||l.playerQueue.items==0,color:e(Te)((o=l.icon)==null?void 0:o.color,[[l.playerQueue.shuffle_enabled,"primary",""]]),icon:e(Te)((n=l.icon)==null?void 0:n.icon,[[l.playerQueue.shuffle_enabled,"mdi-shuffle"],[l.playerQueue.shuffle_enabled==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),type:"btn",onClick:s[0]||(s[0]=i=>e(w).queueCommandShuffle(l.playerQueue.queue_id,!l.playerQueue.shuffle_enabled))}),null,16,["disabled","color","icon"])):V("",!0)}}}),Pa=F({__name:"PlayBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0},iconStyle:{default:"circle"}},setup(a){const l=a,s=$(()=>l.playerQueue?l.playerQueue.items>0:!1),o=$(()=>{var i;return!(!l.player||(i=l.playerQueue)!=null&&i.active||!l.player.current_media)}),n=$(()=>{var i;return((i=l.player)==null?void 0:i.state)==be.PLAYING?"mdi-pause":"mdi-play"});return(i,r)=>i.isVisible&&i.player?(c(),I($e,X({key:0},i.icon,{disabled:!s.value&&!o.value,icon:i.iconStyle?`${n.value}-${i.iconStyle}`:n.value,type:"btn",onClick:r[0]||(r[0]=h=>e(w).playerCommandPlayPause(i.player.player_id))}),null,16,["disabled","icon"])):V("",!0)}}),Ca=F({__name:"PreviousBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a,s=$(()=>{var n,i;return!((n=l.playerQueue)!=null&&n.active)||!((i=l.playerQueue)!=null&&i.items)||!l.playerQueue.current_index?!1:l.playerQueue.current_index>0}),o=$(()=>{var n;return!l.player||(n=l.playerQueue)!=null&&n.active||!l.player.current_media?!1:l.player.supported_features.includes(ne.NEXT_PREVIOUS)});return(n,i)=>n.isVisible&&n.player?(c(),I($e,X({key:0},n.icon,{disabled:!s.value&&!o.value,icon:"mdi-skip-previous-outline",type:"btn",onClick:i[0]||(i[0]=r=>e(w).playerCommandPrevious(n.player.player_id))}),null,16,["disabled"])):V("",!0)}}),Va=F({__name:"NextBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a,s=$(()=>{var n;return(n=l.playerQueue)!=null&&n.active?(l.playerQueue.current_index||0)<l.playerQueue.items-1:!1}),o=$(()=>{var n;return!l.player||(n=l.playerQueue)!=null&&n.active||!l.player.current_media?!1:l.player.supported_features.includes(ne.NEXT_PREVIOUS)});return(n,i)=>n.isVisible&&n.player?(c(),I($e,X({key:0},n.icon,{disabled:!s.value&&!o.value,icon:"mdi-skip-next-outline",type:"btn",onClick:i[0]||(i[0]=r=>e(w).playerCommandNext(n.player.player_id))}),null,16,["disabled"])):V("",!0)}}),fi={key:0,class:"player-controls"},hi={key:0,class:"player-controls-elements"},_i={key:1,class:"player-controls-elements"},gi={key:2},bi={key:3,class:"player-controls-elements"},wi={key:4,class:"player-controls-elements"},Zt=F({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(a){return(l,s)=>{var o,n,i,r,h;return l.visibleComponents?(c(),b("div",fi,[l.visibleComponents&&((o=l.visibleComponents.shuffle)!=null&&o.isVisible)?(c(),b("div",hi,[d(ka,{"player-queue":e(t).activePlayerQueue,class:"media-controls-item",icon:l.visibleComponents.shuffle.icon},null,8,["player-queue","icon"])])):V("",!0),l.visibleComponents&&((n=l.visibleComponents.previous)!=null&&n.isVisible)?(c(),b("div",_i,[d(Ca,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item",icon:l.visibleComponents.previous.icon},null,8,["player","player-queue","icon"])])):V("",!0),l.visibleComponents&&((i=l.visibleComponents.play)!=null&&i.isVisible)?(c(),b("div",gi,[d(Pa,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","icon-style":l.visibleComponents.play.withCircle?"circle":"",icon:l.visibleComponents.play.icon},null,8,["player","player-queue","icon-style","icon"])])):V("",!0),l.visibleComponents&&((r=l.visibleComponents.next)!=null&&r.isVisible)?(c(),b("div",bi,[d(Va,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,icon:l.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["player","player-queue","icon"])])):V("",!0),l.visibleComponents&&((h=l.visibleComponents.repeat)!=null&&h.isVisible)?(c(),b("div",wi,[d(wa,{"player-queue":e(t).activePlayerQueue,icon:l.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["player-queue","icon"])])):V("",!0)])):V("",!0)}}}),ki={props:{width:String,height:String,style:String,isPowered:Boolean,allowWheel:Boolean},emits:["update:model-value"],setup(a,l){const s=z(!0),o=$(()=>({class:"player-volume",hideDetails:!0,trackSize:2,thumbSize:s.value?0:10,step:2,elevation:0,style:`width: ${a.width}; height:${a.height}; display: inline-grid; ${a.style}`,disabled:!a.isPowered})),n=$(()=>({...o.value,...l}));return{isThumbHidden:s,playerVolumeProps:n,onWheel:({deltaY:r})=>{if(!a.allowWheel)return;const h=n.value.step,p=l.attrs["model-value"],u=r<0?h:-h;l.emit("update:model-value",p+u)}}}};function Pi(a,l,s,o,n,i){return c(),I(ha,X(o.playerVolumeProps,{onTouchstart:l[0]||(l[0]=r=>o.isThumbHidden=!1),onTouchend:l[1]||(l[1]=r=>o.isThumbHidden=!0),onMouseenter:l[2]||(l[2]=r=>o.isThumbHidden=!1),onMouseleave:l[3]||(l[3]=r=>o.isThumbHidden=!0),onWheel:se(o.onWheel,["prevent"]),onEnd:l[4]||(l[4]=r=>a.$emit("update:model-value",r))}),ut({_:2},[ie(a.$slots,(r,h)=>({name:h,fn:f(()=>[dt(a.$slots,h,{},void 0,!0)])}))]),1040,["onWheel"])}const Ge=oe(ki,[["render",Pi],["__scopeId","data-v-e5af1148"]]),Ia=F({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=function(){t.showFullscreenPlayer&&t.showQueueItems?t.showQueueItems=!1:t.showFullscreenPlayer&&!t.showQueueItems?t.showQueueItems=!0:(t.showQueueItems=!0,t.showFullscreenPlayer=!0)};return(s,o)=>{var n;return s.isVisible?(c(),I($e,X({key:0},s.icon,{disabled:!e(t).activePlayerId||e(t).showFullscreenPlayer&&!e(t).curQueueItem&&!e(t).showQueueItems,icon:"mdi-playlist-play",color:e(Te)((n=s.icon)==null?void 0:n.color,[[e(t).showFullscreenPlayer&&e(t).showQueueItems,"primary",""]]),type:"btn",onClick:l}),null,16,["disabled","color"])):V("",!0)}}}),$a=F({__name:"SpeakerBtn",props:{color:{}},setup(a){return(l,s)=>(c(),I(le,{variant:"icon",ripple:!1,icon:"",onClick:s[0]||(s[0]=o=>e(t).showPlayersMenu=!0)},{default:f(()=>{var o;return[d(N,{color:l.color?l.color:"",size:24,icon:(o=e(t).activePlayer)!=null&&o.group_childs.length?"mdi-speaker-multiple":"mdi-speaker"},null,8,["color","icon"])]}),_:1}))}}),Sa=(a,l)=>{const s=[{label:a.powered?"power_off_player":"power_on_player",labelArgs:[],action:()=>{w.playerCommandPowerToggle(a.player_id)},icon:"mdi-power"}];(a==null?void 0:a.state)=="playing"&&s.push({label:"stop_playback",labelArgs:[],action:()=>{w.playerCommandStop(a.player_id)},icon:"mdi-stop"});const o=Object.values(w.players).filter(n=>n.player_id!=a.player_id&&n.available&&n.enabled&&(n.can_group_with.includes(a.provider)||n.can_group_with.includes(a.player_id))&&n.supported_features.includes(ne.SET_MEMBERS)&&!n.synced_to);return a.supported_features.includes(ne.SET_MEMBERS)&&!a.synced_to&&a.type==he.PLAYER&&a.group_childs.length==0&&o.length>0&&s.push({label:"sync_player_with",labelArgs:[],icon:"mdi-link-variant",subItems:o.map(n=>({label:n.display_name,labelArgs:[],action:()=>{w.playerCommandGroup(a.player_id,n.player_id)}})).sort((n,i)=>{var r;return n.label.toUpperCase()>((r=i.label)==null?void 0:r.toUpperCase())?1:-1})}),l&&s.push({label:l.shuffle_enabled?"shuffle_disable":"shuffle_enable",labelArgs:[],action:()=>{w.queueCommandShuffleToggle(l.queue_id)},icon:l.shuffle_enabled?"mdi-shuffle-disabled":"mdi-shuffle"}),l&&s.push({label:"select_repeat_mode",labelArgs:[],subItems:[{label:"repeat_mode.off",labelArgs:[],action:()=>{w.queueCommandRepeat(l.queue_id,Z.OFF)},selected:l.repeat_mode==Z.OFF},{label:"repeat_mode.all",labelArgs:[],action:()=>{w.queueCommandRepeat(l.queue_id,Z.ALL)},selected:l.repeat_mode==Z.ALL},{label:"repeat_mode.one",labelArgs:[],action:()=>{w.queueCommandRepeat(l.queue_id,Z.ONE)},selected:l.repeat_mode==Z.ONE}],icon:"mdi-repeat"}),l!=null&&l.items&&s.push({label:"transfer_queue",icon:"mdi-swap-horizontal",subItems:Object.values(w.players).filter(n=>n.player_id!=l.queue_id&&n.player_id!=a.player_id&&n.available&&n.enabled&&!n.synced_to).map(n=>({label:n.display_name,labelArgs:[],action:()=>{w.queueCommandTransfer(l.queue_id,n.player_id),t.activePlayerId=n.player_id}})).sort((n,i)=>{var r;return n.label.toUpperCase()>((r=i.label)==null?void 0:r.toUpperCase())?1:-1})}),l!=null&&l.items&&s.push({label:"queue_clear",labelArgs:[],action:()=>{w.queueCommandClear(l.queue_id)},icon:"mdi-cancel"}),l&&"dont_stop_the_music_enabled"in l&&s.push({label:l.dont_stop_the_music_enabled?"dont_stop_the_music_disable":"dont_stop_the_music_enable",labelArgs:[],action:()=>{w.queueCommandDontStopTheMusicToggle(l.queue_id)},icon:"mdi-all-inclusive"}),s.push({label:"open_player_settings",labelArgs:[],action:()=>{t.showFullscreenPlayer=!1,t.showPlayersMenu=!1,tt.push(`/settings/editplayer/${a.player_id}`)},icon:"mdi-cog-outline"}),a.type!==he.GROUP&&s.push({label:"open_dsp_settings",labelArgs:[],action:()=>{t.showFullscreenPlayer=!1,t.showPlayersMenu=!1,tt.push(`/settings/editplayer/${a.player_id}/dsp`)},icon:"mdi-equalizer"}),s},It=Symbol.for("vuetify:v-tabs"),Ci=me({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...ia(dl({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),vt=ve()({name:"VTab",props:Ci(),setup(a,l){let{slots:s,attrs:o}=l;const{textColorClasses:n,textColorStyles:i}=cl(a,"sliderColor"),r=z(),h=z(),p=$(()=>a.direction==="horizontal"),u=$(()=>{var y,v;return((v=(y=r.value)==null?void 0:y.group)==null?void 0:v.isSelected.value)??!1});function m(y){var g,_;let{value:v}=y;if(v){const S=(_=(g=r.value)==null?void 0:g.$el.parentElement)==null?void 0:_.querySelector(".v-tab--selected .v-tab__slider"),q=h.value;if(!S||!q)return;const R=getComputedStyle(S).color,U=S.getBoundingClientRect(),H=q.getBoundingClientRect(),L=p.value?"x":"y",W=p.value?"X":"Y",B=p.value?"right":"bottom",E=p.value?"width":"height",k=U[L],P=H[L],T=k>P?U[B]-H[B]:U[L]-H[L],A=Math.sign(T)>0?p.value?"right":"bottom":Math.sign(T)<0?p.value?"left":"top":"center",ae=(Math.abs(T)+(Math.sign(T)<0?U[E]:H[E]))/Math.max(U[E],H[E])||0,re=U[E]/H[E]||0,de=1.5;bl(q,{backgroundColor:[R,"currentcolor"],transform:[`translate${W}(${T}px) scale${W}(${re})`,`translate${W}(${T/de}px) scale${W}(${(ae-1)/de+1})`,"none"],transformOrigin:Array(3).fill(A)},{duration:225,easing:wl})}}return pe(()=>{const y=we.filterProps(a);return d(we,X({symbol:It,ref:r,class:["v-tab",a.class],style:a.style,tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1},y,o,{block:a.fixed,maxWidth:a.fixed?300:void 0,"onGroup:selected":m}),{...s,default:()=>{var v;return d(Y,null,[((v=s.default)==null?void 0:v.call(s))??a.text,!a.hideSlider&&d("div",{ref:h,class:["v-tab__slider",n.value],style:i.value},null)])}})}),gl({},r)}}),Vi=a=>{const{touchstartX:l,touchendX:s,touchstartY:o,touchendY:n}=a,i=.5,r=16;a.offsetX=s-l,a.offsetY=n-o,Math.abs(a.offsetY)<i*Math.abs(a.offsetX)&&(a.left&&s<l-r&&a.left(a),a.right&&s>l+r&&a.right(a)),Math.abs(a.offsetX)<i*Math.abs(a.offsetY)&&(a.up&&n<o-r&&a.up(a),a.down&&n>o+r&&a.down(a))};function Ii(a,l){var o;const s=a.changedTouches[0];l.touchstartX=s.clientX,l.touchstartY=s.clientY,(o=l.start)==null||o.call(l,{originalEvent:a,...l})}function $i(a,l){var o;const s=a.changedTouches[0];l.touchendX=s.clientX,l.touchendY=s.clientY,(o=l.end)==null||o.call(l,{originalEvent:a,...l}),Vi(l)}function Si(a,l){var o;const s=a.changedTouches[0];l.touchmoveX=s.clientX,l.touchmoveY=s.clientY,(o=l.move)==null||o.call(l,{originalEvent:a,...l})}function Qi(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const l={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:a.left,right:a.right,up:a.up,down:a.down,start:a.start,move:a.move,end:a.end};return{touchstart:s=>Ii(s,l),touchend:s=>$i(s,l),touchmove:s=>Si(s,l)}}function Ti(a,l){var h;const s=l.value,o=s!=null&&s.parent?a.parentElement:a,n=(s==null?void 0:s.options)??{passive:!0},i=(h=l.instance)==null?void 0:h.$.uid;if(!o||!i)return;const r=Qi(l.value);o._touchHandlers=o._touchHandlers??Object.create(null),o._touchHandlers[i]=r,oa(r).forEach(p=>{o.addEventListener(p,r[p],n)})}function Mi(a,l){var i,r;const s=(i=l.value)!=null&&i.parent?a.parentElement:a,o=(r=l.instance)==null?void 0:r.$.uid;if(!(s!=null&&s._touchHandlers)||!o)return;const n=s._touchHandlers[o];oa(n).forEach(h=>{s.removeEventListener(h,n[h])}),delete s._touchHandlers[o]}const Qa={mounted:Ti,unmounted:Mi},Ta=Symbol.for("vuetify:v-window"),Ma=Symbol.for("vuetify:v-window-group"),Ba=me({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:a=>typeof a=="boolean"||a==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Ie(),...ze(),...Ke()},"VWindow"),Jt=ve()({name:"VWindow",directives:{Touch:Qa},props:Ba(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:s}=l;const{themeClasses:o}=at(a),{isRtl:n}=pt(),{t:i}=Na(),r=ma(a,Ma),h=z(),p=$(()=>n.value?!a.reverse:a.reverse),u=ye(!1),m=$(()=>{const L=a.direction==="vertical"?"y":"x",B=(p.value?!u.value:u.value)?"-reverse":"";return`v-window-${L}${B}-transition`}),y=ye(0),v=z(void 0),g=$(()=>r.items.value.findIndex(L=>r.selected.value.includes(L.id)));te(g,(L,W)=>{const B=r.items.value.length,E=B-1;B<=2?u.value=L<W:L===E&&W===0?u.value=!0:L===0&&W===E?u.value=!1:u.value=L<W}),Fa(Ta,{transition:m,isReversed:u,transitionCount:y,transitionHeight:v,rootRef:h});const _=$(()=>a.continuous||g.value!==0),S=$(()=>a.continuous||g.value!==r.items.value.length-1);function q(){_.value&&r.prev()}function R(){S.value&&r.next()}const U=$(()=>{const L=[],W={icon:n.value?a.nextIcon:a.prevIcon,class:`v-window__${p.value?"right":"left"}`,onClick:r.prev,"aria-label":i("$vuetify.carousel.prev")};L.push(_.value?s.prev?s.prev({props:W}):d(we,W,null):d("div",null,null));const B={icon:n.value?a.prevIcon:a.nextIcon,class:`v-window__${p.value?"left":"right"}`,onClick:r.next,"aria-label":i("$vuetify.carousel.next")};return L.push(S.value?s.next?s.next({props:B}):d(we,B,null):d("div",null,null)),L}),H=$(()=>a.touch===!1?a.touch:{...{left:()=>{p.value?q():R()},right:()=>{p.value?R():q()},start:W=>{let{originalEvent:B}=W;B.stopPropagation()}},...a.touch===!0?{}:a.touch});return pe(()=>sa(d(a.tag,{ref:h,class:["v-window",{"v-window--show-arrows-on-hover":a.showArrows==="hover"},o.value,a.class],style:a.style},{default:()=>{var L,W;return[d("div",{class:"v-window__container",style:{height:v.value}},[(L=s.default)==null?void 0:L.call(s,{group:r}),a.showArrows!==!1&&d("div",{class:"v-window__controls"},[U.value])]),(W=s.additional)==null?void 0:W.call(s,{group:r})]}}),[[Oa("touch"),H.value]])),{group:r}}}),Bi=me({...ia(Ba(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Ei=ve()({name:"VTabsWindow",props:Bi(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:s}=l;const o=na(It,null),n=lt(a,"modelValue"),i=$({get(){var r;return n.value!=null||!o?n.value:(r=o.items.value.find(h=>o.selected.value.includes(h.id)))==null?void 0:r.value},set(r){n.value=r}});return pe(()=>{const r=Jt.filterProps(a);return d(Jt,X({_as:"VTabsWindow"},r,{modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,class:["v-tabs-window",a.class],style:a.style,mandatory:!1,touch:!1}),s)}),{}}}),Ea=me({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Ie(),...ml(),...kl()},"VWindowItem"),ea=ve()({name:"VWindowItem",directives:{Touch:Qa},props:Ea(),emits:{"group:selected":a=>!0},setup(a,l){let{slots:s}=l;const o=na(Ta),n=vl(a,Ma),{isBooted:i}=ot();if(!o||!n)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const r=ye(!1),h=$(()=>i.value&&(o.isReversed.value?a.reverseTransition!==!1:a.transition!==!1));function p(){!r.value||!o||(r.value=!1,o.transitionCount.value>0&&(o.transitionCount.value-=1,o.transitionCount.value===0&&(o.transitionHeight.value=void 0)))}function u(){var _;r.value||!o||(r.value=!0,o.transitionCount.value===0&&(o.transitionHeight.value=Be((_=o.rootRef.value)==null?void 0:_.clientHeight)),o.transitionCount.value+=1)}function m(){p()}function y(_){r.value&&aa(()=>{!h.value||!r.value||!o||(o.transitionHeight.value=Be(_.clientHeight))})}const v=$(()=>{const _=o.isReversed.value?a.reverseTransition:a.transition;return h.value?{name:typeof _!="string"?o.transition.value:_,onBeforeEnter:u,onAfterEnter:p,onEnterCancelled:m,onBeforeLeave:u,onAfterLeave:p,onLeaveCancelled:m,onEnter:y}:!1}),{hasContent:g}=Pl(a,n.isSelected);return pe(()=>d(pl,{transition:v.value,disabled:!i.value},{default:()=>{var _;return[sa(d("div",{class:["v-window-item",n.selectedClass.value,a.class],style:a.style},[g.value&&((_=s.default)==null?void 0:_.call(s))]),[[xa,n.isSelected.value]])]}})),{groupItem:n}}}),qi=me({...Ea()},"VTabsWindowItem"),zi=ve()({name:"VTabsWindowItem",props:qi(),setup(a,l){let{slots:s}=l;return pe(()=>{const o=ea.filterProps(a);return d(ea,X({_as:"VTabsWindowItem"},o,{class:["v-tabs-window-item",a.class],style:a.style}),s)}),{}}});function Li(a){return a?a.map(l=>Ya(l)?l:{text:l,value:l}):[]}const Ai=me({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...El({mandatory:"force",selectedClass:"v-tab-item--selected"}),...da(),...ze()},"VTabs"),Wi=ve()({name:"VTabs",props:Ai(),emits:{"update:modelValue":a=>!0},setup(a,l){let{attrs:s,slots:o}=l;const n=lt(a,"modelValue"),i=$(()=>Li(a.items)),{densityClasses:r}=ca(a),{backgroundColorClasses:h,backgroundColorStyles:p}=xe(ee(a,"bgColor")),{scopeId:u}=va();return ft({VTab:{color:ee(a,"color"),direction:ee(a,"direction"),stacked:ee(a,"stacked"),fixed:ee(a,"fixedTabs"),sliderColor:ee(a,"sliderColor"),hideSlider:ee(a,"hideSlider")}}),pe(()=>{const m=Ot.filterProps(a),y=!!(o.window||a.items.length>0);return d(Y,null,[d(Ot,X(m,{modelValue:n.value,"onUpdate:modelValue":v=>n.value=v,class:["v-tabs",`v-tabs--${a.direction}`,`v-tabs--align-tabs-${a.alignTabs}`,{"v-tabs--fixed-tabs":a.fixedTabs,"v-tabs--grow":a.grow,"v-tabs--stacked":a.stacked},r.value,h.value,a.class],style:[{"--v-tabs-height":Be(a.height)},p.value,a.style],role:"tablist",symbol:It},u,s),{default:()=>{var v;return[((v=o.default)==null?void 0:v.call(o))??i.value.map(g=>{var _;return((_=o.tab)==null?void 0:_.call(o,{item:g}))??d(vt,X(g,{key:g.text,value:g.value}),{default:o[`tab.${g.value}`]?()=>{var S;return(S=o[`tab.${g.value}`])==null?void 0:S.call(o,{item:g})}:void 0})})]}}),y&&d(Ei,X({modelValue:n.value,"onUpdate:modelValue":v=>n.value=v,key:"tabs-window"},u),{default:()=>{var v;return[i.value.map(g=>{var _;return((_=o.item)==null?void 0:_.call(o,{item:g}))??d(zi,{value:g.value},{default:()=>{var S;return(S=o[`item.${g.value}`])==null?void 0:S.call(o,{item:g})}})}),(v=o.window)==null?void 0:v.call(o)]}})])}),{}}}),Ri=["onClick"],Hi={class:"main"},Di={key:0,class:"main-media-details"},Ui={key:0,class:"main-media-details-image"},Ni={class:"main-media-details-track-info"},Fi={key:0},Oi={key:0},xi={key:0},Yi={style:{margin:"auto","padding-top":"20px"}},Xi={key:1,class:"main-queue-items"},Gi={class:"queue-items-scroll-box"},ji={class:"media-thumb listitem-media-thumb"},Ki={class:"d-flex"},Zi={style:{"white-space":"nowrap"},class:"pr-1"},Ji={key:0},eo={key:2,class:"main-queue-items"},to={class:"main-media-details-image main-media-details-image-alt"},ao={class:"player-bottom"},lo={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},io={class:"media-controls"},oo={key:0,class:"row",style:{"margin-left":"5%","margin-right":"5%"}},so={key:1,class:"row",style:{height:"70px",display:"flex","justify-content":"center","align-items":"center","padding-bottom":"15px","padding-top":"15px"}},no=F({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(a){Xa();const{name:l}=yt(),s=a,o=new mt,n=z(-1),i=new mt,r=z([]),h=z(""),p=z(0),u=z(!1),m=$(()=>t.activePlayerQueue?r.value.slice(t.activePlayerQueue.current_index):[]),y=$(()=>t.activePlayerQueue?r.value.slice(0,t.activePlayerQueue.current_index):[]),v=$(()=>{switch(l.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return t.showQueueItems?"1.5em":"2.5em";case"xl":return t.showQueueItems?"1.6em":"3em";case"xxl":return t.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),g=$(()=>{switch(l.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return t.showQueueItems?"1.0em":"1.6em";case"xl":return t.showQueueItems?"1.2em":"2em";case"xxl":return t.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),_=$(()=>Oe.display.height.value>800),S=function(k){t.showFullscreenPlayer=!1,tt.push({name:k.media_type,params:{itemId:k.item_id,provider:k.provider}})},q=function(k){t.globalSearchTerm=k,tt.push({name:"search"}),t.showFullscreenPlayer=!1},R=function(k,P){var x,ae,re,de,ke,_e,Pe;const T=r.value.indexOf(P),A=[{label:"play_now",labelArgs:[],action:()=>{H(P,"play_now")},icon:"mdi-play-circle-outline",disabled:T===((x=t.activePlayerQueue)==null?void 0:x.current_index)||T===((ae=t.activePlayerQueue)==null?void 0:ae.index_in_buffer)},{label:"play_next",labelArgs:[],action:()=>{H(P,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:T<=(((re=t.activePlayerQueue)==null?void 0:re.index_in_buffer)||0)},{label:"queue_move_up",labelArgs:[],action:()=>{H(P,"up")},icon:"mdi-arrow-up",disabled:T<=(((de=t.activePlayerQueue)==null?void 0:de.index_in_buffer)||0)},{label:"queue_move_down",labelArgs:[],action:()=>{H(P,"down")},icon:"mdi-arrow-down",disabled:T<=(((ke=t.activePlayerQueue)==null?void 0:ke.index_in_buffer)||0)},{label:"queue_delete",labelArgs:[],action:()=>{H(P,"delete")},icon:"mdi-delete",disabled:T<=(((_e=t.activePlayerQueue)==null?void 0:_e.index_in_buffer)||0)}];((Pe=P==null?void 0:P.media_item)==null?void 0:Pe.media_type)==fe.TRACK&&A.push({label:"show_info",labelArgs:[],action:()=>{S(P.media_item)},icon:"mdi-information-outline",disabled:!1}),Ce.emit("contextmenu",{items:A,posX:k.clientX,posY:k.clientY})},U=function(k){t.activePlayer&&Ce.emit("contextmenu",{items:Sa(t.activePlayer,t.activePlayerQueue),posX:k.clientX,posY:k.clientY})},H=function(k,P){var T,A,x,ae,re;!k||!t.activePlayerQueue||(P=="play_now"?w.queueCommandPlayIndex((T=t.activePlayerQueue)==null?void 0:T.queue_id,k.queue_item_id):P=="move_next"?w.queueCommandMoveNext((A=t.activePlayerQueue)==null?void 0:A.queue_id,k.queue_item_id):P=="up"?w.queueCommandMoveUp((x=t.activePlayerQueue)==null?void 0:x.queue_id,k.queue_item_id):P=="down"?w.queueCommandMoveDown((ae=t.activePlayerQueue)==null?void 0:ae.queue_id,k.queue_item_id):P=="delete"&&w.queueCommandDelete((re=t.activePlayerQueue)==null?void 0:re.queue_id,k.queue_item_id))},L=async function(){u.value=!0,r.value=[],await Ut(100),u.value=!1},W=async function({done:k}){var x;if(!t.activePlayerQueue||t.activePlayerQueue.items==0){k("empty");return}if(r.value.length>=((x=t.activePlayerQueue)==null?void 0:x.items)){k("empty");return}const P=r.value.length,T=(t.activePlayerQueue.current_index||0)+50,A=await w.getPlayerQueueItems(t.activePlayerQueue.queue_id,T,P);r.value.push(...A),A.length<50?k("empty"):k("ok")};qe(()=>{const k=w.subscribe(Ga.QUEUE_ITEMS_UPDATED,P=>{var T;P.object_id==((T=t.activePlayerQueue)==null?void 0:T.queue_id)&&(P.data,L())});je(k)});const B=function(k){var T;if(!((T=t.curQueueItem)!=null&&T.media_item))return;if(!t.curQueueItem.media_item.favorite){w.toggleFavorite(t.curQueueItem.media_item);return}const P=[{label:"favorites_remove",labelArgs:[],action:()=>{w.toggleFavorite(t.curQueueItem.media_item)},icon:"mdi-heart"},{label:"add_playlist",labelArgs:[],action:()=>{Ce.emit("playlistdialog",{items:[t.curQueueItem.media_item]})},icon:"mdi-plus-circle-outline"}];Ce.emit("contextmenu",{items:P,posX:k.clientX,posY:k.clientY})},E=function(){u.value=!0,Ut(100).then(()=>{u.value=!1})};return te(()=>t.activePlayerId,k=>{L()},{immediate:!0}),te(()=>s.colorPalette,k=>{!k.darkColor||!k.lightColor?h.value=Oe.theme.current.value.dark?"#000":"#fff":h.value=Oe.theme.current.value.dark?k.darkColor:k.lightColor}),(k,P)=>(c(),I(fa,{modelValue:e(t).showFullscreenPlayer,"onUpdate:modelValue":P[12]||(P[12]=T=>e(t).showFullscreenPlayer=T),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition","z-index":"9999"},{default:f(()=>[d(Xe,{color:e(ja)(h.value,70,80)},{default:f(()=>{var T,A,x,ae,re,de,ke,_e,Pe,Le,Ze,J,Ae,We,Re,$t,St,Qt,Tt,Mt,Bt,Et,qt,zt,Lt,At,Wt,Rt,Ht;return[d(Bl,{class:"v-toolbar-default",color:"transparent"},{prepend:f(()=>[d(le,{icon:"",onClick:P[0]||(P[0]=M=>e(t).showFullscreenPlayer=!1)},{default:f(()=>[d(N,{icon:"mdi-chevron-down"})]),_:1})]),append:f(()=>{var M;return[(M=e(t).activePlayerQueue)!=null&&M.radio_source.length?(c(),I(Pt,{key:0,scrim:""},{activator:f(({props:O})=>[d(le,X(O,{icon:""}),{default:f(()=>[d(N,{color:"accent",icon:"mdi-radio-tower"})]),_:2},1040)]),default:f(()=>[d(Xe,{title:k.$t("queue_radio_enabled"),subtitle:k.$t("queue_radio_based_on")},{text:f(()=>{var O;return[(c(!0),b(Y,null,ie((O=e(t).activePlayerQueue)==null?void 0:O.radio_source,K=>(c(),b("div",{key:K.uri},[Q("a",{onClick:Se=>S(K)},C(K.name),9,Ri)]))),128))]}),_:1},8,["title","subtitle"])]),_:1})):V("",!0),_.value?V("",!0):(c(),I($a,{key:1})),d(le,{icon:"",onClick:se(U,["stop"])},{default:f(()=>[d(N,{icon:"mdi-dots-vertical"})]),_:1})]}),_:1}),Q("div",Hi,[e(G)("bp7")||!e(t).showQueueItems?(c(),b("div",Di,[k.$vuetify.display.height>600?(c(),b("div",Ui,[(x=(A=(T=e(t).curQueueItem)==null?void 0:T.streamdetails)==null?void 0:A.stream_metadata)!=null&&x.image_url?(c(),I(Ee,{key:0,style:{"max-width":"100%",width:"auto","border-radius":"4px"},src:e(t).curQueueItem.streamdetails.stream_metadata.image_url},null,8,["src"])):!((ae=e(t).curQueueItem)!=null&&ae.image)&&((de=(re=e(t).activePlayer)==null?void 0:re.current_media)!=null&&de.image_url)?(c(),I(Ee,{key:1,style:{"max-width":"100%",width:"auto","border-radius":"4px"},src:e(t).activePlayer.current_media.image_url},null,8,["src"])):(c(),I(Me,{key:2,item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"},fallback:k.$vuetify.theme.current.dark?e(st):e(ya)},null,8,["item","fallback"]))])):V("",!0),Q("div",Ni,[((ke=e(t).activePlayer)==null?void 0:ke.powered)==!1?(c(),I(Ne,{key:0,style:j(`font-size: ${v.value};`)},{default:f(()=>{var M;return[D(C((M=e(t).activePlayer)==null?void 0:M.display_name),1)]}),_:1},8,["style"])):(_e=e(t).curQueueItem)!=null&&_e.media_item?(c(),I(Ne,{key:1,style:j(`font-size: ${v.value};cursor:pointer;`),onClick:P[1]||(P[1]=M=>S(e(t).curQueueItem.media_item))},{default:f(()=>[d(ue,{sync:e(o)},{default:f(()=>[D(C(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(c(),b("span",Fi,"("+C(e(t).curQueueItem.media_item.version)+")",1)):V("",!0)]),_:1},8,["sync"])]),_:1},8,["style"])):!e(t).activePlayerQueue&&((Le=(Pe=e(t).activePlayer)==null?void 0:Pe.current_media)!=null&&Le.title)?(c(),I(Ne,{key:2},{default:f(()=>{var M,O,K,Se;return[(O=(M=e(t).activePlayer)==null?void 0:M.current_media)!=null&&O.artist?(c(),b("div",Oi,[d(ue,{sync:e(o)},{default:f(()=>{var He,De;return[D(C((De=(He=e(t).activePlayer)==null?void 0:He.current_media)==null?void 0:De.artist),1)]}),_:1},8,["sync"])])):V("",!0),(Se=(K=e(t).activePlayer)==null?void 0:K.current_media)!=null&&Se.title?(c(),b("div",{key:1,style:j(`font-size: ${g.value};`)},[d(ue,{sync:e(o)},{default:f(()=>{var He,De;return[D(C((De=(He=e(t).activePlayer)==null?void 0:He.current_media)==null?void 0:De.title),1)]}),_:1},8,["sync"])],4)):V("",!0)]}),_:1})):(c(),I(Ne,{key:3,style:j(`font-size: ${v.value};cursor:pointer;`),onClick:P[2]||(P[2]=M=>e(t).showPlayersMenu=!0)},{default:f(()=>[d(ue,{sync:e(o)},{default:f(()=>{var M;return[D(C(((M=e(t).activePlayer)==null?void 0:M.display_name)||k.$t("no_player")),1)]}),_:1},8,["sync"])]),_:1},8,["style"])),(Ze=e(t).activePlayer)!=null&&Ze.powered?V("",!0):(c(),I(ge,{key:4,class:"text-h6 text-md-h5 text-lg-h4"},{default:f(()=>[D(C(k.$t("off")),1)]),_:1})),(We=(Ae=(J=e(t).curQueueItem)==null?void 0:J.streamdetails)==null?void 0:Ae.stream_metadata)!=null&&We.title?(c(),I(ge,{key:5,class:"text-h6 text-md-h5 text-lg-h4",onClick:P[3]||(P[3]=M=>{var O,K,Se;return q(((Se=(K=(O=e(t).curQueueItem)==null?void 0:O.streamdetails)==null?void 0:K.stream_metadata)==null?void 0:Se.artist)+" - "+e(t).curQueueItem.streamdetails.stream_metadata.title)})},{default:f(()=>[d(ue,{sync:e(o)},{default:f(()=>{var M,O,K;return[(K=(O=(M=e(t).curQueueItem)==null?void 0:M.streamdetails)==null?void 0:O.stream_metadata)!=null&&K.artist?(c(),b("span",xi,C(e(t).curQueueItem.streamdetails.stream_metadata.artist)+" - ",1)):V("",!0),D(C(e(t).curQueueItem.streamdetails.stream_metadata.title),1)]}),_:1},8,["sync"])]),_:1})):V("",!0),(Re=e(t).curQueueItem)!=null&&Re.media_item&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album?(c(),I(ge,{key:6,style:j(`font-size: ${g.value};cursor:pointer;`),onClick:P[4]||(P[4]=M=>S(e(t).curQueueItem.media_item.album))},{default:f(()=>[d(ue,{sync:e(o)},{default:f(()=>[D(C(e(t).curQueueItem.media_item.album.name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):V("",!0),($t=e(t).curQueueItem)!=null&&$t.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length?(c(),I(ge,{key:7,style:j(`font-size: ${g.value};cursor:pointer;`),onClick:P[5]||(P[5]=M=>S(e(t).curQueueItem.media_item.artists[0]))},{default:f(()=>[d(ue,{sync:e(o)},{default:f(()=>[D(C(e(t).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):V("",!0),(St=e(t).curQueueItem)!=null&&St.media_item&&"podcast"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.podcast?(c(),I(ge,{key:8,style:j(`font-size: ${g.value};`)},{default:f(()=>[d(ue,{sync:e(o)},{default:f(()=>[D(C(e(t).curQueueItem.media_item.podcast.name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):((Qt=e(t).activePlayer)==null?void 0:Qt.active_source)!=((Tt=e(t).activePlayer)==null?void 0:Tt.player_id)&&((Mt=e(t).activePlayer)!=null&&Mt.active_source)&&((Bt=e(t).activePlayer)==null?void 0:Bt.active_source)in e(w).queues?(c(),I(ge,{key:9},{default:f(()=>{var M;return[D(C(k.$t("external_source_active",[(M=e(w).queues[e(t).activePlayer.active_source])==null?void 0:M.display_name])),1)]}),_:1})):((Et=e(t).activePlayer)==null?void 0:Et.active_source)!=((qt=e(t).activePlayer)==null?void 0:qt.player_id)?(c(),I(ge,{key:10},{default:f(()=>{var M;return[D(C(k.$t("external_source_active",[(M=e(t).activePlayer)==null?void 0:M.active_source])),1)]}),_:1})):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(c(),I(ge,{key:11,style:j(`font-size: ${g.value}`)},{default:f(()=>[D(C(k.$t("queue_empty")),1)]),_:1},8,["style"])):V("",!0),Q("div",Yi,[d(Sl)])])])):V("",!0),e(t).showQueueItems?(c(),b("div",Xi,[d(Wi,{modelValue:p.value,"onUpdate:modelValue":P[6]||(P[6]=M=>p.value=M),"hide-slider":"",density:"compact",onClick:E},{default:f(()=>[d(vt,{value:0},{default:f(()=>{var M,O;return[D(C(k.$t("queue"))+" ",1),d(ct,{color:"grey",content:(((M=e(t).activePlayerQueue)==null?void 0:M.items)||0)-(((O=e(t).activePlayerQueue)==null?void 0:O.current_index)||0),inline:""},null,8,["content"])]}),_:1}),d(vt,{value:1},{default:f(()=>{var M;return[D(C(k.$t("played"))+" ",1),d(ct,{color:"grey",content:(M=e(t).activePlayerQueue)==null?void 0:M.current_index,inline:""},null,8,["content"])]}),_:1})]),_:1},8,["modelValue"]),Q("div",Gi,[u.value?V("",!0):(c(),I(Ml,{key:0,onLoad:W,"empty-text":"",height:"100%"},{default:f(()=>[d(zl,{"item-height":70,"max-height":"90%",items:p.value==0?m.value:y.value},{default:f(({item:M,index:O})=>[d(za,{link:"","show-menu-btn":!0,onClick:se(K=>R(K,M),["stop"]),onMenu:se(K=>R(K,M),["stop"]),onMouseenter:K=>n.value=O,onMouseleave:P[7]||(P[7]=K=>n.value=-1)},{prepend:f(()=>[Q("div",ji,[d(Me,{size:"50",item:M},null,8,["item"])])]),title:f(()=>[d(ue,{sync:O==0&&p.value==0?e(o):e(i),disabled:!(O==0&&p.value==0||n.value==O)},{default:f(()=>[D(C(M.name),1)]),_:2},1032,["sync","disabled"])]),subtitle:f(()=>[Q("div",Ki,[Q("span",Zi,C(e(Je)(M.duration))+" | ",1),d(ue,{sync:O==0&&p.value==0?e(o):e(i),disabled:!(O==0&&p.value==0||n.value==O)},{default:f(()=>[M.media_item&&"album"in M.media_item&&M.media_item.album?(c(),b("span",Ji,C(M.media_item.album.name),1)):V("",!0)]),_:2},1032,["sync","disabled"])])]),_:2},1032,["onClick","onMenu","onMouseenter"])]),_:1},8,["items"])]),_:1}))])])):V("",!0),!e(t).showQueueItems&&k.$vuetify.display.height<=600?(c(),b("div",eo,[Q("div",to,[d(Me,{item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])])])):V("",!0)]),Q("div",ao,[Q("div",lo,[d(ba,{"show-labels":!0})]),Q("div",io,[e(t).activePlayerQueue?(c(),I($e,{key:0,disabled:!((zt=e(t).curQueueItem)!=null&&zt.media_item),icon:(At=(Lt=e(t).curQueueItem)==null?void 0:Lt.media_item)!=null&&At.favorite?"mdi-heart":"mdi-heart-outline",title:k.$t("tooltip.favorite"),type:"btn",class:"media-controls-item","max-height":"30px",onClick:B},null,8,["disabled","icon","title"])):V("",!0),k.$vuetify.display.mdAndUp?(c(),I(ka,{key:1,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"30px"},null,8,["player-queue"])):V("",!0),d(Ca,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"45px"},null,8,["player","player-queue"]),d(Pa,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"100px"},null,8,["player","player-queue"]),d(Va,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"45px"},null,8,["player","player-queue"]),k.$vuetify.display.mdAndUp?(c(),I(wa,{key:2,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"35px"},null,8,["player-queue"])):V("",!0),e(t).activePlayerQueue?(c(),I(Ia,{key:3,class:"media-controls-item","max-height":"30px"})):V("",!0)]),e(t).activePlayer?(c(),b("div",oo,[d(Ge,{width:"100%","is-powered":(Wt=e(t).activePlayer)==null?void 0:Wt.powered,disabled:!e(t).activePlayer||!((Rt=e(t).activePlayer)!=null&&Rt.powered),"model-value":Math.round(((Ht=e(t).activePlayer)==null?void 0:Ht.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","allow-wheel":!0,"onUpdate:modelValue":P[8]||(P[8]=M=>e(t).activePlayer.group_childs.length>0?e(w).playerCommandGroupVolume(e(t).activePlayerId,M):e(w).playerCommandVolumeSet(e(t).activePlayerId,M)),"onClick:prepend":P[9]||(P[9]=M=>e(t).activePlayer.group_childs.length>0?e(w).playerCommandGroupVolumeDown(e(t).activePlayerId):e(w).playerCommandVolumeDown(e(t).activePlayerId)),"onClick:append":P[10]||(P[10]=M=>e(t).activePlayer.group_childs.length>0?e(w).playerCommandGroupVolumeUp(e(t).activePlayerId):e(w).playerCommandVolumeUp(e(t).activePlayerId))},null,8,["is-powered","disabled","model-value"])])):V("",!0),_.value?(c(),b("div",so,[d(we,{class:"responsive-icon-holder-btn",variant:"outlined",onClick:P[11]||(P[11]=M=>e(t).showPlayersMenu=!0)},{default:f(()=>{var M;return[d(N,{icon:((M=e(t).activePlayer)==null?void 0:M.icon)||"mdi-speaker"},null,8,["icon"]),D(" "+C(e(t).activePlayer?e(it)(e(t).activePlayer):""),1)]}),_:1})])):V("",!0)])]}),_:1},8,["color"])]),_:1},8,["modelValue"]))}}),ro=oe(no,[["__scopeId","data-v-5f045620"]]),uo={key:0},co={key:2},mo={key:3,class:"icon-thumb"},vo={key:0},po={key:2},yo={key:3},fo={key:4},ho={class:"d-flex justify-center",style:{width:"100%"}},_o={key:0},go={key:1},bo={key:2},wo={key:3},ko={key:4,class:"line-clamp-1"},Po={key:0},Co={key:5,class:"line-clamp-1"},Vo={key:6},Io={key:7,class:"line-clamp-1"},$o={key:8,class:"line-clamp-1"},So={key:0},Qo=F({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(a){const l=new mt,s=a,o=$(()=>{var n,i;return(i=(n=t.activePlayerQueue)==null?void 0:n.current_item)==null?void 0:i.streamdetails});return(n,i)=>(c(),b(Y,null,[d(ce,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:f(()=>{var r,h,p,u,m,y,v,g,_,S,q,R,U;return[Q("div",{class:"media-thumb player-media-thumb",style:j(`cursor: pointer;height: ${e(G)({breakpoint:"phone"})?50:64}px; width: ${e(G)({breakpoint:"phone"})?50:64}px; `),onClick:i[0]||(i[0]=H=>e(t).showFullscreenPlayer=!0)},[(r=e(t).activePlayer)!=null&&r.powered&&((u=(p=(h=e(t).curQueueItem)==null?void 0:h.streamdetails)==null?void 0:p.stream_metadata)!=null&&u.image_url)?(c(),b("div",uo,[d(Ee,{class:"media-thumb",style:{"border-radius":"4px"},size:"55",src:e(t).curQueueItem.streamdetails.stream_metadata.image_url},null,8,["src"])])):(m=e(t).curQueueItem)!=null&&m.media_item||(y=e(t).curQueueItem)!=null&&y.image?(c(),I(Me,{key:1,item:((v=e(t).curQueueItem)==null?void 0:v.media_item)||e(t).curQueueItem,fallback:e(st)},null,8,["item","fallback"])):(g=e(t).activePlayer)!=null&&g.powered&&((S=(_=e(t).activePlayer)==null?void 0:_.current_media)!=null&&S.image_url)?(c(),b("div",co,[d(Ee,{class:"media-thumb",style:{"border-radius":"4px"},size:"55",src:e(t).activePlayer.current_media.image_url},null,8,["src"])])):(c(),b("div",mo,[d(N,{size:"35",icon:((q=e(t).activePlayer)==null?void 0:q.type)==e(he).PLAYER&&((R=e(t).activePlayer)!=null&&R.group_childs.length)?"mdi-speaker-multiple":((U=e(t).activePlayer)==null?void 0:U.icon)||"mdi-speaker",style:{display:"table-cell",opacity:"0.8"}},null,8,["icon"])]))],4)]}),title:f(()=>{var r,h,p,u,m,y;return[Q("div",{style:j({cursor:"pointer",color:n.primaryColor})},[((r=e(t).activePlayer)==null?void 0:r.powered)==!1?(c(),b("div",{key:0,onClick:i[1]||(i[1]=v=>e(t).showPlayersMenu=!0)},C((h=e(t).activePlayer)==null?void 0:h.display_name),1)):(p=e(t).curQueueItem)!=null&&p.media_item?(c(),b("div",{key:1,onClick:i[2]||(i[2]=v=>e(t).showFullscreenPlayer=!0)},[d(ue,{sync:e(l)},{default:f(()=>[D(C(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(c(),b("span",vo,"("+C(e(t).curQueueItem.media_item.version)+")",1)):V("",!0)]),_:1},8,["sync"])])):e(t).curQueueItem?(c(),b("div",po,C(e(t).curQueueItem.name),1)):!e(t).activePlayerQueue&&((m=(u=e(t).activePlayer)==null?void 0:u.current_media)!=null&&m.title)?(c(),b("div",yo,C(e(t).activePlayer.current_media.title),1)):e(t).activePlayer?(c(),b("div",fo,C((y=e(t).activePlayer)==null?void 0:y.display_name),1)):(c(),b("div",{key:5,onClick:i[3]||(i[3]=v=>e(t).showPlayersMenu=!0)},C(n.$t("no_player")),1))],4)]}),append:f(()=>{var r,h,p;return[(r=o.value)!=null&&r.audio_format.content_type&&!e(G)({breakpoint:"phone"})&&n.showQualityDetailsBtn?(c(),I(ql,X({key:0,disabled:!e(t).activePlayerQueue||!((h=e(t).activePlayerQueue)!=null&&h.active)||((p=e(t).activePlayerQueue)==null?void 0:p.items)==0,class:"player-track-content-type",style:n.$vuetify.theme.current.dark?"color: #000; background: #fff; margin-left: 15px;":"color: #fff; background: #000; margin-left: 15px;",label:"",ripple:!1},s),{default:f(()=>[Q("div",ho,C(o.value.audio_format.content_type.toUpperCase()),1)]),_:1},16,["disabled","style"])):V("",!0)]}),subtitle:f(()=>{var r;return[Q("div",{style:j({cursor:"pointer",color:n.primaryColor}),class:"line-clamp-1",onClick:i[4]||(i[4]=h=>e(t).showFullscreenPlayer=!0)},[d(ue,{sync:e(l)},{default:f(()=>{var h,p,u,m,y,v,g,_,S,q,R,U,H,L,W,B,E,k,P,T;return[(h=e(t).activePlayer)!=null&&h.powered?e(t).curQueueItem&&((p=e(t).curQueueItem.media_item)==null?void 0:p.media_type)==e(fe).TRACK&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&!s.showOnlyArtist?(c(),b("div",go,C(e(ra)(e(t).curQueueItem.media_item.artists))+" • "+C(e(t).curQueueItem.media_item.album.name),1)):(u=e(t).curQueueItem)!=null&&u.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length>0?(c(),b("div",bo,C(e(t).curQueueItem.media_item.artists[0].name),1)):(m=e(t).curQueueItem)!=null&&m.media_item&&"podcast"in e(t).curQueueItem.media_item&&((y=e(t).curQueueItem.media_item.podcast)!=null&&y.name)?(c(),b("div",wo,C(e(t).curQueueItem.media_item.podcast.name),1)):(_=(g=(v=e(t).curQueueItem)==null?void 0:v.streamdetails)==null?void 0:g.stream_metadata)!=null&&_.title?(c(),b("div",ko,[(R=(q=(S=e(t).curQueueItem)==null?void 0:S.streamdetails)==null?void 0:q.stream_metadata)!=null&&R.artist?(c(),b("span",Po,C(e(t).curQueueItem.streamdetails.stream_metadata.artist)+" - ",1)):V("",!0),D(C((H=(U=e(t).curQueueItem)==null?void 0:U.streamdetails)==null?void 0:H.stream_metadata.title),1)])):(W=(L=e(t).curQueueItem)==null?void 0:L.media_item)!=null&&W.metadata.description?(c(),b("div",Co,C(e(ua)(e(t).curQueueItem.media_item.metadata.description,100)),1)):!e(t).activePlayerQueue&&((B=e(t).activePlayer)!=null&&B.active_source)&&((k=(E=e(t).activePlayer)==null?void 0:E.current_media)!=null&&k.artist)?(c(),b("div",Vo,C(e(t).activePlayer.current_media.artist),1)):!e(t).activePlayerQueue&&((P=e(t).activePlayer)!=null&&P.active_source)?(c(),b("div",Io,C(n.$t("external_source_active",[(T=e(t).activePlayer)==null?void 0:T.active_source])),1)):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(c(),b("div",$o,C(n.$t("queue_empty")),1)):V("",!0):(c(),b("div",_o,C(n.$t("off")),1))]}),_:1},8,["sync"]),e(t).activePlayer&&((r=e(t).activePlayer)!=null&&r.powered)?(c(),b("div",So,C(e(it)(e(t).activePlayer)),1)):V("",!0)],4)]}),_:1}),d(ro,{"show-fullscreen":e(t).showFullscreenPlayer,"color-palette":n.colorPalette},null,8,["show-fullscreen","color-palette"])],64))}}),To={key:1,class:"text-caption volumecaption"},Mo={key:0,class:"text-caption volumecaption"},Bo=F({__name:"VolumeControl",props:{player:{},showSyncControls:{type:Boolean},showSubPlayers:{type:Boolean},showHeadingRow:{type:Boolean},showVolumeControl:{type:Boolean},allowWheel:{type:Boolean}},setup(a){const l=a,s=z([]),o=z([]),n=z(void 0),i=$(()=>l.player.group_childs.length>0),r=function(u,m=!0){var v,g;const y=[];m&&u.type!=he.GROUP&&y.push(u);for(const _ of u.group_childs){const S=(v=w)==null?void 0:v.players[_];S&&S.available&&!y.includes(S)&&y.push(S)}if(l.showSyncControls&&u.supported_features.includes(ne.SET_MEMBERS))for(const _ of Object.values((g=w)==null?void 0:g.players))_.player_id!=u.player_id&&(!u.can_group_with.includes(_.player_id)&&!u.can_group_with.includes(_.provider)||_.available&&(_.active_group&&_.active_group!=u.player_id||_.active_source&&_.state==be.PLAYING&&![u.player_id,_.player_id].includes(_.active_source)||y.includes(_)||y.push(_)));return y.sort((_,S)=>_.display_name.toUpperCase()>S.display_name.toUpperCase()?1:-1),y},h=async function(u){for(const m of u)w.players[m].powered&&!w.players[m].active_group?await w.playerCommandPower(m,!1):await w.playerCommandUnGroup(m)},p=async function(u,m){const y=l.player.player_id;m?(o.value.includes(u)&&(o.value=o.value.filter(v=>v!=u)),s.value.includes(u)||s.value.push(u),w.players[y].group_childs.push(u)):(s.value.includes(u)&&(s.value=s.value.filter(v=>v!=u)),o.value.includes(u)||o.value.push(u),w.players[y].group_childs=w.players[y].group_childs.filter(v=>v!=u)),n.value!=null&&clearTimeout(n.value),n.value=setTimeout(async()=>{o.value.length>0&&h(o.value).catch(async()=>{w.players[y]=await w.getPlayer(y)}).finally(()=>{o.value=[]}),s.value.length>0&&w.playerCommandGroupMany(y,s.value).catch(async()=>{w.players[y]=await w.getPlayer(y)}).finally(()=>{s.value=[]})},1e3)};return(u,m)=>(c(),I(Ve,{style:{overflow:"hidden",padding:"0"},lines:"two"},{default:f(()=>[u.showHeadingRow?(c(),I(ce,{key:0,class:"volumesliderrow heading",link:!1,style:j(u.player.powered?"opacity: 1":"opacity: 0.6")},{prepend:f(()=>[d(N,{size:25,icon:u.player.icon,style:{"margin-left":"6px",opacity:"0.6"}},null,8,["icon"])]),default:f(()=>[Q("h5",null,C(e(it)(u.player,27)),1)]),append:f(()=>[d(le,{class:"powerbtn",variant:"icon",onClick:m[0]||(m[0]=se(y=>e(w).playerCommandPowerToggle(u.player.player_id),["stop"]))},{default:f(()=>[d(N,{size:25,icon:"mdi-power"})]),_:1})]),_:1},8,["style"])):V("",!0),u.showVolumeControl?(c(),I(ce,{key:1,class:"volumesliderrow",link:!1,style:j(u.player.powered?"opacity: 0.75":"opacity: 0.35")},{prepend:f(()=>[d(le,{icon:"",style:{height:"25px"},disabled:u.player.type==e(he).GROUP||u.player.group_childs.length>0,onClick:m[1]||(m[1]=se(y=>e(w).playerCommandMuteToggle(u.player.player_id),["stop"]))},{default:f(()=>[d(N,{size:25,icon:u.player.volume_muted?"mdi-volume-mute":"mdi-volume-medium"},null,8,["icon"])]),_:1},8,["disabled"])]),default:f(()=>[d(Ge,{color:"secondary",width:"100%","is-powered":u.player.powered,disabled:!u.player.available||!u.player.supported_features.includes(e(ne).VOLUME_SET)&&!u.player.group_childs.length,"model-value":Math.round(u.player.group_childs.length?u.player.group_volume:u.player.volume_level),onClick:m[2]||(m[2]=se(()=>{},["stop"])),"onUpdate:modelValue":m[3]||(m[3]=y=>u.player.group_childs.length>0?e(w).playerCommandGroupVolume(u.player.player_id,y):e(w).playerCommandVolumeSet(u.player.player_id,y))},null,8,["is-powered","disabled","model-value"])]),append:f(()=>[i.value&&!u.showSubPlayers?(c(),I(N,{key:0,class:"expandbtn"},{default:f(()=>m[7]||(m[7]=[D(" mdi-chevron-down ")])),_:1})):(c(),b("div",To,C(Math.round(u.player.group_childs.length?u.player.group_volume:u.player.volume_level)),1))]),_:1},8,["style"])):V("",!0),u.showSubPlayers&&(u.player.group_childs.length>0||u.showSyncControls)?(c(),b("div",{key:2,onClick:m[6]||(m[6]=se(()=>{},["stop"]))},[d(Ye,{style:{"margin-top":"10px","margin-bottom":"15px"}}),(c(!0),b(Y,null,ie(r(u.player,!u.showSyncControls),y=>(c(),b("div",{key:y.player_id},[d(ce,{class:"volumesliderrow",link:!1,style:j(y.powered||u.showSyncControls?"opacity: 0.75":"opacity: 0.4"),onClick:m[4]||(m[4]=se(()=>{},["stop"]))},{prepend:f(()=>[d(N,{size:30,icon:y.icon,style:{"margin-left":"6px",opacity:"0.6"}},null,8,["icon"])]),default:f(()=>[Q("h6",null,C(e(ua)(y.display_name,27)),1)]),append:f(()=>[u.showSyncControls?(c(),I(Ll,{key:0,ripple:!1,disabled:y.player_id==u.player.player_id,"model-value":u.player.group_childs.includes(y.player_id)||y.player_id==u.player.player_id,size:"22",class:"checkbox","onUpdate:modelValue":v=>p(y.player_id,v)},null,8,["disabled","model-value","onUpdate:modelValue"])):V("",!0)]),_:2},1032,["style"]),d(ce,{class:"volumesliderrow",link:!1,style:j(y.powered?"opacity: 0.75":"opacity: 0.4"),onClick:m[5]||(m[5]=se(()=>{},["stop"]))},{prepend:f(()=>[d(le,{icon:"",disabled:!y.supported_features.includes(e(ne).VOLUME_MUTE),style:{height:"25px"},onClick:v=>e(w).playerCommandMuteToggle(y.player_id)},{default:f(()=>[d(N,{size:25,icon:y.volume_muted?"mdi-volume-mute":"mdi-volume-medium"},null,8,["icon"])]),_:2},1032,["disabled","onClick"])]),default:f(()=>[d(Ge,{color:"secondary",width:"100%","is-powered":y.powered,disabled:!y.available||!y.supported_features.includes(e(ne).VOLUME_SET),"allow-wheel":u.allowWheel,"model-value":Math.round(y.volume_level),"onUpdate:modelValue":v=>e(w).playerCommandVolumeSet(y.player_id,v)},null,8,["is-powered","disabled","allow-wheel","model-value","onUpdate:modelValue"])]),append:f(()=>[y.supported_features.includes(e(ne).VOLUME_SET)?(c(),b("div",Mo,C(y.volume_level),1)):V("",!0)]),_:2},1032,["style"]),m[8]||(m[8]=Q("div",{style:{height:"14px"}},null,-1))]))),128))])):V("",!0)]),_:1}))}}),qa=oe(Bo,[["__scopeId","data-v-934798ec"]]),Eo={key:0},qo={key:0},zo={class:"text-caption"},Lo={key:1},Ao=F({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(a){const l=a,s=z(!1);return(o,n)=>l.isVisible&&e(t).activePlayer?(c(),b("div",Eo,[d(Pt,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=i=>s.value=i),class:"volume-control-dialog","close-on-content-click":!1,location:"top",scrim:o.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:f(({props:i})=>{var r,h;return[e(G)("bp6")||!o.responsiveVolumeSize?(c(),b("div",qo,[d(Ge,{style:"margin-right: 0px; margin-left: 0px;",width:o.volumeSize,"is-powered":!0,"model-value":e(t).activePlayer.group_childs.length>0?Math.round(((r=e(t).activePlayer)==null?void 0:r.group_volume)||0):Math.round(((h=e(t).activePlayer)==null?void 0:h.volume_level)||0),"allow-wheel":!0,"onUpdate:modelValue":n[0]||(n[0]=p=>{var u,m;return e(t).activePlayer.group_childs.length>0?e(w).playerCommandGroupVolume(((u=e(t).activePlayer)==null?void 0:u.player_id)||"",p):e(w).playerCommandVolumeSet(((m=e(t).activePlayer)==null?void 0:m.player_id)||"",p)})},{prepend:f(()=>[d(le,X({variant:"icon",size:"48",ripple:!1},{...i}),{default:f(()=>{var p,u;return[d(N,{color:l.color?o.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),Q("div",zo,C(e(t).activePlayer.group_childs.length>0?Math.round(((p=e(t).activePlayer)==null?void 0:p.group_volume)||0):Math.round(((u=e(t).activePlayer)==null?void 0:u.volume_level)||0)),1)]}),_:2},1040)]),_:2},1032,["width","model-value"])])):(c(),b("div",Lo,[d(le,X({...i},{size:"48",variant:"icon"}),{default:f(()=>{var p,u;return[d(N,{color:l.color?o.color:"",icon:"mdi-volume-high"},null,8,["color"]),Q("div",{class:"text-caption",style:j({color:l.color?o.color:""})},C(e(t).activePlayer.group_childs.length>0?Math.round(((p=e(t).activePlayer)==null?void 0:p.group_volume)||0):Math.round(((u=e(t).activePlayer)==null?void 0:u.volume_level)||0)),5)]}),_:2},1040)]))]}),default:f(()=>[d(Xe,{"min-width":300,style:{overflow:"hidden","padding-top":"20px","padding-bottom":"20px","padding-right":"20px"}},{default:f(()=>[e(t).activePlayer?(c(),I(qa,{key:0,player:e(t).activePlayer,"show-sub-players":!0,"show-sync-controls":!1,"show-heading-row":!0,"show-volume-control":!0,"allow-wheel":!0,style:{"margin-left":"18px"}},null,8,["player"])):V("",!0)]),_:1})]),_:1},8,["modelValue","scrim"])])):V("",!0)}}),Wo=oe(Ao,[["__scopeId","data-v-f4084555"]]),Ro=F({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(a){return(l,s)=>(c(),b(Y,null,[l.player&&l.player.isVisible?(c(),I($a,{key:0,color:l.player.color},null,8,["color"])):V("",!0),l.queue&&l.queue.isVisible?(c(),I(Ia,{key:1,color:l.player.color,style:{"padding-left":"15px","padding-right":"20px"}},null,8,["color"])):V("",!0),l.volume&&l.volume.isVisible?(c(),I(Wo,{key:2,color:l.volume.color,"volume-size":l.volume.volumeSize,"responsive-volume-size":l.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):V("",!0)],64))}}),Ho=["data-floating"],Do=["data-mobile"],Uo={class:"mediacontrols-left"},No={class:"mediacontrols-bottom-center"},Fo={class:"mediacontrols-bottom-right"},Oo={key:0,class:"volume-slider"},xo=F({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(a){Ka(i=>({"4e17711c":n.value})),la();const{mobile:l}=yt({mobileBreakpoint:576}),s=z({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),o=new Image;o.src=Oe.theme.current.value.dark?st:ya,o.crossOrigin="Anonymous",o.addEventListener("load",function(){s.value=Za(o)});const n=$(()=>Oe.theme.current.value.dark?s.value&&s.value.darkColor?s.value.darkColor+"26":"CCCCCC26":s.value&&s.value.lightColor?s.value.lightColor+"26":"CCCCCC26");return te(()=>{var i;return(i=t.curQueueItem)==null?void 0:i.queue_item_id},()=>{var i;(i=t.curQueueItem)!=null&&i.media_item?o.src=Ft(t.curQueueItem.media_item,Nt.THUMB)||"":t.curQueueItem?o.src=Ft(t.curQueueItem,Nt.THUMB)||"":o.src=""}),(i,r)=>{var h,p,u,m,y,v,g;return c(),b(Y,null,[Q("div",{class:"mediacontrols-bg","data-floating":i.useFloatingPlayer},null,8,Ho),Q("div",{class:"mediacontrols","data-mobile":e(l)},[Q("div",Uo,[d(Qo,{"show-quality-details-btn":!!e(G)("bp8"),"show-only-artist":!e(G)("bp7"),"color-palette":s.value,"primary-color":i.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])]),Q("div",No,[d(Zt,{"visible-components":{repeat:{isVisible:e(G)("bp3")},shuffle:{isVisible:e(G)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"},withCircle:i.useFloatingPlayer},previous:{isVisible:e(G)("bp3")},next:{isVisible:e(G)("bp3")}}},null,8,["visible-components"]),e(G)("bp6")?(c(),I(ba,{key:0,color:i.$vuetify.theme.current.dark?s.value.lightColor||"#fff":s.value.darkColor||"#000","is-progress-bar":!1,disabled:!((h=e(t).activePlayerQueue)!=null&&h.active)||((m=(u=(p=e(t).activePlayerQueue)==null?void 0:p.current_item)==null?void 0:u.media_item)==null?void 0:m.media_type)!==e(fe).TRACK},null,8,["color","disabled"])):V("",!0)]),Q("div",Fo,[Q("div",null,[d(Ro,{queue:{isVisible:e(G)("bp3"),color:i.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:i.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!e(l),color:i.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),d(Zt,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:e(G)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"40px",staticHeight:"40px",color:i.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],8,Do),e(l)?(c(),b("div",Oo,[d(Ge,{width:"100%",color:"secondary","is-powered":(y=e(t).activePlayer)==null?void 0:y.powered,disabled:!e(t).activePlayer||!((v=e(t).activePlayer)!=null&&v.powered),"model-value":Math.round(((g=e(t).activePlayer)==null?void 0:g.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","onUpdate:modelValue":r[0]||(r[0]=_=>e(t).activePlayer.group_childs.length>0?e(w).playerCommandGroupVolume(e(t).activePlayerId,_):e(w).playerCommandVolumeSet(e(t).activePlayerId,_)),"onClick:prepend":r[1]||(r[1]=_=>e(t).activePlayer.group_childs.length>0?e(w).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume-5):e(w).playerCommandVolumeSet(e(t).activePlayerId,e(t).activePlayer.volume_level-5)),"onClick:append":r[2]||(r[2]=_=>e(t).activePlayer.group_childs.length>0?e(w).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume+5):e(w).playerCommandVolumeSet(e(t).activePlayerId,e(t).activePlayer.volume_level+5))},null,8,["is-powered","disabled","model-value"])])):V("",!0)],64)}}}),Yo=oe(xo,[["__scopeId","data-v-3edee708"]]),Xo=me({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...ht(),...Ie(),..._t(),...Ct(),...gt(),...ze({tag:"footer"}),...Ke()},"VFooter"),Go=ve()({name:"VFooter",props:Xo(),setup(a,l){let{slots:s}=l;const o=z(),{themeClasses:n}=at(a),{backgroundColorClasses:i,backgroundColorStyles:r}=xe(ee(a,"color")),{borderClasses:h}=bt(a),{elevationClasses:p}=wt(a),{roundedClasses:u}=kt(a),m=ye(32),{resizeRef:y}=yl(g=>{g.length&&(m.value=g[0].target.clientHeight)}),v=$(()=>a.height==="auto"?m.value:parseInt(a.height,10));return Fe(()=>a.app,()=>{const g=Vt({id:a.name,order:$(()=>parseInt(a.order,10)),position:$(()=>"bottom"),layoutSize:v,elementSize:$(()=>a.height==="auto"?void 0:v.value),active:$(()=>a.app),absolute:ee(a,"absolute")});ta(()=>{o.value=g.layoutItemStyles.value})}),pe(()=>d(a.tag,{ref:y,class:["v-footer",n.value,i.value,h.value,p.value,u.value,a.class],style:[r.value,a.app?o.value:{height:Be(a.height)},a.style]},s)),{}}}),jo=F({__name:"Footer",setup(a){const l=$(()=>t.navigationMenuStyle=="horizontal"),s=$(()=>t.navigationMenuStyle!="horizontal"?0:t.isInStandaloneMode?100:80),o=$(()=>l.value?s.value+5:0);return(n,i)=>(c(),b(Y,null,[l.value?(c(),b("div",{key:0,class:et(n.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:j(`
      position: fixed;
      width: 100%;
      height: ${s.value+(e(G)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):V("",!0),e(t).navigationMenuStyle=="horizontal"?(c(),I(ri,{key:1,height:s.value},null,8,["height"])):V("",!0),d(Go,{bottom:"",fixed:"",class:et(`d-flex flex-column ${l.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:j(`bottom: ${o.value}px;`),elevation:"10",app:""},{default:f(()=>[d(Yo,{"use-floating-player":l.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}}),Ko={class:"player-media-thumb"},Zo={key:1},Jo={key:2,class:"icon-thumb"},es={style:{"margin-bottom":"3px"}},ts={key:0,style:{"font-size":"0.85rem","font-weight":"500","white-space":"nowrap"}},as={key:0},ls={key:0},is={key:1},os={key:2},ss={class:"v-list-item-subtitle",style:{"white-space":"nowrap"}},ns={key:0},rs={key:1},us={key:2},ds={key:3},cs={key:0},ms={key:4},vs={key:5},ps={key:6},ys=F({__name:"PlayerCard",props:{player:{},showVolumeControl:{type:Boolean},showMenuButton:{type:Boolean},showSubPlayers:{type:Boolean},showSyncControls:{type:Boolean}},setup(a){const l=a,s=$(()=>{if(l.player&&l.player.active_source in w.queues)return w.queues[l.player.active_source];if(l.player&&!l.player.active_source&&l.player.player_id in w.queues)return w.queues[l.player.player_id]}),o=$(()=>{if(s.value&&s.value.active)return s.value.current_item}),n=function(i){Ce.emit("contextmenu",{items:Sa(l.player,s.value),posX:i.clientX,posY:i.clientY})};return(i,r)=>(c(),I(Xe,{flat:"",class:et(["panel-item",{"panel-item-selected":i.player.player_id==e(t).activePlayerId,"panel-item-idle":i.player.state==e(be).IDLE,"panel-item-off":!i.player.powered}]),ripple:!1},{default:f(()=>[d(ce,{class:"panel-item-details",flat:"",ripple:!1},{prepend:f(()=>{var h,p,u,m;return[Q("div",Ko,[i.player.powered&&((h=o.value)!=null&&h.media_item)||(p=o.value)!=null&&p.image?(c(),I(Me,{key:0,class:"media-thumb",size:"55",item:((u=o.value)==null?void 0:u.media_item)||o.value,fallback:e(st)},null,8,["item","fallback"])):i.player.powered&&!s.value&&((m=i.player.current_media)!=null&&m.image_url)?(c(),b("div",Zo,[d(Ee,{class:"media-thumb",size:"55",src:i.player.current_media.image_url},null,8,["src"])])):(c(),b("div",Jo,[d(N,{size:"35",icon:i.player.type==e(he).PLAYER&&i.player.group_childs.length?"mdi-speaker-multiple":i.player.icon,style:{display:"table-cell",opacity:"0.8"}},null,8,["icon"])]))])]}),title:f(()=>[Q("div",es,C(e(it)(i.player,27)),1)]),subtitle:f(()=>{var h,p,u,m,y,v,g;return[i.player.powered?(c(),b("div",ts,[(h=o.value)!=null&&h.media_item?(c(),b("div",as,[D(C((p=o.value)==null?void 0:p.media_item.name)+" ",1),"version"in((u=o.value)==null?void 0:u.media_item)&&((m=o.value)!=null&&m.media_item.version)?(c(),b("span",ls,"("+C((y=o.value)==null?void 0:y.media_item.version)+")",1)):V("",!0)])):o.value?(c(),b("div",is,C((v=o.value)==null?void 0:v.name),1)):!s.value&&((g=i.player.current_media)!=null&&g.title)?(c(),b("div",os,C(i.player.current_media.title),1)):V("",!0)])):V("",!0)]}),default:f(()=>{var h,p,u,m,y,v,g,_,S,q,R,U,H,L,W,B,E,k,P,T,A,x;return[Q("div",ss,[i.player.powered?(h=o.value)!=null&&h.media_item&&((u=(p=o.value)==null?void 0:p.media_item)==null?void 0:u.media_type)==e(fe).TRACK&&"album"in((m=o.value)==null?void 0:m.media_item)&&((y=o.value)!=null&&y.media_item.album)?(c(),b("div",rs,C(e(ra)((v=o.value)==null?void 0:v.media_item.artists))+" • "+C((g=o.value)==null?void 0:g.media_item.album.name),1)):(_=o.value)!=null&&_.media_item&&"artists"in((S=o.value)==null?void 0:S.media_item)&&((q=o.value)==null?void 0:q.media_item.artists.length)>0?(c(),b("div",us,C((R=o.value)==null?void 0:R.media_item.artists[0].name),1)):(H=(U=o.value)==null?void 0:U.streamdetails)!=null&&H.stream_metadata?(c(),b("div",ds,[(B=(W=(L=o.value)==null?void 0:L.streamdetails)==null?void 0:W.stream_metadata)!=null&&B.artist?(c(),b("span",cs,C(o.value.streamdetails.stream_metadata.artist)+" - ",1)):V("",!0),D(C((k=(E=o.value)==null?void 0:E.streamdetails)==null?void 0:k.stream_metadata.title),1)])):(T=(P=o.value)==null?void 0:P.media_item)!=null&&T.metadata.description?(c(),b("div",ms,C((A=o.value)==null?void 0:A.media_item.metadata.description),1)):!s.value&&i.player.active_source?(c(),b("div",vs,C(i.$t("external_source_active",[i.player.active_source])),1)):((x=s.value)==null?void 0:x.items)==0?(c(),b("div",ps,C(i.$t("queue_empty")),1)):V("",!0):(c(),b("div",ns,C(i.$t("off")),1))])]}),append:f(()=>{var h;return[i.player.supported_features.includes(e(ne).POWER)?(c(),I(le,{key:0,variant:"icon",class:"player-command-btn",onClick:r[0]||(r[0]=se(p=>{e(w).playerCommandPowerToggle(i.player.player_id),e(t).activePlayerId=i.player.player_id},["stop"]))},{default:f(()=>[d(N,{size:e(G)({breakpoint:"phone"})?"30":"32"},{default:f(()=>r[2]||(r[2]=[D("mdi-power")])),_:1},8,["size"])]),_:1})):V("",!0),i.player.state==e(be).PAUSED||i.player.state==e(be).PLAYING||(h=s.value)!=null&&h.items?(c(),I(le,{key:1,variant:"icon",class:"player-command-btn",onClick:r[1]||(r[1]=se(p=>{e(w).playerCommandPlayPause(i.player.player_id),e(t).activePlayerId=i.player.player_id},["stop"]))},{default:f(()=>[d(N,{size:e(G)({breakpoint:"phone"})?"30":"32",icon:i.player.state==e(be).PLAYING?"mdi-pause":"mdi-play"},null,8,["size","icon"])]),_:1})):V("",!0),i.showMenuButton?(c(),I(le,{key:2,variant:"icon",class:"player-command-btn",style:{"margin-right":"-5px"},onClick:se(n,["stop"])},{default:f(()=>[d(N,{size:e(G)({breakpoint:"phone"})?"30":"32"},{default:f(()=>r[3]||(r[3]=[D("mdi-dots-vertical")])),_:1},8,["size"])]),_:1})):V("",!0)]}),_:1}),i.showVolumeControl?(c(),I(qa,{key:0,player:i.player,"show-sync-controls":i.showSyncControls,"show-heading-row":!1,"show-sub-players":i.showSubPlayers,"show-volume-control":i.player.powered,"allow-wheel":!1},null,8,["player","show-sync-controls","show-sub-players","show-volume-control"])):V("",!0)]),_:1},8,["class"]))}}),rt=oe(ys,[["__scopeId","data-v-13b33ed9"]]),fs={style:{float:"right","margin-right":"-20px"}},hs=F({__name:"PlayerSelect",setup(a){const l=z(!1),s=z(null),o=$(()=>Object.values(w.players).filter(p=>i(p,!1,!1,!1)).sort((p,u)=>{var m;return p.display_name.toUpperCase()>((m=u.display_name)==null?void 0:m.toUpperCase())?1:-1}));te(()=>t.activePlayerId,p=>{p&&localStorage.setItem("mass.LastPlayerId",p)}),te(()=>w.players,p=>{p&&!t.activePlayer&&r()},{deep:!0}),te(()=>w.state,p=>{p.value!=Ja.CONNECTED&&(t.activePlayerId=void 0)},{deep:!0});function n(p,u=!1){t.activePlayerId==p.player_id?l.value=!l.value:(l.value=!1,t.activePlayerId=p.player_id),u&&(t.showPlayersMenu=!1)}qe(()=>{r()});const i=function(p,u=!0,m=!1,y=!1){return!(!p.enabled||!y&&p.hidden||!u&&!p.available||p.synced_to&&!m||!m&&p.type==he.PLAYER&&p.active_group)},r=function(){if(t.activePlayer&&i(t.activePlayer,!1,!1,!1))return;const p=h();p&&(t.activePlayerId=p.player_id)},h=function(){const p=localStorage.getItem("mass.LastPlayerId");if(p&&p in w.players&&i(w.players[p],!1,!1,!1))return w.players[p]};return(p,u)=>(c(),b(Y,null,[d(pa,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":u[0]||(u[0]=m=>e(t).showPlayersMenu=m)},null,8,["modelValue"]),e(t).showPlayersMenu?(c(),I(_a,{key:0,modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":u[3]||(u[3]=m=>e(t).showPlayersMenu=m),location:"right",app:"",clipped:"",temporary:"",touchless:"",width:500,style:{"z-index":"99999"},"z-index":"99999"},{default:f(()=>[Q("div",null,[d(Ne,{class:"title",style:{"padding-top":"20px","padding-bottom":"20px"}},{default:f(()=>[Q("b",null,C(p.$t("players")),1),Q("div",fs,[d(le,{variant:"icon",to:{name:"playersettings"}},{default:f(()=>[d(N,{size:"30"},{default:f(()=>u[4]||(u[4]=[D("mdi-cog-outline")])),_:1})]),_:1}),d(le,{variant:"icon",onClick:u[1]||(u[1]=m=>e(t).showPlayersMenu=!1)},{default:f(()=>[d(N,{size:"30"},{default:f(()=>u[5]||(u[5]=[D("mdi-window-close")])),_:1})]),_:1})])]),_:1}),d(Ye),d(Ve,{flat:"",style:{margin:"10px 5px 15px 5px"}},{default:f(()=>[(c(!0),b(Y,null,ie(o.value.filter(m=>{var y;return[e(be).PLAYING,e(be).PAUSED].includes(m.state)||((y=e(w).queues[m.player_id])==null?void 0:y.items)>0&&m.powered||m.player_id==e(t).activePlayerId}),m=>(c(),I(rt,{id:m.player_id,key:m.player_id,player:m,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&m.player_id==e(t).activePlayerId,"show-sync-controls":m.supported_features.includes(e(ne).SET_MEMBERS),onClick:y=>n(m)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1}),d(Al,{modelValue:s.value,"onUpdate:modelValue":u[2]||(u[2]=m=>s.value=m),variant:"accordion",flat:"",class:"expansion"},{default:f(()=>[d(xt,{style:{padding:"0"}},{default:f(()=>[d(Yt,null,{default:f(()=>[Q("h3",null,C(p.$t("all_players")),1)]),_:1}),d(Xt,{style:{padding:"0"}},{default:f(()=>[d(Ve,{flat:"",style:{margin:"-20px 3px 5px 3px"}},{default:f(()=>[(c(!0),b(Y,null,ie(o.value.filter(m=>m.type!=e(he).GROUP),m=>(c(),I(rt,{id:m.player_id,key:m.player_id,player:m,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&m.player_id==e(t).activePlayerId&&m.group_childs.length>0,"show-sync-controls":m.supported_features.includes(e(ne).SET_MEMBERS),onClick:y=>n(m)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1})]),_:1})]),_:1}),d(xt,{style:{padding:"0"}},{default:f(()=>[d(Yt,null,{default:f(()=>[Q("h3",null,C(p.$t("all_groups")),1)]),_:1}),d(Xt,{style:{padding:"0"}},{default:f(()=>[d(Ve,{flat:"",style:{margin:"-20px 3px 5px 3px"}},{default:f(()=>[(c(!0),b(Y,null,ie(o.value.filter(m=>m.type==e(he).GROUP),m=>(c(),I(rt,{id:m.player_id,key:m.player_id,player:m,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&m.player_id==e(t).activePlayerId,"show-sync-controls":m.supported_features.includes(e(ne).SET_MEMBERS),onClick:y=>n(m)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])):V("",!0)],64))}}),_s=oe(hs,[["__scopeId","data-v-bd638be0"]]);function gs(a={}){const{immediate:l=!1,onNeedRefresh:s,onOfflineReady:o,onRegistered:n,onRegisteredSW:i,onRegisterError:r}=a;let h,p,u;const m=async(v=!0)=>{await p,u==null||u()};async function y(){if("serviceWorker"in navigator){if(h=await el(async()=>{const{Workbox:v}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:v}},[],import.meta.url).then(({Workbox:v})=>new v("./sw.js",{scope:"./",type:"classic"})).catch(v=>{r==null||r(v)}),!h)return;u=()=>{h==null||h.messageSkipWaiting()};{let v=!1;const g=()=>{v=!0,h==null||h.addEventListener("controlling",_=>{_.isUpdate&&window.location.reload()}),s==null||s()};h.addEventListener("installed",_=>{typeof _.isUpdate>"u"?typeof _.isExternal<"u"&&_.isExternal?g():!v&&(o==null||o()):_.isUpdate||o==null||o()}),h.addEventListener("waiting",g)}h.register({immediate:l}).then(v=>{i?i("./sw.js",v):n==null||n(v)}).catch(v=>{r==null||r(v)})}}return p=y(),m}function bs(a={}){const{immediate:l=!0,onNeedRefresh:s,onOfflineReady:o,onRegistered:n,onRegisteredSW:i,onRegisterError:r}=a,h=z(!1),p=z(!1);return{updateServiceWorker:gs({immediate:l,onNeedRefresh(){h.value=!0,s==null||s()},onOfflineReady(){p.value=!0,o==null||o()},onRegistered:n,onRegisteredSW:i,onRegisterError:r}),offlineReady:p,needRefresh:h}}const ws={key:0,class:"pwa-toast",role:"alert"},ks={class:"message"},Ps={key:0},Cs={key:1},Vs=F({__name:"ReloadPrompt",setup(a){const{offlineReady:l,needRefresh:s,updateServiceWorker:o}=bs(),n=async()=>{l.value=!1,s.value=!1};return(i,r)=>e(l)||e(s)?(c(),b("div",ws,[Q("div",ks,[e(l)?(c(),b("span",Ps," App ready to work offline ")):(c(),b("span",Cs," New content available, click on reload button to update. "))]),e(s)?(c(),b("button",{key:0,onClick:r[0]||(r[0]=h=>e(o)())},"Reload")):V("",!0),Q("button",{onClick:n},"Close")])):V("",!0)}}),Is=me({...Ie(),...Vl({fullHeight:!0}),...Ke()},"VApp"),$s=ve()({name:"VApp",props:Is(),setup(a,l){let{slots:s}=l;const o=at(a),{layoutClasses:n,getLayoutItem:i,items:r,layoutRef:h}=Il(a),{rtlClasses:p}=pt();return pe(()=>{var u;return d("div",{ref:h,class:["v-application",o.themeClasses.value,n.value,p.value,a.class],style:[a.style]},[d("div",{class:"v-application__wrap"},[(u=s.default)==null?void 0:u.call(s)])])}),{getLayoutItem:i,items:r,theme:o}}}),Ss=F({__name:"Default",setup(a){const l=tl();return te([()=>l.query.player,()=>Object.keys(w.players).length],([s])=>{var i;if(!s)return;const o=s.toString().toLowerCase(),n=(i=Object.values(w.players).find(r=>r.player_id.toLowerCase()===o||r.display_name.toLowerCase()===o))==null?void 0:i.player_id;n&&(t.activePlayerId=n)},{immediate:!0}),te(()=>l.query.showFullscreenPlayer,s=>{t.showFullscreenPlayer=!!s},{immediate:!0}),te(()=>l.query.frameless,s=>{s&&(t.frameless=!0)},{immediate:!0}),(s,o)=>(c(),b(Y,null,[e(t).connected?(c(),I($s,{key:0},{default:f(()=>[e(t).frameless?(c(),I(Kt,{key:0})):(c(),b(Y,{key:1},[d(_s),d(jo),d(Kt)],64))]),_:1})):(c(),I(pa,{key:1,class:"centeredoverlay",persistent:"","model-value":!e(t).connected},{default:f(()=>[Q("div",null,[d(fl,{color:"primary",indeterminate:"",size:"64"})])]),_:1},8,["model-value"])),e(t).isInStandaloneMode?(c(),I(Vs,{key:2})):V("",!0)],64))}}),Js=oe(Ss,[["__scopeId","data-v-33a00054"]]);export{Js as default};
