{"ast":null,"code":"import _toConsumableArray from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _defineProperty from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{AddCircle}from'@mui/icons-material';import DeleteIcon from'@mui/icons-material/Delete';import{Alert,Box,IconButton,Snackbar,TextField}from'@mui/material';import React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddPair=function AddPair(_ref){var customData=_ref.customData,pairData=_ref.pairData,onGetArr=_ref.onGetArr,onJudgeArr=_ref.onJudgeArr;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openSnackbar=_useState2[0],setOpenSnackbar=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),arr=_useState4[0],setArr=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),arrId=_useState6[0],setArrId=_useState6[1];var _useState7=useState(-1),_useState8=_slicedToArray(_useState7,2),defaultIndex=_useState8[0],setDefaultIndex=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isNotUniqueKey=_useState10[0],setIsNotUniqueKey=_useState10[1];useEffect(function(){onGetArr(arr);},[arr]);useEffect(function(){var dataArr=[];pairData.forEach(function(item,index){var _dataArr$push;dataArr.push((_dataArr$push={id:index},_defineProperty(_dataArr$push,customData.key,item[customData.key]),_defineProperty(_dataArr$push,customData.value,item[customData.value]),_dataArr$push));});setArrId(pairData.length);setArr(dataArr);},[pairData]);var updateArr=function updateArr(index,type,newValue){setArr(arr.map(function(pair,subIndex){if(subIndex===index){return _objectSpread(_objectSpread({},pair),{},_defineProperty({},type,newValue));}return pair;}));if(type===customData.key){setDefaultIndex(-1);setIsNotUniqueKey(false);arr.forEach(function(pair){if(pair[customData.key]===newValue){setDefaultIndex(index);setIsNotUniqueKey(true);}});}};var handleDeleteArr=function handleDeleteArr(index){setDefaultIndex(-1);setArr(arr.filter(function(_,subIndex){return index!==subIndex;}));onGetArr(arr);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',margin:'20px 0 0 15px'},children:[/*#__PURE__*/_jsx(\"div\",{children:customData.title}),/*#__PURE__*/_jsx(IconButton,{color:\"primary\",onClick:function onClick(){setArrId(arrId+1);var obj={id:arrId};obj[customData.key]='';obj[customData.value]='';onJudgeArr(arr,[customData.key,customData.value])?setArr([].concat(_toConsumableArray(arr),[obj])):setOpenSnackbar(true);},children:/*#__PURE__*/_jsx(AddCircle,{})})]}),/*#__PURE__*/_jsx(Box,{children:arr.map(function(item,index){return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginTop:'10px',marginLeft:'10px'},children:[/*#__PURE__*/_jsx(TextField,{label:customData.key,value:item[customData.key],onChange:function onChange(e){updateArr(index,customData.key,e.target.value);},style:{width:'44%'}}),/*#__PURE__*/_jsx(TextField,{label:customData.value,value:item[customData.value],onChange:function onChange(e){updateArr(index,customData.value,e.target.value);},style:{width:'44%'}}),/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"delete\",onClick:function onClick(){return handleDeleteArr(index);},style:{marginLeft:'10px'},children:/*#__PURE__*/_jsx(DeleteIcon,{})})]}),isNotUniqueKey&&defaultIndex===index&&/*#__PURE__*/_jsxs(Alert,{severity:\"error\",children:[customData.key,\" must be unique\"]})]},item.id);})})]}),/*#__PURE__*/_jsx(Snackbar,{anchorOrigin:{vertical:'top',horizontal:'center'},open:openSnackbar,onClose:function onClose(){return setOpenSnackbar(false);},message:\"Please fill in the complete parameters before adding!!\"},'top'+'center')]});};export default AddPair;","map":{"version":3,"names":["AddCircle","DeleteIcon","Alert","Box","IconButton","Snackbar","TextField","React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","AddPair","_ref","customData","pairData","onGetArr","onJudgeArr","_useState","_useState2","_slicedToArray","openSnackbar","setOpenSnackbar","_useState3","_useState4","arr","setArr","_useState5","_useState6","arrId","setArrId","_useState7","_useState8","defaultIndex","setDefaultIndex","_useState9","_useState10","isNotUniqueKey","setIsNotUniqueKey","dataArr","forEach","item","index","_dataArr$push","push","id","_defineProperty","key","value","length","updateArr","type","newValue","map","pair","subIndex","_objectSpread","handleDeleteArr","filter","_","children","style","display","alignItems","margin","title","color","onClick","obj","concat","_toConsumableArray","justifyContent","marginTop","marginLeft","label","onChange","e","target","width","severity","anchorOrigin","vertical","horizontal","open","onClose","message"],"sources":["/home/runner/work/inference/inference/xinference/web/ui/src/scenes/launch_model/components/addPair.js"],"sourcesContent":["import { AddCircle } from '@mui/icons-material'\nimport DeleteIcon from '@mui/icons-material/Delete'\nimport { Alert, Box, IconButton, Snackbar, TextField } from '@mui/material'\nimport React, { useEffect, useState } from 'react'\n\nconst AddPair = ({ customData, pairData, onGetArr, onJudgeArr }) => {\n  const [openSnackbar, setOpenSnackbar] = useState(false)\n  const [arr, setArr] = useState([])\n  const [arrId, setArrId] = useState(0)\n  const [defaultIndex, setDefaultIndex] = useState(-1)\n  const [isNotUniqueKey, setIsNotUniqueKey] = useState(false)\n\n  useEffect(() => {\n    onGetArr(arr)\n  }, [arr])\n\n  useEffect(() => {\n    const dataArr = []\n    pairData.forEach((item, index) => {\n      dataArr.push({\n        id: index,\n        [customData.key]: item[customData.key],\n        [customData.value]: item[customData.value],\n      })\n    })\n    setArrId(pairData.length)\n    setArr(dataArr)\n  }, [pairData])\n\n  const updateArr = (index, type, newValue) => {\n    setArr(\n      arr.map((pair, subIndex) => {\n        if (subIndex === index) {\n          return { ...pair, [type]: newValue }\n        }\n        return pair\n      })\n    )\n    if (type === customData.key) {\n      setDefaultIndex(-1)\n      setIsNotUniqueKey(false)\n      arr.forEach((pair) => {\n        if (pair[customData.key] === newValue) {\n          setDefaultIndex(index)\n          setIsNotUniqueKey(true)\n        }\n      })\n    }\n  }\n\n  const handleDeleteArr = (index) => {\n    setDefaultIndex(-1)\n    setArr(\n      arr.filter((_, subIndex) => {\n        return index !== subIndex\n      })\n    )\n    onGetArr(arr)\n  }\n\n  return (\n    <div>\n      <Box>\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            margin: '20px 0 0 15px',\n          }}\n        >\n          <div>{customData.title}</div>\n          <IconButton\n            color=\"primary\"\n            onClick={() => {\n              setArrId(arrId + 1)\n              let obj = { id: arrId }\n              obj[customData.key] = ''\n              obj[customData.value] = ''\n              onJudgeArr(arr, [customData.key, customData.value])\n                ? setArr([...arr, obj])\n                : setOpenSnackbar(true)\n            }}\n          >\n            <AddCircle />\n          </IconButton>\n        </div>\n        <Box>\n          {arr.map((item, index) => {\n            return (\n              <Box key={item.id}>\n                <div\n                  style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    marginTop: '10px',\n                    marginLeft: '10px',\n                  }}\n                >\n                  <TextField\n                    label={customData.key}\n                    value={item[customData.key]}\n                    onChange={(e) => {\n                      updateArr(index, customData.key, e.target.value)\n                    }}\n                    style={{ width: '44%' }}\n                  />\n                  <TextField\n                    label={customData.value}\n                    value={item[customData.value]}\n                    onChange={(e) => {\n                      updateArr(index, customData.value, e.target.value)\n                    }}\n                    style={{ width: '44%' }}\n                  />\n                  <IconButton\n                    aria-label=\"delete\"\n                    onClick={() => handleDeleteArr(index)}\n                    style={{ marginLeft: '10px' }}\n                  >\n                    <DeleteIcon />\n                  </IconButton>\n                </div>\n                {isNotUniqueKey && defaultIndex === index && (\n                  <Alert severity=\"error\">\n                    {customData.key} must be unique\n                  </Alert>\n                )}\n              </Box>\n            )\n          })}\n        </Box>\n      </Box>\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={openSnackbar}\n        onClose={() => setOpenSnackbar(false)}\n        message=\"Please fill in the complete parameters before adding!!\"\n        key={'top' + 'center'}\n      />\n    </div>\n  )\n}\n\nexport default AddPair\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}