\newcommand{\truncatehash}[1]{%
  \StrLeft{#1}{12}\ldots%
}

\hypertarget{protocol-summary}{%
\section{Protocol Summary}\label{protocol-summary}}

\input{protocol_summary.tex}

\hypertarget{audit-scope}{%
\section{Audit Scope}\label{audit-scope}}

\input{audit_scope.tex}

\hypertarget{executive-summary}{%
\section{Executive Summary}\label{executive-summary}}

% FIXME -> PLACEHOLDERS are replace for the information in "./source/summary-information.conf"
Over the course of __PLACEHOLDER__REVIEW_LENGTH days, the Cyfrin team conducted an audit on the
\href{__PLACEHOLDER__REPO_LINK}{__PLACEHOLDER__PROJECT_NAME}
smart contracts provided by
\href{__PLACEHOLDER__TEAM_WEBSITE}{__PLACEHOLDER__TEAM_NAME}.
In this period, a total of __PLACEHOLDER__ISSUE_TOTAL_COUNT issues were found.

% insert new line
\bigbreak
\input{executive_summary.tex}

\vspace{1cm}

% Temporarily adjust the float placement parameters
\renewcommand{\floatpagefraction}{.8}%
\renewcommand{\textfraction}{.1}%
\renewcommand{\topfraction}{.9}%
\renewcommand{\bottomfraction}{.9}%
\setcounter{topnumber}{2}
\setcounter{bottomnumber}{2}
\setcounter{totalnumber}{4}

\begin{table}[H]
  \centering
  \caption*{\textbf{Summary}}
  \begin{tabular}{|p{3cm}|p{6cm}|}
    \hline
    Project Name & __PLACEHOLDER__PROJECT_NAME \\
    \hline
    Repository & \href{__PLACEHOLDER__REPO_LINK}{__PLACEHOLDER__REPO_NAME} \\
    \hline
    Commit & \href{__PLACEHOLDER__COMMIT_HASH_LINK}{\truncatehash{__PLACEHOLDER__COMMIT_HASH}} \\
    \hline
    \IfStrEq{__PLACEHOLDER__FIX_COMMIT_HASH}{}{}
    {Fix Commit & \href{__PLACEHOLDER__FIX_COMMIT_HASH_LINK}{\truncatehash{__PLACEHOLDER__FIX_COMMIT_HASH}} \\ \hline}
    \IfStrEq{__PLACEHOLDER__REPO_LINK_2}{}{}
    {Repository 2 & \href{__PLACEHOLDER__REPO_LINK_2}{__PLACEHOLDER__REPO_NAME_2} \\ \hline
    Commit & \href{__PLACEHOLDER__COMMIT_HASH_LINK_2}{\truncatehash{__PLACEHOLDER__COMMIT_HASH_2}} \\
    \hline
    \IfStrEq{__PLACEHOLDER__FIX_COMMIT_HASH_2}{}{}
    {Fix Commit & \href{__PLACEHOLDER__FIX_COMMIT_HASH_LINK_2}{\truncatehash{__PLACEHOLDER__FIX_COMMIT_HASH_2}} \\ \hline}
    \hline}
    \IfStrEq{__PLACEHOLDER__REPO_LINK_3}{}{}
    {Repository 3 & \href{__PLACEHOLDER__REPO_LINK_3}{__PLACEHOLDER__REPO_NAME_3} \\
    \hline
    Commit & \href{__PLACEHOLDER__COMMIT_HASH_LINK_3}{\truncatehash{__PLACEHOLDER__COMMIT_HASH_3}} \\
    \hline
    \IfStrEq{__PLACEHOLDER__FIX_COMMIT_HASH_3}{}{}
    {Fix Commit & \href{__PLACEHOLDER__FIX_COMMIT_HASH_LINK_3}{\truncatehash{__PLACEHOLDER__FIX_COMMIT_HASH_3}} \\ \hline}
    \hline}
    Audit Timeline & __PLACEHOLDER__AUDIT_TIMELINE \\
    \hline
    Methods & __PLACEHOLDER__AUDIT_METHODS \\
    \hline
  \end{tabular}
\end{table}

\begin{table}[H]
  \centering
  \caption*{\textbf{Issues Found}}
  \begin{tabular}{|p{3cm}|p{6cm}|}
    \hline
    Critical Risk & __PLACEHOLDER__ISSUE_CRITICAL_COUNT \\
    \hline
    High Risk & __PLACEHOLDER__ISSUE_HIGH_COUNT \\
    \hline
    Medium Risk & __PLACEHOLDER__ISSUE_MEDIUM_COUNT \\
    \hline
    Low Risk & __PLACEHOLDER__ISSUE_LOW_COUNT \\
    \hline
    Informational & __PLACEHOLDER__ISSUE_INFORMATIONAL_COUNT \\
    \hline
    Gas Optimizations & __PLACEHOLDER__ISSUE_GAS_OPTIMIZATION_COUNT \\
    \hline
    Total Issues & __PLACEHOLDER__ISSUE_TOTAL_COUNT \\
    \hline
  \end{tabular}
\end{table}

% Reset float placement parameters to their defaults
\renewcommand{\floatpagefraction}{.5}%
\renewcommand{\textfraction}{.2}%
\renewcommand{\topfraction}{.7}%
\renewcommand{\bottomfraction}{.3}%
\setcounter{topnumber}{2}
\setcounter{bottomnumber}{1}
\setcounter{totalnumber}{3}

\begin{longtable}{|p{12cm}|p{3cm}|}
  \caption*{\textbf{Summary of Findings}}
  % __PLACEHOLDER__SUMMARY_OF_FINDINGS_START
    __PLACEHOLDER__SUMMARY_OF_FINDINGS
  % __PLACEHOLDER__SUMMARY_OF_FINDINGS_END
\end{longtable}
